"use strict";(self.webpackChunkselectdb_portal=self.webpackChunkselectdb_portal||[]).push([[16406],{32885:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"/release-1.2.1","metadata":{"permalink":"/zh-CN/blog/release-1.2.1","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.2.1.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.1 Release","description":"\x3c!--","date":"2023-01-04T00:00:00.000Z","formattedDate":"2023\u5e741\u67084\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.1 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.1 Release","date":"2023-01-04","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"nextItem":{"title":"\u5e94\u7528\u5b9e\u8df5\uff1a\u6570\u4ed3\u4f53\u7cfb\u6548\u7387\u5168\u9762\u63d0\u5347\uff01\u540c\u7a0b\u6570\u79d1\u57fa\u4e8e Apache Doris \u7684\u6570\u636e\u4ed3\u5e93\u5efa\u8bbe","permalink":"/zh-CN/blog/LY"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\u5728 1.2.1 \u7248\u672c\u4e2d\uff0cDoris \u56e2\u961f\u5df2\u7ecf\u4fee\u590d\u4e86\u81ea 1.2.0 \u7248\u672c\u53d1\u5e03\u4ee5\u6765\u7ea6 200 \u4e2a\u95ee\u9898\u6216\u6027\u80fd\u6539\u8fdb\u9879\u3002\u540c\u65f6\uff0c1.2.1 \u7248\u672c\u4e5f\u4f5c\u4e3a 1.2 LTS \u7684\u7b2c\u4e00\u4e2a\u8fed\u4ee3\u7248\u672c\uff0c\u5177\u5907\u66f4\u9ad8\u7684\u7a33\u5b9a\u6027\uff0c\u5efa\u8bae\u6240\u6709\u7528\u6237\u5347\u7ea7\u5230\u8fd9\u4e2a\u7248\u672c\u3002\\n\\n\\n# \u4f18\u5316\u6539\u8fdb\\n\\n### \u652f\u6301\u9ad8\u7cbe\u5ea6\u5c0f\u6570 DecimalV3\\n\\n\u652f\u6301\u7cbe\u5ea6\u66f4\u9ad8\u548c\u6027\u80fd\u66f4\u597d\u7684 DecimalV3\uff0c\u76f8\u8f83\u4e8e\u8fc7\u53bb\u7248\u672c\u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a\\n\\n- \u53ef\u8868\u793a\u8303\u56f4\u66f4\u5927\uff0c\u53d6\u503c\u8303\u56f4\u90fd\u8fdb\u884c\u4e86\u660e\u663e\u6269\u5145\uff0c\u6709\u6548\u6570\u5b57\u8303\u56f4 [1,38]\u3002\\n\\n- \u6027\u80fd\u66f4\u9ad8\uff0c\u6839\u636e\u4e0d\u540c\u7cbe\u5ea6\uff0c\u5360\u7528\u5b58\u50a8\u7a7a\u95f4\u53ef\u81ea\u9002\u5e94\u8c03\u6574\u3002\\n\\n- \u652f\u6301\u66f4\u5b8c\u5907\u7684\u7cbe\u5ea6\u63a8\u6f14\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684\u8868\u8fbe\u5f0f\uff0c\u5e94\u7528\u4e0d\u540c\u7684\u7cbe\u5ea6\u63a8\u6f14\u89c4\u5219\u5bf9\u7ed3\u679c\u7684\u7cbe\u5ea6\u8fdb\u884c\u63a8\u6f14\u3002\\n\\n[DecimalV3](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/DECIMALV3)\\n\\n### \u652f\u6301 Iceberg V2\\n\\n\u652f\u6301 Iceberg V2 (\u4ec5\u652f\u6301 Position Delete\uff0c Equality Delete \u4f1a\u5728\u540e\u7eed\u7248\u672c\u652f\u6301)\uff0c\u53ef\u4ee5\u901a\u8fc7 Multi-Catalog \u529f\u80fd\u8bbf\u95ee Iceberg V2 \u683c\u5f0f\u7684\u8868\u3002\\n\\n\\n### \u652f\u6301 OR \u6761\u4ef6\u8f6c IN \\n\\n\u652f\u6301\u5c06 where \u6761\u4ef6\u8868\u8fbe\u5f0f\u540e\u7684 or \u6761\u4ef6\u8f6c\u6362\u6210 in \u6761\u4ef6\uff0c\u5728\u90e8\u5206\u573a\u666f\u4e2d\u53ef\u4ee5\u63d0\u5347\u6267\u884c\u6548\u7387\u3002 [#15437](https://github.com/apache/doris/pull/15437) [#12872](https://github.com/apache/doris/pull/12872)\\n\\n\\n### \u4f18\u5316 JSONB \u7c7b\u578b\u7684\u5bfc\u5165\u548c\u67e5\u8be2\u6027\u80fd\\n\\n\u4f18\u5316 JSONB \u7c7b\u578b\u7684\u5bfc\u5165\u548c\u67e5\u8be2\u6027\u80fd\uff0c\u5728\u6d4b\u8bd5\u6570\u636e\u4e0a\u7ea6\u6709 70% \u7684\u6027\u80fd\u63d0\u5347\u3002  [#15219](https://github.com/apache/doris/pull/15219)  [#15219](https://github.com/apache/doris/pull/15219)\\n\\n### Stream load \u652f\u6301\u5e26\u5f15\u53f7\u7684 CSV \u6570\u636e \\n\\n\u901a\u8fc7\u5bfc\u5165\u4efb\u52a1\u53c2\u6570 `trim_double_quotes` \u6765\u63a7\u5236\uff0c\u9ed8\u8ba4\u503c\u4e3a false\uff0c\u4e3a true \u65f6\u8868\u793a\u88c1\u526a\u6389 CSV \u6587\u4ef6\u6bcf\u4e2a\u5b57\u6bb5\u6700\u5916\u5c42\u7684\u53cc\u5f15\u53f7\u3002  [#15241](https://github.com/apache/doris/pull/15241)\\n\\n### Broker \u652f\u6301\u817e\u8baf\u4e91 CHDFS \u548c \u767e\u5ea6\u4e91 BOS \u3001AFS \\n\\n\u53ef\u4ee5\u901a\u8fc7 Broker \u8bbf\u95ee\u5b58\u50a8\u5728\u817e\u8baf\u4e91 CHDFS \u548c \u767e\u5ea6\u667a\u80fd\u4e91 BOS\u3001AFS \u4e0a\u7684\u6570\u636e\u3002 [#15297](https://github.com/apache/doris/pull/15297) [#15448](https://github.com/apache/doris/pull/15448)\\n\\n### \u65b0\u589e\u51fd\u6570\\n\\n\u65b0\u589e\u51fd\u6570 `substring_index`\u3002 [#15373](https://github.com/apache/doris/pull/15373)\\n\\n\\n\\n# \u95ee\u9898\u4fee\u590d\\n\\n- \u4fee\u590d\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4ece 1.1.x \u7248\u672c\u5347\u7ea7\u5230 1.2.0 \u7248\u672c\u540e\uff0c\u7528\u6237\u6743\u9650\u4fe1\u606f\u4e22\u5931\u7684\u95ee\u9898\u3002 [#15144](https://github.com/apache/doris/pull/15144)\\n\\n- \u4fee\u590d\u4f7f\u7528 date/datetimev2 \u7c7b\u578b\u8fdb\u884c\u5206\u533a\u65f6\uff0c\u5206\u533a\u503c\u9519\u8bef\u7684\u95ee\u9898\u3002 [#15094](https://github.com/apache/doris/pull/15094)\\n\\n- \u4fee\u590d\u90e8\u5206\u5df2\u53d1\u5e03\u529f\u80fd\u7684 Bug\uff0c\u5177\u4f53\u5217\u8868\u53ef\u53c2\u9605\uff1a[PR List](https://github.com/apache/doris/pulls?q=is%3Apr+label%3Adev%2F1.2.1-merged+is%3Aclosed)\\n\\n\\n# \u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\\n\\n### \u5df2\u77e5\u95ee\u9898\\n\\n- \u8bf7\u52ff\u4f7f\u7528 JDK11 \u4f5c\u4e3a BE \u7684\u8fd0\u884c\u65f6 JDK\uff0c\u4f1a\u5bfc\u81f4 BE Crash\u3002\\n\\n- \u8be5\u7248\u672c\u5bf9csv\u683c\u5f0f\u7684\u8bfb\u53d6\u6027\u80fd\u6709\u4e0b\u964d\uff0c\u4f1a\u5f71\u54cdcsv\u683c\u5f0f\u7684\u5bfc\u5165\u548c\u8bfb\u53d6\u6548\u7387\uff0c\u6211\u4eec\u4f1a\u5728\u4e0b\u4e00\u4e2a\u4e09\u4f4d\u7248\u672c\u5c3d\u5feb\u4fee\u590d\\n\\n### \u884c\u4e3a\u6539\u53d8\\n\\n- BE \u914d\u7f6e\u9879 `high_priority_flush_thread_num_per_store` \u9ed8\u8ba4\u503c\u7531 1 \u6539\u6210 6 \uff0c\u4ee5\u63d0\u5347 Routine Load \u7684\u5199\u5165\u6548\u7387\u3002[#14775](https://github.com/apache/doris/pull/14775)\\n\\n- FE \u914d\u7f6e\u9879 `enable_new_load_scan_node` \u9ed8\u8ba4\u503c\u6539\u4e3a true \uff0c\u5c06\u4f7f\u7528\u65b0\u7684 File Scan Node \u6267\u884c\u5bfc\u5165\u4efb\u52a1\uff0c\u5bf9\u7528\u6237\u65e0\u5f71\u54cd\u3002 [#14808](https://github.com/apache/doris/pull/14808)\\n\\n- \u5220\u9664 FE \u914d\u7f6e\u9879 `enable_multi_catalog`\uff0c\u9ed8\u8ba4\u5f00\u542f Multi-Catalog \u529f\u80fd\u3002\\n\\n- \u9ed8\u8ba4\u5f3a\u5236\u5f00\u542f\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3002\u4f1a\u8bdd\u53d8\u91cf `enable_vectorized_engine` \u5c06\u4e0d\u518d\u751f\u6548\uff0c\u5982\u9700\u91cd\u65b0\u751f\u6548\uff0c\u9700\u5c06 FE \u914d\u7f6e\u9879 `disable_enable_vectorized_engine` \u8bbe\u4e3a false\uff0c\u5e76\u91cd\u542f FE\u3002 [#15213](https://github.com/apache/doris/pull/15213)\\n\\n# \u81f4\u8c22\\n\\n\u6709 45 \u4f4d\u8d21\u732e\u8005\u53c2\u4e0e\u5230 1.2.1 \u7248\u672c\u7684\u5f00\u53d1\u4e0e\u5b8c\u5584\u4e2d\uff0c\u611f\u8c22\u4ed6\u4eec\u7684\u4ed8\u51fa\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff1a\\n\\n@adonis0147\\n\\n@AshinGau\\n\\n@BePPPower\\n\\n@BiteTheDDDDt\\n\\n@ByteYue\\n\\n@caiconghui\\n\\n@cambyzju\\n\\n@chenlinzhong\\n\\n@dataroaring\\n\\n@Doris-Extras\\n\\n@dutyu\\n\\n@eldenmoon\\n\\n@englefly\\n\\n@freemandealer\\n\\n@Gabriel39\\n\\n@HappenLee\\n\\n@Henry2SS\\n\\n@hf200012\\n\\n@jacktengg\\n\\n@Jibing-Li\\n\\n@Kikyou1997\\n\\n@liaoxin01\\n\\n@luozenglin\\n\\n@morningman\\n\\n@morrySnow\\n\\n@mrhhsg\\n\\n@nextdreamblue\\n\\n@qidaye\\n\\n@spaces-X\\n\\n@starocean999\\n\\n@wangshuo128\\n\\n@weizuo93\\n\\n@wsjz\\n\\n@xiaokang\\n\\n@xinyiZzz\\n\\n@xutaoustc\\n\\n@yangzhg\\n\\n@yiguolei\\n\\n@yixiutt\\n\\n@Yulei-Yang\\n\\n@yuxuan-luo\\n\\n@zenoyang\\n\\n@zhangstar333\\n\\n@zhannngchen\\n\\n@zhengshengjun"},{"id":"/LY","metadata":{"permalink":"/zh-CN/blog/LY","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/LY.md","title":"\u5e94\u7528\u5b9e\u8df5\uff1a\u6570\u4ed3\u4f53\u7cfb\u6548\u7387\u5168\u9762\u63d0\u5347\uff01\u540c\u7a0b\u6570\u79d1\u57fa\u4e8e Apache Doris \u7684\u6570\u636e\u4ed3\u5e93\u5efa\u8bbe","description":"\x3c!--","date":"2022-12-19T00:00:00.000Z","formattedDate":"2022\u5e7412\u670819\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u738b\u661f"}],"frontMatter":{"title":"\u5e94\u7528\u5b9e\u8df5\uff1a\u6570\u4ed3\u4f53\u7cfb\u6548\u7387\u5168\u9762\u63d0\u5347\uff01\u540c\u7a0b\u6570\u79d1\u57fa\u4e8e Apache Doris \u7684\u6570\u636e\u4ed3\u5e93\u5efa\u8bbe","language":"zh","summary":"\u540c\u7a0b\u6570\u79d1\u6210\u7acb\u4e8e 2015 \u5e74\uff0c\u662f\u540c\u7a0b\u96c6\u56e2\u65d7\u4e0b\u7684\u65c5\u6e38\u4ea7\u4e1a\u91d1\u878d\u670d\u52a1\u5e73\u53f0\u30022020 \u5e74\uff0c\u540c\u7a0b\u6570\u79d1\u7531\u4e8e\u770b\u5230\u4e86 Apache Doris \u4e30\u5bcc\u7684\u6570\u636e\u63a5\u5165\u65b9\u5f0f\u3001\u4f18\u5f02\u7684\u5e76\u884c\u8fd0\u7b97\u80fd\u529b\u548c\u6781\u7b80\u8fd0\u7ef4\u7684\u7279\u6027\uff0c\u5f15\u5165\u4e86Apache Doris \u8fdb\u884c\u6570\u4ed3\u67b6\u6784\u6539\u9020\u3002\u672c\u6587\u8be6\u7ec6\u8bb2\u8ff0\u4e86\u540c\u7a0b\u6570\u79d1\u6570\u4ed3\u67b6\u6784\u4ece1.0 \u5230 2.0 \u7684\u6f14\u8fdb\u8fc7\u7a0b\u53ca\u4f7f\u7528Doris\u8fc7\u7a0b\u4e2d\u7684\u5e94\u7528\u5b9e\u8df5\u3002","date":"2022-12-19","author":"\u738b\u661f","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.1 Release","permalink":"/zh-CN/blog/release-1.2.1"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.5 Release","permalink":"/zh-CN/blog/release-1.1.5"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n> \u5bfc\u8bfb\uff1a\u540c\u7a0b\u6570\u79d1\u6210\u7acb\u4e8e 2015 \u5e74\uff0c\u662f\u540c\u7a0b\u96c6\u56e2\u65d7\u4e0b\u7684\u65c5\u6e38\u4ea7\u4e1a\u91d1\u878d\u670d\u52a1\u5e73\u53f0\u30022020 \u5e74\uff0c\u540c\u7a0b\u6570\u79d1\u7531\u4e8e\u770b\u5230\u4e86 Apache Doris \u4e30\u5bcc\u7684\u6570\u636e\u63a5\u5165\u65b9\u5f0f\u3001\u4f18\u5f02\u7684\u5e76\u884c\u8fd0\u7b97\u80fd\u529b\u548c\u6781\u7b80\u8fd0\u7ef4\u7684\u7279\u6027\uff0c\u5f15\u5165\u4e86Apache Doris \u8fdb\u884c\u6570\u4ed3\u67b6\u6784\u6539\u9020\u3002\u672c\u6587\u8be6\u7ec6\u8bb2\u8ff0\u4e86\u540c\u7a0b\u6570\u79d1\u6570\u4ed3\u67b6\u6784\u4ece1.0 \u5230 2.0 \u7684\u6f14\u8fdb\u8fc7\u7a0b\u53ca\u4f7f\u7528Doris\u8fc7\u7a0b\u4e2d\u7684\u5e94\u7528\u5b9e\u8df5\u3002\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u6240\u5e2e\u52a9\u3002\\n\\n> \u4f5c\u8005\uff5c\u540c\u7a0b\u6570\u79d1\u5927\u6570\u636e\u9ad8\u7ea7\u5de5\u7a0b\u5e08 \u738b\u661f\\n\\n![kv](/images/LY/zh/kv.png)\\n\\n# \u4e1a\u52a1\u80cc\u666f\\n\\n## \u4e1a\u52a1\u4ecb\u7ecd\\n\u540c\u7a0b\u6570\u79d1\u662f\u540c\u7a0b\u96c6\u56e2\u65d7\u4e0b\u7684\u65c5\u6e38\u91d1\u878d\u670d\u52a1\u5e73\u53f0\uff0c\u5176\u524d\u8eab\u662f\u540c\u7a0b\u91d1\u670d\u3002\u6b63\u5f0f\u6210\u7acb\u4e8e 2015 \u5e74\uff0c\u540c\u7a0b\u6570\u79d1\u4ee5\u201c\u6570\u5b57\u79d1\u6280\u5f15\u9886\u65c5\u6e38\u4ea7\u4e1a\u201d\u4e3a\u613f\u666f\uff0c\u575a\u6301\u4ee5\u79d1\u6280\u7684\u529b\u91cf\uff0c\u8d4b\u80fd\u6211\u56fd\u65c5\u6e38\u4ea7\u4e1a\u3002\\n\u76ee\u524d\uff0c\u540c\u7a0b\u6570\u79d1\u7684\u4e1a\u52a1\u6db5\u76d6\u91d1\u878d\u670d\u52a1\u3001\u6d88\u8d39\u91d1\u878d\u670d\u52a1\u3001\u91d1\u878d\u79d1\u6280\u53ca\u6570\u5b57\u79d1\u6280\u7b49\u677f\u5757\uff0c\u7d2f\u8ba1\u670d\u52a1\u8986\u76d6\u8d85\u8fc7\u5343\u4e07\u7528\u6237\u548c 76 \u5ea7\u57ce\u5e02\u3002\\n\\n## \u4e1a\u52a1\u9700\u6c42\\n\\n\u5305\u542b\u56db\u5927\u7c7b\uff1a\\n- \u770b\u677f\u7c7b\uff1a\u5305\u62ec\u5b9e\u65f6\u9a7e\u9a76\u8231\u4ee5\u53ca T+1 \u4e1a\u52a1\u770b\u677f\u7b49\u3002\\n- \u9884\u8b66\u7c7b\uff1a\u5305\u62ec\u98ce\u63a7\u7194\u65ad\u3001\u8d44\u91d1\u5f02\u5e38\u4ee5\u53ca\u6d41\u91cf\u76d1\u63a7\u7b49\u3002\\n- \u5206\u6790\u7c7b\uff1a\u5305\u62ec\u53ca\u65f6\u6027\u6570\u636e\u67e5\u8be2\u5206\u6790\u4ee5\u53ca\u4e34\u65f6\u53d6\u6570\u7b49\u3002\\n- \u8d22\u52a1\u7c7b\uff1a\u5305\u62ec\u6e05\u7b97\u4ee5\u53ca\u652f\u4ed8\u5bf9\u8d26\u9700\u6c42\u3002\\n\\n# \u67b6\u6784\u6f14\u8fdb\u4e4b 1.0\\n\\n## \u5de5\u4f5c\u6d41\u7a0b\\n\\n![1](/images/LY/zh/1.png)\\n\\n\u6211\u4eec\u6700\u521d\u7684\u6570\u4ed3\u67b6\u6784\u6cbf\u88ad\u4e86\u524d\u51e0\u5e74\u975e\u5e38\u6d41\u884c\u7684SteamSets \u548c Apache Kudu \u7ec4\u5408\u7684\u7b2c\u4e00\u4ee3\u67b6\u6784\u3002\u8be5\u67b6\u6784\u4e2d\uff0cBinlog \u901a\u8fc7StreamSets\u540e\uff0c\u901a\u8fc7\u5b9e\u65f6\u91c7\u96c6\u540e\u5199\u5165 Apache Kudu \u4e2d\uff0c\u6700\u540e\u901a\u8fc7 Apache Impala \u548c\u53ef\u89c6\u5316\u5de5\u5177\u8fdb\u884c\u67e5\u8be2\u548c\u4f7f\u7528\u3002\\n\\n\u4e0d\u8db3\uff1a\\n- \u7ec4\u4ef6\u5f15\u5165\u8fc7\u591a\uff0c\u7ef4\u62a4\u6210\u672c\u968f\u4e4b\u589e\u52a0\\n- \u591a\u79cd\u6280\u672f\u67b6\u6784\u548c\u8fc7\u957f\u7684\u5f00\u53d1\u94fe\u8def\uff0c\u63d0\u9ad8\u4e86\u6570\u4ed3\u7814\u53d1\u4eba\u5458\u7684\u5b66\u4e60\u6210\u672c\uff0c\u6570\u4ed3\u4eba\u5458\u9700\u8981\u5728\u4e0d\u540c\u7ec4\u4ef6\u4e4b\u95f4\u8fdb\u884c\u5f00\u53d1\uff0c\u5bfc\u81f4\u5f00\u53d1\u6548\u7387\u964d\u4f4e\u3002\\n- Apache Kudu \u5728\u5927\u8868\u5173\u8054 Join \u65b9\u9762\u6027\u80fd\u5dee\u5f3a\u4eba\u610f\u3002\\n- \u7531\u4e8e\u6570\u4ed3\u4f7f\u7528\u4e86 CDH\u7ec4\u4ef6\u642d\u5efa\uff0c\u79bb\u7ebf\u548c\u5b9e\u65f6\u96c6\u7fa4\u5e76\u672a\u8fdb\u884c\u5206\u79bb\uff0c\u5f62\u6210\u8d44\u6e90\u4e4b\u95f4\u7684\u76f8\u4e92\u7ade\u4e89\uff1b\u5728\u79bb\u7ebf\u6570\u636e\u6279\u91cf\u5904\u7406\u65f6\u5bf9 IO \u6216\u78c1\u76d8\u6d88\u8017\u8f83\u5927\uff0c\u65e0\u6cd5\u4fdd\u8bc1\u5b9e\u65f6\u6570\u636e\u7684\u53ca\u65f6\u6027\u3002\\n- \u867d\u7136 SteamSets \u914d\u5907\u4e86\u9884\u8b66\u80fd\u529b\uff0c\u4f46\u4f5c\u4e1a\u6062\u590d\u80fd\u529b\u4ecd\u76f8\u5bf9\u6b20\u7f3a\u3002\u5728\u914d\u7f6e\u591a\u4e2a\u4efb\u52a1\u65f6\uff0c JVM \u7684\u6d88\u8017\u8f83\u5927\uff0c\u5bfc\u81f4\u6062\u590d\u901f\u5ea6\u8f83\u6162\u3002\\n\\n# \u67b6\u6784\u6f14\u8fdb\u4e4b 2.0\\n\\n## \u8c03\u7814\u8fc7\u7a0b\\n\\n\u7531\u4e8e\u7f3a\u70b9\u4f17\u591a\uff0c\u6211\u4eec\u4e0d\u5f97\u4e0d\u653e\u5f03\u4e86\u6570\u4ed31.0\u7684\u67b6\u6784\u3002\u5728 2020\u5e74\u4e2d\uff0c\u6211\u4eec\u5bf9\u5e02\u9762\u4e0a\u6d41\u884c\u7684\u6570\u4ed3\u8fdb\u884c\u4e86\u6df1\u5ea6\u8c03\u7814\u3002\\n\\n\u5728\u8c03\u7814\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u96c6\u4e2d\u5bf9\u6bd4\u4e86Click house\u548cApache Doris\u3002ClickHouse \u5bf9 CPU \u7684\u5229\u7528\u7387\u8f83\u9ad8\uff0c\u6240\u4ee5\u5728\u5355\u8868\u67e5\u8be2\u65f6\u8868\u73b0\u6bd4\u8f83\u4f18\u79c0\uff0c\u4f46\u662f\u5728\u591a\u67e5\u8be2\u9ad8 QPS \u7684\u60c5\u51b5\u4e0b\u5219\u8868\u73b0\u6b20\u4f73\u3002\u53cd\u89c2Doris\u4e0d\u4ec5\u5355\u8282\u70b9\u6700\u9ad8\u53ef\u652f\u6301\u4e0a\u5343QPS\uff0c\u800c\u4e14\u5f97\u76ca\u4e8e\u5206\u533a\u5206\u6876\u88c1\u526a\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u652f\u6301QPS\u4e07\u7ea7\u522b\u7684\u9ad8\u5e76\u53d1\u67e5\u8be2\uff1b\u518d\u8005\uff0cClickHouse\u7684\u6269\u5bb9\u7f29\u5bb9\u590d\u6742\u4e14\u7e41\u7410\uff0c\u76ee\u524d\u505a\u4e0d\u5230\u81ea\u52a8\u5728\u7ebf\u64cd\u4f5c\uff0c\u9700\u8981\u81ea\u7814\u5de5\u5177\u652f\u6301\u3002Doris\u652f\u6301\u96c6\u7fa4\u7684\u5728\u7ebf\u52a8\u6001\u6269\u7f29\u5bb9\uff0c\u4e14\u53ef\u4ee5\u968f\u7740\u4e1a\u52a1\u7684\u53d1\u5c55\u6c34\u5e73\u6269\u5c55\u3002\\n\\n\u5728\u8c03\u7814\u4e2d\uff0cApacheDoris\u8131\u9896\u800c\u51fa\u3002Doris\u9ad8\u5e76\u53d1\u7684\u67e5\u8be2\u80fd\u529b\u975e\u5e38\u5438\u5f15\u6211\u4eec\uff0c\u800c\u4e14\u7075\u6d3b\u7684\u6269\u7f29\u5bb9\u80fd\u529b\u4e5f\u4e5f\u66f4\u9002\u5408\u6211\u4eec\u7075\u6d3b\u591a\u53d8\u7684\u5e7f\u544a\u4e1a\u52a1\u3002\u56e0\u6b64\u6211\u4eec\u9009\u62e9\u4e86 Apache Doris\u3002\\n\\n![2](/images/LY/zh/2.png)\\n\\n\u5f15\u5165 Apache Doris \u540e\uff0c\u6211\u4eec\u5bf9\u6574\u4e2a\u6570\u4ed3\u8fdb\u884c\u4e86\u6539\u9020\uff1a\\n- \u901a\u8fc7Canal \u91c7\u96c6MySQL Binlog \u8fdb\u5165 Kafka\u4e2d\u3002\u56e0\u4e3aApache Doris \u4e0e Kafka \u7684\u5951\u5408\u5ea6\u8f83\u9ad8\uff0c\u53ef\u4ee5\u4fbf\u6377\u5730\u4f7f\u7528 Routine Load \u5bf9\u6570\u636e\u52a0\u8f7d\u548c\u5bfc\u5165\u3002\\n- \u6211\u4eec\u5bf9\u539f\u6709\u79bb\u7ebf\u8ba1\u7b97\u7684\u6570\u636e\u94fe\u8def\u8fdb\u884c\u4e86\u7ec6\u5fae\u8c03\u6574\u3002\u5bf9\u4e8e\u5b58\u50a8\u5728 Hive \u4e2d\u7684\u6570\u636e\uff0cApahce Doris \u53ef\u4ee5\u901a\u8fc7 Broker Load \u5c06 Hive \u4e2d\u7684\u6570\u636e\u5bfc\u5165\u3002\u8fd9\u6837\u4e00\u6765\u79bb\u7ebf\u96c6\u7fa4\u7684\u6570\u636e\u5c31\u53ef\u4ee5\u76f4\u63a5\u52a0\u8f7d\u5230 Doris\u3002\\n\\n## \u9009\u62e9 Doris\\n\\n![3](/images/LY/zh/3.png)\\n\\nApache Doris \u6574\u4f53\u8868\u73b0\u4ee4\u4eba\u6df1\u523b\uff1a\\n- \u6570\u636e\u63a5\u5165\uff1a\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6570\u636e\u5bfc\u5165\u65b9\u5f0f\uff0c\u80fd\u591f\u652f\u6301\u4f17\u591a\u6570\u636e\u6e90\u7684\u63a5\u5165\u3002\\n- \u6570\u636e\u8fde\u63a5\uff1aDoris \u652f\u6301 JDBC \u4e0e ODBC \u7b49\u65b9\u5f0f\u8fde\u63a5\u3002Doris\u5bf9 BI \u5de5\u5177\u7684\u53ef\u89c6\u5316\u5c55\u793a\u6bd4\u8f83\u53cb\u597d\uff0c\u80fd\u591f\u4fbf\u6377\u5730\u4e0e BI \u5de5\u5177\u8fdb\u884c\u8fde\u63a5\u3002\u53e6\u5916Doris \u91c7\u7528MySQL \u534f\u8bae\u8fdb\u884c\u901a\u4fe1\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5404\u7c7b Client \u5de5\u5177\u76f4\u63a5\u8bbf\u95ee Doris\u3002\\n- SQL \u8bed\u6cd5\uff1aDoris \u91c7\u7528MySQL \u534f\u8bae\uff0c\u9ad8\u5ea6\u517c\u5bb9MySQL \u8bed\u6cd5\uff0c\u652f\u6301\u6807\u51c6SQL\uff0c\u5bf9\u4e8e\u6570\u4ed3\u5f00\u53d1\u4eba\u5458\u6765\u8bf4\u5b66\u4e60\u6210\u672c\u8f83\u4f4e\uff1b\\n- MPP \u5e76\u884c\u8ba1\u7b97\uff1aDoris \u57fa\u4e8e MPP \u67b6\u6784\uff0c\u63d0\u4f9b\u4e86\u975e\u5e38\u4f18\u79c0\u7684\u5e76\u884c\u8ba1\u7b97\u80fd\u529b\u3002\u5728\u590d\u6742Join\u548c\u5927\u8868Join\u7684\u573a\u666f\u4e0bDoris\u4f18\u52bf\u975e\u5e38\u660e\u663e\uff1b\\n- \u6587\u6863\u5065\u5168\uff1aDoris \u5b98\u65b9\u6587\u6863\u975e\u5e38\u5065\u5168\uff0c\u5bf9\u4e8e\u65b0\u7528\u6237\u4e0a\u624b\u975e\u5e38\u53cb\u597d\u3002\uff08\u6211\u4eec\u6700\u770b\u91cd\u7684\u4e00\u70b9\uff09\\n\\n## Doris \u5b9e\u65f6\u7cfb\u7edf\u67b6\u6784\\n\\n![4](/images/LY/zh/4.png)\\n\\n- \u6570\u636e\u6e90\uff1a\u5728\u5b9e\u65f6\u7cfb\u7edf\u67b6\u6784\u4e2d\uff0c\u6570\u636e\u6e90\u6765\u81ea\u4ea7\u4e1a\u91d1\u878d\u3001\u6d88\u8d39\u91d1\u878d\u3001\u98ce\u63a7\u6570\u636e\u7b49\u4e1a\u52a1\u7ebf\uff0c\u901a\u8fc7 Canal \u548c API \u63a5\u53e3\u8fdb\u884c\u91c7\u96c6\u3002\\n\\n- \u6570\u636e\u91c7\u96c6\uff1a\u901a\u8fc7 Canal- Admin \u8fdb\u884c\u6570\u636e\u91c7\u96c6\u540e\uff0cCanal\u5c06\u6570\u636e\u53d1\u9001\u5230 Kafka \u6d88\u606f\u961f\u5217\u4e4b\u4e2d\u3002\u4e4b\u540e\uff0c\u6570\u636e\u518d\u901a\u8fc7 Routine Load \u63a5\u5165\u5230 Doris \u96c6\u7fa4\u3002\\n\\n- Doris \u6570\u4ed3\uff1a\u7531Doris \u96c6\u7fa4\u7ec4\u6210\u4e86\u4e86\u6570\u636e\u4ed3\u5e93\u7684\u4e09\u7ea7\u5206\u5c42\uff0c\u5206\u522b\u662f\uff1a\u4f7f\u7528\u4e86 Unique \u6a21\u578b\u7684 DWD \u660e\u7ec6\u5c42 \u3001 Aggregate \u6a21\u578b\u7684 DWS \u6c47\u603b\u5c42\u4ee5\u53ca ADS \u5e94\u7528\u5c42\u3002\\n\\n- \u6570\u636e\u5e94\u7528\uff1a\u6570\u636e\u5e94\u7528\u4e8e\u5b9e\u65f6\u770b\u677f\u3001\u6570\u636e\u53ca\u65f6\u6027\u5206\u6790\u4ee5\u53ca\u6570\u636e\u670d\u52a1\u4e09\u65b9\u9762\u3002\\n\\n## Doris \u65b0\u6570\u4ed3\u7279\u70b9\\n\\n\u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u7b80\u4fbf\uff0c\u6839\u636e\u4e0d\u540c\u573a\u666f\u91c7\u7528 3 \u79cd\u4e0d\u540c\u7684\u5bfc\u5165\u65b9\u5f0f\uff1a\\n- Routine Load\uff1a\u5f53\u6211\u4eec\u63d0\u4ea4 Rountine Load \u4efb\u52a1\u65f6\uff0cDoris \u5185\u90e8\u4f1a\u6709\u4e00\u4e2a\u5e38\u9a7b\u8fdb\u7a0b\u5b9e\u65f6\u6d88\u8d39 Kafka \uff0c\u4e0d\u65ad\u4ece Kafka \u4e2d\u8bfb\u53d6\u6570\u636e\u5e76\u5bfc\u5165\u8fdb Doris\u4e2d\u3002\\n- Broker Load\uff1a\u7ef4\u5ea6\u8868\u53ca\u5386\u53f2\u6570\u636e\u7b49\u79bb\u7ebf\u6570\u636e\u6709\u5e8f\u5730\u5bfc\u5165Doris\u3002\\n- Insert Into\uff1a\u7528\u4e8e\u5b9a\u65f6\u6279\u5f0f\u8ba1\u7b97\u4efb\u52a1\uff0c\u8d1f\u8d23\u5904\u7406DWD \u5c42\u6570\u636e\uff0c\u4ece\u800c\u5f62\u6210 DWS \u5c42\u4ee5\u53ca ADS \u5c42\u3002\\nDoris \u7684\u826f\u597d\u6570\u636e\u6a21\u578b\uff0c\u63d0\u5347\u4e86\u6211\u4eec\u7684\u5f00\u53d1\u6548\u7387\uff1a\\n- Unique \u6a21\u578b\u5728 DWD \u5c42\u63a5\u5165\u65f6\u4f7f\u7528\uff0c\u53ef\u4ee5\u6709\u6548\u9632\u6b62\u91cd\u590d\u6d88\u8d39\u6570\u636e\u3002\\n- Aggregate \u6a21\u578b\u7528\u4f5c\u805a\u5408\u3002\u5728 Doris \u4e2d\uff0cAggregate \u652f\u6301\u5982 Sum\u3001Replace\u3001Min \u3001Max 4 \u79cd\u65b9\u5f0f\u7684\u805a\u5408\u6a21\u578b\uff0c\u805a\u5408\u7684\u8fc7\u7a0b\u4e2d\u4f7f\u7528 Aggregate \u5e95\u5c42\u6a21\u578b\u53ef\u4ee5\u51cf\u5c11\u5f88\u5927\u90e8\u5206 SQL \u4ee3\u7801\u91cf\uff0c\u4e0d\u518d\u4eba\u5de5\u624b\u5199Sum\u3001Min\u3001Max \u7b49\u4ee3\u7801\u3002\\nDoris \u67e5\u8be2\u6548\u7387\u9ad8\uff1a\\n- \u652f\u6301\u7269\u5316\u89c6\u56fe\u4e0e Rollup \u7269\u5316\u7d22\u5f15\u3002\u7269\u5316\u89c6\u56fe\u5e95\u5c42\u7c7b\u4f3c Cube \u7684\u6982\u5ff5\u4e0e\u9884\u8ba1\u7b97\u7684\u8fc7\u7a0b\uff0c\u4e0e Kylin \u4e2d\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u5747\u662f\u5728\u5e95\u5c42\u751f\u6210\u7279\u6b8a\u7684\u8868\uff0c\u5728\u67e5\u8be2\u4e2d\u547d\u4e2d\u7269\u5316\u89c6\u56fe\u5e76\u5feb\u901f\u54cd\u5e94\u3002\\n\\n# \u65b0\u67b6\u6784\u7684\u6536\u76ca\\n\\n- \u6570\u636e\u63a5\u5165\uff1a\u5728\u6700\u521d\u7684\u67b6\u6784\u4e2d\uff0c\u901a\u8fc7 SteamSets \u8fdb\u884c\u6570\u636e\u63a5\u5165\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u624b\u52a8\u5efa\u7acb Kudu \u8868\u3002\u7531\u4e8e\u7f3a\u4e4f\u5de5\u5177\uff0c\u6574\u4e2a\u5efa\u8868\u548c\u521b\u5efa\u4efb\u52a1\u7684\u8fc7\u7a0b\u9700\u8981 20-30 \u5206\u949f\u3002\u5982\u4eca\u53ef\u4ee5\u901a\u8fc7\u5e73\u53f0\u4e0e\u5feb\u901f\u6784\u5efa\u8bed\u53e5\u5b9e\u73b0\u6570\u636e\u5feb\u901f\u63a5\u5165\uff0c\u6bcf\u5f20\u8868\u7684\u63a5\u5165\u8fc7\u7a0b\u4ece\u4e4b\u524d\u768420-30\u5206\u949f\u7f29\u77ed\u5230\u73b0\u5728\u7684 3-5 \u5206\u949f\uff0c\u6027\u80fd\u63d0\u5347\u4e86 5-6 \u500d\u3002\\n- \u6570\u636e\u5f00\u53d1\uff1a\u4f7f\u7528 Doris\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 Doris \u4e2d\u81ea\u5e26\u7684 Unique\u3001Aggregate \u7b49\u6570\u636e\u6a21\u578b\u53ca\u53ef\u4ee5\u5f88\u597d\u652f\u6301\u65e5\u5fd7\u7c7b\u573a\u666f\u7684 Duplicate \u6a21\u578b\uff0c\u5728 ETL \u8fc7\u7a0b\u4e2d\u5927\u5e45\u5ea6\u52a0\u5feb\u5f00\u53d1\u8fc7\u7a0b\u3002\\n- \u67e5\u8be2\u5206\u6790\uff1aDoris \u5e95\u5c42\u5e26\u6709\u7269\u5316\u89c6\u56fe\u53ca Rollup \u7269\u5316\u7d22\u5f15\u7b49\u529f\u80fd\u3002\u7269\u5316\u89c6\u56fe\u5e95\u5c42\u7c7b\u4f3c Cube \u7684\u6982\u5ff5\u4e0e\u9884\u8ba1\u7b97\u7684\u8fc7\u7a0b\uff0c\u4e0e Kylin \u4e2d\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u5747\u662f\u5728\u5e95\u5c42\u751f\u6210\u7279\u6b8a\u7684\u8868\uff0c\u5728\u67e5\u8be2\u4e2d\u547d\u4e2d\u7269\u5316\u89c6\u56fe\u5e76\u5feb\u901f\u54cd\u5e94\u3002\u540c\u65f6 Doris \u5e95\u5c42\u5bf9\u4e8e\u5927\u8868\u5173\u8054\u8fdb\u884c\u4e86\u8bf8\u591a\u4f18\u5316\uff0c\u5982 Runtime Filter \u4ee5\u53ca\u5176\u4ed6 Join \u548c\u81ea\u5b9a\u4e49\u4f18\u5316\u3002\u76f8\u8f83\u4e8e Doris\uff0cApache Kudu \u5219\u9700\u8981\u7ecf\u8fc7\u66f4\u4e3a\u6df1\u5165\u548c\u590d\u6742\u7684\u4f18\u5316\u624d\u80fd\u66f4\u597d\u5730\u4f7f\u7528\u3002\\n- \u6570\u636e\u62a5\u8868\uff1a\u6211\u4eec\u6700\u521d\u4f7f\u7528 Kudu \u62a5\u8868\u67e5\u8be2\u9700\u8981 1-2 \u5206\u949f\u624d\u80fd\u591f\u5b8c\u6210\u6e32\u67d3\uff0c\u800c Doris \u5219\u662f\u79d2\u7ea7\u751a\u81f3\u662f\u6beb\u79d2\u7ea7\u7684\u54cd\u5e94\u901f\u5ea6\u3002\\n- \u4fbf\u6377\u8fd0\u7ef4\uff1aDoris \u6ca1\u6709 Hadoop \u751f\u6001\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u7ef4\u62a4\u6210\u672c\u8fdc\u4f4e\u4e8e Hadoop\u3002\u5c24\u5176\u662f\u5728\u96c6\u7fa4\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0cDoris \u7684\u8fd0\u7ef4\u4fbf\u6377\u6027\u5c24\u4e3a\u7a81\u51fa\u30023 \u6708\u4efd\uff0c\u6211\u4eec\u7684\u673a\u623f\u8fdb\u884c\u4e86\u642c\u8fc1\uff0c12 \u53f0 Doris \u8282\u70b9\u673a\u5668\u5728\u4e09\u5929\u5185\u5168\u90e8\u8fc1\u79fb\u5b8c\u6210\u3002\u6574\u4f53\u64cd\u4f5c\u8f83\u4e3a\u7b80\u5355\uff0c\u9664\u4e86\u673a\u5668\u4e0a\u67b6\u4e0b\u67b6\u548c\u642c\u79fb\u5916\uff0cFE \u6269\u5bb9\u4e0e\u7f29\u5bb9\u65f6\u53ea\u8fd0\u7528\u4e86 Add \u4e0e Drop \u7b49\u7b80\u5355\u6307\u4ee4\uff0c\u5e76\u672a\u6d88\u8017\u592a\u957f\u65f6\u95f4\u3002\\n\\n# \u672a\u6765\u5c55\u671b\\n\\n- \u5b9e\u73b0\u57fa\u4e8e Flink CDC \u7684\u6570\u636e\u63a5\u5165\uff1a\u5f53\u524d\uff0c\u4f18\u5316\u540e\u7684\u6570\u636e\u5e93\u67b6\u6784\u4e2d\u5e76\u6ca1\u6709\u6ca1\u6709\u5f15\u5165 Flink CDC \uff0c\u800c\u662f\u7ee7\u7eed\u6cbf\u7528\u4e86 \u6570\u636e\u7ecfCanal \u91c7\u96c6\u5230 Kafka \u540e\u518d\u91c7\u96c6\u5230 Doris \u4e2d\u7684\u6a21\u5f0f\uff0c\u94fe\u8def\u76f8\u5bf9\u6765\u8bf4\u8f83\u957f\u3002\u4f7f\u7528Flink CDC \u867d\u7136\u53ef\u4ee5\u7ee7\u7eed\u7cbe\u7b80\u6574\u4f53\u67b6\u6784\uff0c\u4f46\u662f\u8fd8\u9700\u8981\u5199\u4e00\u5b9a\u91cf\u7684\u4ee3\u7801\uff0c\u8fd9\u5bf9\u4e8e\u6570\u636e\u5206\u6790\u5e08\u76f4\u63a5\u4f7f\u7528\u611f\u53d7\u5e76\u4e0d\u53cb\u597d\u3002\u6211\u4eec\u5e0c\u671b\u6570\u636e\u5206\u6790\u5e08\u53ea\u9700\u8981\u5199\u7b80\u5355SQL \u6216\u5728\u9875\u9762\u4e0a\u76f4\u63a5\u64cd\u4f5c\u3002\u5728\u672a\u6765\u7684\u89c4\u5212\u4e2d\uff0c\u6211\u4eec\u8ba1\u5212\u5f15\u5165 Flink CDC \u529f\u80fd\u5e76\u5bf9\u4e0a\u5c42\u5e94\u7528\u8fdb\u884c\u6269\u5145\u3002\\n- \u7d27\u8ddf\u793e\u533a\u8fed\u4ee3\u8ba1\u5212\uff1a\u6211\u4eec\u6b63\u5728\u4f7f\u7528\u7684 Doris \u7248\u672c\u76f8\u5bf9\u8f83\u8001\uff0c\u73b0\u5728\u7684\u6700\u65b0\u7248\u672c Apache Doris V1.2.0\u5728\u5168\u9762\u5411\u91cf\u5316\u3001multi-catalog\u591a\u5143\u6570\u636e\u76ee\u5f55\u3001light schema change\u8f7b\u91cf\u8868\u7ed3\u6784\u53d8\u66f4\u65b9\u9762\u6709\u4e86\u8f83\u5927\u5e45\u5ea6\u7684\u63d0\u5347\u3002\u6211\u4eec\u5c06\u7d27\u8ddf\u793e\u533a\u8fed\u4ee3\u8282\u594f\u5bf9\u96c6\u7fa4\u8fdb\u884c\u5347\u7ea7\u5e76\u5145\u5206\u5229\u7528\u65b0\u7279\u6027\u3002\\n- \u5f3a\u5316\u5efa\u8bbe\u76f8\u5173\u4f53\u7cfb\uff1a\u6211\u4eec\u73b0\u5728\u7684\u6307\u6807\u4f53\u7cfb\u7ba1\u7406\u5982\u62a5\u8868\u5143\u6570\u636e\u3001\u4e1a\u52a1\u5143\u6570\u636e\u7b49\u7ef4\u62a4\u4e0e\u7ba1\u7406\u6c34\u5e73\u4f9d\u65e7\u6709\u5f85\u63d0\u9ad8\u3002\u5728\u6570\u636e\u8d28\u91cf\u76d1\u63a7\u65b9\u9762\uff0c\u867d\u7136\u76ee\u524d\u5305\u542b\u4e86\u6570\u636e\u8d28\u91cf\u76d1\u63a7\u529f\u80fd\uff0c\u4f46\u5bf9\u4e8e\u6574\u4e2a\u5e73\u53f0\u76d1\u63a7\u4e0e\u6570\u636e\u81ea\u52a8\u5316\u76d1\u63a7\u65b9\u9762\u8fd8\u9700\u8981\u5f3a\u5316\u4e0e\u6539\u5584\u3002"},{"id":"/release-1.1.5","metadata":{"permalink":"/zh-CN/blog/release-1.1.5","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.1.5.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.5 Release","description":"\x3c!--","date":"2022-12-19T00:00:00.000Z","formattedDate":"2022\u5e7412\u670819\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.5 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.5 Release","date":"2022-12-19","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"\u5e94\u7528\u5b9e\u8df5\uff1a\u6570\u4ed3\u4f53\u7cfb\u6548\u7387\u5168\u9762\u63d0\u5347\uff01\u540c\u7a0b\u6570\u79d1\u57fa\u4e8e Apache Doris \u7684\u6570\u636e\u4ed3\u5e93\u5efa\u8bbe","permalink":"/zh-CN/blog/LY"},"nextItem":{"title":"Doris on Es\u5728\u5feb\u624b\u5546\u4e1a\u5316\u7684\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/BestPractice_Kwai"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\u5728 1.1.5 \u7248\u672c\u4e2d\uff0cDoris \u56e2\u961f\u5df2\u7ecf\u4fee\u590d\u4e86\u81ea 1.1.4 \u7248\u672c\u53d1\u5e03\u4ee5\u6765\u7ea6 36 \u4e2a\u95ee\u9898\u6216\u6027\u80fd\u6539\u8fdb\u9879\u3002\u540c\u65f6\uff0c1.1.5 \u7248\u672c\u4e5f\u662f\u4f5c\u4e3a 1.1 LTS \u7248\u672c\u7684\u9519\u8bef\u4fee\u590d\u7248\u672c\uff0c\u5efa\u8bae\u6240\u6709\u7528\u6237\u5347\u7ea7\u5230\u8fd9\u4e2a\u7248\u672c\u3002\\n\\n\\n# Behavior Changes\\n\\n\\n\u5f53\u522b\u540d\u4e0e\u539f\u59cb\u5217\u540d\u76f8\u540c\u65f6\uff0c\u4f8b\u5982 \\"select year(birthday) as birthday\\"\uff0c\u5728 group by\u3001order by\u3001having \u5b50\u53e5\u4e2d\u4f7f\u7528\u522b\u540d\u65f6\u5c06\u4e0e MySQL \u4e2d\u4fdd\u6301\u4e00\u81f4\uff0cGroup by \u548c having \u5c06\u9996\u5148\u4f7f\u7528\u539f\u59cb\u5217\uff0corder by \u5c06\u9996\u5148\u4f7f\u7528\u522b\u540d\u3002\u8fd9\u91cc\u53ef\u80fd\u4f1a\u5bf9\u7528\u6237\u5e26\u6765\u7591\u60d1\uff0c\u56e0\u6b64\u5efa\u8bae\u6700\u597d\u4e0d\u8981\u4f7f\u7528\u4e0e\u539f\u59cb\u5217\u540d\u76f8\u540c\u7684\u522b\u540d\u3002\\n\\n# Features\\n\\n\u652f\u6301 Hash \u51fd\u6570 murmur_hash3_64\u3002[#14636](https://github.com/apache/doris/pull/14636)\\n\\n# Improvements\\n\\n\u4e3a\u65e5\u671f\u51fd\u6570 convert_tz \u6dfb\u52a0\u65f6\u533a\u7f13\u5b58\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002[#14616](https://github.com/apache/doris/pull/14616)\\n\\n\u5f53\u8c03\u7528 show \u5b50\u53e5\u65f6\uff0c\u6309 tablename \u5bf9\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f\u3002 [#14492](https://github.com/apache/doris/pull/14492)\\n\\n# Bug Fix\\n\\n\u4fee\u590d if \u8bed\u53e5\u4e2d\u5e26\u6709\u5e38\u91cf\u65f6\u5bfc\u81f4 BE \u53ef\u80fd Coredump \u7684\u95ee\u9898\u3002[#14858](https://github.com/apache/doris/pull/14858)\\n\\n\u4fee\u590d ColumnVector::insert_date_column \u53ef\u80fd\u5d29\u6e83\u7684\u95ee\u9898 [#14839](https://github.com/apache/doris/pull/14839)\\n\\n\u66f4\u65b0 high_priority_flush_thread_num_per_store \u9ed8\u8ba4\u503c\u4e3a 6\uff0c\u5c06\u63d0\u9ad8\u8d1f\u8f7d\u6027\u80fd\u3002 [#14775](https://github.com/apache/doris/pull/14775)\\n\\n\u4f18\u5316 quick compaction core\u3002 [#14731](https://github.com/apache/doris/pull/14731)\\n\\n\u4fee\u590d\u5206\u533a\u5217\u975e duplicate key \u65f6 Spark Load \u629b\u51fa IndexOutOfBounds \u9519\u8bef\u7684\u95ee\u9898\u3002\\n [#14661](https://github.com/apache/doris/pull/14661)\\n\\n\u4fee\u6b63 VCollectorIterator \u4e2d\u7684\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\u3002 [#14549](https://github.com/apache/doris/pull/14549)\\n\\n\u4fee\u590d\u4e86\u5b58\u5728 Sequence \u5217\u65f6\u53ef\u80fd\u5b58\u5728\u7684\u5efa\u8868\u95ee\u9898\u3002 [#14511](https://github.com/apache/doris/pull/14511)\\n\\n\u4f7f\u7528 avg rowset \u6765\u8ba1\u7b97\u6279\u91cf\u5927\u5c0f\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 total_bytes\uff0c\u56e0\u4e3a\u5b83\u8981\u82b1\u8d39\u5927\u91cf\u7684 Cpu\u3002 [#14273](https://github.com/apache/doris/pull/14273)\\n\\n\u4fee\u590d\u4e86 right outer join \u53ef\u80fd\u5bfc\u81f4 core \u7684\u95ee\u9898\u3002[#14821](https://github.com/apache/doris/pull/14821)\\n\\n\u4f18\u5316\u4e86 TCMalloc gc \u7684\u7b56\u7565\u3002 [#14777](https://github.com/apache/doris/pull/14777) [#14738](https://github.com/apache/doris/pull/14738) [#14374](https://github.com/apache/doris/pull/14374)"},{"id":"/BestPractice_Kwai","metadata":{"permalink":"/zh-CN/blog/BestPractice_Kwai","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/BestPractice_Kwai.md","title":"Doris on Es\u5728\u5feb\u624b\u5546\u4e1a\u5316\u7684\u6700\u4f73\u5b9e\u8df5","description":"\x3c!--","date":"2022-12-14T00:00:00.000Z","formattedDate":"2022\u5e7412\u670814\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u8d3a\u7965"}],"frontMatter":{"title":"Doris on Es\u5728\u5feb\u624b\u5546\u4e1a\u5316\u7684\u6700\u4f73\u5b9e\u8df5","language\\": \\"zh":null,"summary":"\u5feb\u624b\u5546\u4e1a\u5316\u62a5\u8868\u5f15\u64ce\u4e3a\u5916\u90e8\u5e7f\u544a\u4e3b\u63d0\u4f9b\u5e7f\u544a\u6295\u653e\u6548\u679c\u7684\u5b9e\u65f6\u591a\u7ef4\u5206\u6790\u62a5\u8868\u5728\u7ebf\u67e5\u8be2\u670d\u52a1\uff0c\u4ee5\u53ca\u4e3a\u5185\u90e8\u5404\u5546\u4e1a\u5316\u7cfb\u7edf\u63d0\u4f9b\u591a\u7ef4\u5206\u6790\u62a5\u8868\u67e5\u8be2\u670d\u52a1\uff0c\u81f4\u529b\u4e8e\u89e3\u51b3\u591a\u7ef4\u5206\u6790\u62a5\u8868\u573a\u666f\u7684\u9ad8\u6027\u80fd\u3001\u9ad8\u5e76\u53d1\u3001\u9ad8\u7a33\u5b9a\u7684\u67e5\u8be2\u95ee\u9898\u3002\u65e9\u671fDruid on Es\u7684\u67b6\u6784\u542b\u6709\u8bf8\u591a\u5f0a\u7aef\uff0c\u901a\u8fc7\u8c03\u7814\u6211\u4eec\u9009\u62e9\u4e86Doris on Es\u7684\u6570\u4ed3\u89e3\u51b3\u65b9\u6848\u3002\u4f7f\u7528Doris \u4e4b\u540e\uff0c\u67e5\u8be2\u53d8\u5f97\u7b80\u5355\u3002\u6211\u4eec\u4ec5\u9700\u8981\u6309\u5929\u540c\u6b65\u4e8b\u5b9e\u8868\u548c\u7ef4\u8868\uff0c\u5728\u67e5\u8be2\u7684\u540c\u65f6 Join\u5373\u53ef\u3002\u901a\u8fc7Doris\u66ff\u4ee3Druid\u3001Clickhouse\u7684\u65b9\u6848\uff0c\u57fa\u672c\u8986\u76d6\u4e86\u6211\u4eec\u4f7f\u7528Druid \u65f6\u7684\u6240\u6709\u573a\u666f\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u6d77\u91cf\u6570\u636e\u7684\u805a\u5408\u5206\u6790\u80fd\u529b\u3002\u5728Apache Doris\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u8fd8\u53d1\u73b0\u4e86\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u6536\u76ca\uff1a\u4f8b\u5982\uff0cRoutine Load\u548c Broker Load\u7684\u5bfc\u5165\u65b9\u5f0f\u8f83\u4e3a\u7b80\u5355\uff0c\u63d0\u5347\u4e86\u67e5\u8be2\u901f\u5ea6\uff1b\u6570\u636e\u5360\u7528\u7a7a\u95f4\u5927\u5e45\u964d\u4f4e\uff1bDoris\u652f\u6301MySQL\u534f\u8bae\uff0c\u65b9\u4fbf\u4e86\u6570\u636e\u5206\u6790\u5e08\u81ea\u52a9\u53d6\u6570\u7ed8\u56fe\u7b49\u3002","date":"2022-12-14","author":"\u8d3a\u7965","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.5 Release","permalink":"/zh-CN/blog/release-1.1.5"},"nextItem":{"title":"\u6700\u4f73\u5b9e\u8df5: Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","permalink":"/zh-CN/blog/xiaomi_vector"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n> \u4f5c\u8005\uff1a\u8d3a\u7965\uff0c\u6570\u636e\u67b6\u6784\u9ad8\u7ea7\u5de5\u7a0b\u5e08\uff0c\u5feb\u624b\u5546\u4e1a\u5316\u56e2\u961f\\n\\n![kv](/images/Kwai/zh/kv.png)\\n\\n# 1 \u5173\u4e8e\u5feb\u624b\\n\\n## 1.1 \u5feb\u624b\\n\\n\u5feb\u624b\uff08HKG: 1024\uff09\u662f\u4e00\u4e2a\u77ed\u89c6\u9891\u548c\u6f6e\u6d41\u793e\u4ea4\u7f51\u7edc\u3002\u53d1\u73b0\u6709\u8da3\u7684\u77ed\u7247\uff0c\u901a\u8fc7\u751f\u6d3b\u4e2d\u7684\u5f55\u97f3\u3001\u89c6\u9891\u3001\u73a9\u65e5\u5e38\u6311\u6218\u6216\u559c\u6b22\u6700\u597d\u7684\u52a8\u6548\u6a21\u7248\u548c\u89c6\u9891\u6765\u4e3a\u865a\u62df\u793e\u533a\u505a\u51fa\u8d21\u732e\u3002\u7528\u77ed\u89c6\u9891\u5206\u4eab\u751f\u6d3b\uff0c\u5e76\u4ece\u6570\u5341\u79cd\u795e\u5947\u7684\u6548\u679c\u548c\u6ee4\u955c\u4e2d\u9009\u62e9\u559c\u6b22\u7684\u65b9\u5f0f\u3002\\n\\n## 1.2 \u5feb\u624b\u5546\u4e1a\u5316\u62a5\u8868\u5f15\u64ce\\n\\n\u5feb\u624b\u5546\u4e1a\u5316\u62a5\u8868\u5f15\u64ce\u4e3a\u5916\u90e8\u5e7f\u544a\u4e3b\u63d0\u4f9b\u5e7f\u544a\u6295\u653e\u6548\u679c\u7684\u5b9e\u65f6\u591a\u7ef4\u5206\u6790\u62a5\u8868\u5728\u7ebf\u67e5\u8be2\u670d\u52a1\uff0c\u4ee5\u53ca\u4e3a\u5185\u90e8\u5404\u5546\u4e1a\u5316\u7cfb\u7edf\u63d0\u4f9b\u591a\u7ef4\u5206\u6790\u62a5\u8868\u67e5\u8be2\u670d\u52a1\uff0c\u81f4\u529b\u4e8e\u89e3\u51b3\u591a\u7ef4\u5206\u6790\u62a5\u8868\u573a\u666f\u7684\u9ad8\u6027\u80fd\u3001\u9ad8\u5e76\u53d1\u3001\u9ad8\u7a33\u5b9a\u7684\u67e5\u8be2\u95ee\u9898\u3002\\n\\n# 2 \u521d\u671f\u67b6\u6784\\n\\n## 2.1 \u9700\u6c42\u80cc\u666f\\n\\n\u4f20\u7edf OLAP \u5f15\u64ce\u5e94\u5bf9\u591a\u7ef4\u5206\u6790\u65f6\u66f4\u591a\u662f\u4ee5\u9884\u5efa\u6a21\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7\u6784\u5efa\u6570\u636e\u7acb\u65b9\u4f53\uff08Cube\uff09\u5bf9\u4e8b\u5b9e\u6570\u636e\u8fdb\u884c\u4e0b\u94bb\u3001\u4e0a\u5377\u3001\u5207\u7247\u3001\u5207\u5757\u7b49\u64cd\u4f5c\u3002\u73b0\u4ee3 OLAP \u5206\u6790\u5f15\u5165\u4e86\u5173\u7cfb\u6a21\u578b\u7684\u7406\u5ff5\uff0c\u5728\u4e8c\u7ef4\u5173\u7cfb\u8868\u4e2d\u63cf\u7ed8\u6570\u636e\u3002\u800c\u5728\u5efa\u6a21\u8fc7\u7a0b\u4e2d\uff0c\u5f80\u5f80\u6709\u4e24\u79cd\u5efa\u6a21\u65b9\u5f0f\uff0c\u4e00\u662f\u91c7\u7528\u5bbd\u8868\u6a21\u578b\u3001\u5c06\u591a\u5f20\u8868\u7684\u6570\u636e\u901a\u8fc7 Join \u5199\u5165\u8fdb\u4e00\u5f20\u5bbd\u8868\u4e2d\uff0c\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u91c7\u7528\u661f\u578b\u6a21\u578b\u3001\u5c06\u6570\u636e\u8868\u533a\u5206\u4e3a\u4e8b\u5b9e\u8868\u548c\u7ef4\u5ea6\u8868\u3001\u67e5\u8be2\u65f6\u5bf9\u4e8b\u5b9e\u8868\u4e0e\u7ef4\u5ea6\u8868\u8fdb\u884c Join \u3002\\n\u4ee5\u4e0a\u4e24\u79cd\u65b9\u6848\u5404\u6709\u90e8\u5206\u4f18\u7f3a\u70b9\uff1a\\n\\n\u5bbd\u8868\u6a21\u578b\uff1a\\n\\n\u91c7\u53d6\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u601d\u8def\uff0c\u7406\u8bba\u4e0a\u90fd\u662f\u7ef4\u8868\u4e3b\u952e\u4e3a\u552f\u4e00 ID \u6765\u586b\u5145\u6240\u6709\u7ef4\u5ea6\uff0c\u5197\u4f59\u5b58\u50a8\u4e86\u591a\u6761\u7ef4\u5ea6\u6570\u636e\u3002\u5176\u4f18\u52bf\u5728\u4e8e\u67e5\u8be2\u65f6\u975e\u5e38\u65b9\u4fbf\uff0c\u65e0\u9700\u5173\u8054\u989d\u5916\u7ef4\u8868\uff0c\u6027\u80fd\u8868\u73b0\u66f4\u4f73\u3002\u5176\u5f0a\u7aef\u5728\u4e8e\u5982\u679c\u6709\u7ef4\u5ea6\u6570\u636e\u53d8\u5316\uff0c\u9700\u8981\u5bf9\u5168\u8868\u6570\u636e\u8fdb\u884c\u91cd\u5237\uff0c\u65e0\u6cd5\u652f\u6491\u9ad8\u9891\u7684 Update\u3002\\n\\n\u661f\u578b\u6a21\u578b\uff1a\\n\\n\u7ef4\u5ea6\u6570\u636e\u4e0e\u4e8b\u5b9e\u6570\u636e\u5b8c\u5168\u5206\u79bb\uff0c\u7ef4\u5ea6\u6570\u636e\u5f80\u5f80\u7528\u4e13\u95e8\u7684\u5f15\u64ce\u5b58\u50a8 (\u5982 MySQL\u3001Elasticsearch \u7b49)\uff0c\u67e5\u8be2\u65f6\u901a\u8fc7\u4e3b\u952e\u5173\u8054\u67e5\u8be2\u7ef4\u5ea6\u6570\u636e\uff0c\u5176\u4f18\u52bf\u5728\u4e8e\u7ef4\u5ea6\u6570\u636e\u53d8\u5316\u4e0d\u5f71\u54cd\u4e8b\u5b9e\u6570\u636e\u3001\u53ef\u652f\u6301\u9ad8\u9891 Update \u64cd\u4f5c\u3002\u5176\u5f0a\u7aef\u5728\u4e8e\u67e5\u8be2\u903b\u8f91\u76f8\u5bf9\u66f4\u590d\u6742\uff0c\u4e14\u591a\u8868 Join \u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u53d7\u635f\u3002\\n\\n## 2.2 \u4e1a\u52a1\u9700\u6c42\\n\\n\u5728\u5feb\u624b\u7684\u4e1a\u52a1\u573a\u666f\u4e2d\uff0c\u5546\u4e1a\u5316\u62a5\u8868\u5f15\u64ce\u627f\u8f7d\u4e86\u5916\u90e8\u5e7f\u544a\u4e3b\u5b9e\u65f6\u67e5\u8be2\u5e7f\u544a\u6295\u653e\u6548\u679c\u7684\u9700\u6c42\uff0c\u5728\u6784\u5efa\u62a5\u8868\u5f15\u64ce\u65f6\uff0c\u6211\u4eec\u671f\u671b\u53ef\u4ee5\u6ee1\u8db3\u5982\u4e0b\u8981\u6c42\uff1a\\n- \u8d85\u5927\u6570\u636e\u91cf\uff1a\u5355\u8868\u539f\u59cb\u6570\u636e\u6bcf\u5929\u589e\u91cf\u767e\u4ebf\\n- \u67e5\u8be2\u9ad8 QPS\uff1a\u5e73\u5747 QPS\u5343\u7ea7\u522b\\n- \u9ad8\u7a33\u5b9a\u6027\u8981\u6c42\uff1a\u5728\u7ebf\u670d\u52a1\u8981\u6c42\u7a33\u5b9a\u60274\u4e2a9\\n\u6700\u4e3a\u91cd\u8981\u7684\u662f\uff0c\u7531\u4e8e\u7ef4\u5ea6\u6570\u636e\u7ecf\u5e38\u53d1\u751f\u53d8\u66f4\uff0c\u7ef4\u5ea6\u8868\u9700\u8981\u652f\u6301\u9ad8\u8fbe\u4e0a\u5343 QPS \u7684 Update \u64cd\u4f5c\uff0c\u540c\u65f6\u8fd8\u8981\u8fdb\u4e00\u6b65\u652f\u6301\u6a21\u7cca\u5339\u914d\u3001\u5206\u8bcd\u68c0\u7d22\u7b49\u9700\u6c42\u3002\\n\u57fa\u4e8e\u4ee5\u4e0a\u9700\u6c42\uff0c\u6211\u4eec\u9009\u62e9\u4e86\u661f\u578b\u6a21\u578b\u6765\u5efa\u6a21\uff0c\u5e76\u4ee5 Apache Druid \u548c Elasticsearch \u4e3a\u6838\u5fc3\u6784\u5efa\u4e86\u65e9\u671f\u7684\u62a5\u8868\u5f15\u64ce\u67b6\u6784\u3002\\n\\n## 2.3 \u521d\u671f\u67b6\u6784\uff1a\u57fa\u4e8eApache Druid\u7684\u67b6\u6784\\n\\n\u6211\u4eec\u9009\u62e9\u4e86\u5f15\u64ce\u7ed3\u5408\u7684\u65b9\u5f0f\uff0c\u7528Elasticsearch\u9002\u914dDruid\u5f15\u64ce\u6765\u5b9e\u73b0\u3002\u5728\u6570\u636e\u5199\u5165\u9636\u6bb5\uff0c\u6211\u4eec\u901a\u8fc7Flink\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u949f\u7ea7\u9884\u805a\u5408\uff0c\u5229\u7528Kafka\u5bf9\u6570\u636e\u8fdb\u884c\u5c0f\u65f6\u7ea7\u522b\u7684\u6570\u636e\u9884\u805a\u5408\u3002\u5728\u6570\u636e\u67e5\u8be2\u4e2d\uff0cApp\u7aef\u53d1\u8d77\u67e5\u8be2\u9700\u6c42\uff0c\u5bf9RE Front\u7edf\u4e00\u63a5\u53e3\u8fdb\u884c\u67e5\u8be2\uff0cRe Query\u6839\u636e\u5f15\u64ce\u9002\u914d\uff0c\u5411\u7ef4\u8868\u5f15\u64ce\uff08Elasticsearch\u548cMySQL\uff09\u53ca\u6269\u5c55\u5f15\u64ce\u5206\u522b\u53d1\u8d77\u67e5\u8be2\u3002\\n\\nDruid\u5219\u662f\u4e00\u6b3e\u57fa\u4e8e\u65f6\u5e8f\u7684\u67e5\u8be2\u5f15\u64ce\uff0c\u652f\u6301\u6570\u636e\u5b9e\u65f6\u6444\u5165\uff0c\u7528\u6765\u5b58\u50a8\u548c\u67e5\u8be2\u5927\u91cf\u7684\u4e8b\u5b9e\u6570\u636e\u3002\u800c\u9009\u7528Elasticsearch\u4f5c\u4e3a\u7ef4\u5ea6\u6570\u636e\u5b58\u50a8\u5f15\u64ce\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u5982\u4e0b\u539f\u56e0\uff1a\\n- \u652f\u6301\u9ad8\u9891\u5b9e\u65f6\u66f4\u65b0\uff0c\u53ef\u4ee5\u652f\u6491\u4e0a\u5343 QPS\u7684 Update\u64cd\u4f5c\\n- \u652f\u6301\u5206\u8bcd\u6a21\u7cca\u68c0\u7d22\uff0c\u9002\u7528\u4e8e\u5feb\u624b\u7684\u4e1a\u52a1\\n- \u652f\u6301\u91cf\u7ea7\u8f83\u9ad8\u7684\u7ef4\u8868\u6570\u636e\uff0c\u4e0d\u7528\u50cfMySQL\u6570\u636e\u5e93\u4e00\u6837\u505a\u5206\u5e93\u5206\u8868\u624d\u80fd\u6ee1\u8db3\\n- \u652f\u6301\u6570\u636e\u540c\u6b65\u76d1\u63a7\uff0c\u540c\u65f6\u62e5\u6709\u68c0\u67e5\u548c\u6062\u590d\u7684\u670d\u52a1\\n\\n## 2.4 \u62a5\u8868\u5f15\u64ce\\n\\n\u62a5\u8868\u5f15\u64ce\u67b6\u6784\u6574\u4f53\u5206\u4e3aREFront \u548c REQuery\u4e24\u5c42\uff0cREMeta\u4e3a\u72ec\u7acb\u7684\u5143\u6570\u636e\u7ba1\u7406\u6a21\u5757\u3002\u62a5\u8868\u5f15\u64ce\u5728REQuery\u5185\u90e8\u5b9e\u73b0MEM Join\u3002\u652f\u6301Druid\u5f15\u64ce\u4e2d\u7684\u4e8b\u5b9e\u6570\u636e\u4e0eES\u5f15\u64ce\u4e2d\u7684\u7ef4\u5ea6\u6570\u636e\u505a\u5173\u8054\u67e5\u8be2\u3002\u4e3a\u4e0a\u5c42\u4e1a\u52a1\u63d0\u4f9b\u865a\u62df\u7684cube\u8868\u67e5\u8be2\u3002\u5c4f\u853d\u590d\u6742\u7684\u8de8\u5f15\u64ce\u7ba1\u7406\u67e5\u8be2\u903b\u8f91\u3002\\n\\n![1](/images/Kwai/zh/1.png)\\n\\n## 3 \u57fa\u4e8eApache Doris\u7684\u67b6\u6784\\n\\n## 3.1 \u67b6\u6784\u9057\u7559\u7684\u95ee\u9898\\n\\n\u9996\u5148\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u62a5\u8868\u5f15\u64ce\u65f6\uff0c\u53d1\u73b0\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a\u95ee\u9898\u3002Mem Join\u662f\u5355\u673a\u5b9e\u73b0\u4e0e\u4e32\u884c\u6267\u884c\uff0c\u5230\u5355\u6b21\u4eceES\u4e2d\u62c9\u53d6\u7684\u6570\u636e\u91cf\u8d85\u8fc710W\u65f6\uff0c\u54cd\u5e94\u65f6\u95f4\u5df2\u7ecf\u63a5\u8fd110s\uff0c\u7528\u6237\u4f53\u9a8c\u5dee\u3002\u800c\u4e14\u5355\u8282\u70b9\u5b9e\u73b0\u5927\u89c4\u6a21\u6570\u636eJoin\u5904\u7406\uff0c\u5185\u5b58\u6d88\u8017\u5927\uff0c\u6709Full GC\u98ce\u9669\u3002\\n\\n\u5176\u6b21\uff0cDruid\u7684Lookup Join\u4e86\u529f\u80fd\u4e0d\u591f\u5b8c\u5584\u662f\u4e00\u4e2a\u8f83\u5927\u7684\u95ee\u9898\uff0c\u4e0d\u80fd\u5b8c\u5168\u6ee1\u8db3\u771f\u5b9e\u4e1a\u52a1\u9700\u6c42\u3002\\n\\n## 3.2 \u9009\u578b\u8c03\u7814\\n\\n\u4e8e\u662f\u6211\u4eec\u5bf9\u4e1a\u754c\u5e38\u89c1\u7684 OLAP \u6570\u636e\u5e93\u8fdb\u884c\u4e86\u8c03\u7814\uff0c\u5176\u4e2d\u6700\u5177\u4ee3\u8868\u6027\u7684\u4e3a Apache Doris\u548c Clickhouse\u3002\u5728\u8fdb\u4e00\u6b65\u7684\u8c03\u7814\u4e2d\u6211\u4eec\u53d1\u73b0\uff0cApache Doris\u5728\u5927\u5bbd\u8868Join\u7684\u80fd\u529b\u66f4\u5f3a\u3002ClickHouse\u80fd\u591f\u652f\u6301 Broadcast \u57fa\u4e8e\u5185\u5b58\u7684Join\uff0c\u4f46\u662f\u5bf9\u4e8e\u5927\u6570\u636e\u91cf\u5343\u4e07\u7ea7\u4ee5\u4e0a\u5927\u5bbd\u8868\u7684Join\uff0cClickHouse \u7684\u6027\u80fd\u8868\u73b0\u4e0d\u597d\u3002Doris \u548c Clickhouse \u90fd\u652f\u6301\u660e\u7ec6\u6570\u636e\u5b58\u50a8\uff0c\u4f46Clickhouse\u652f\u6301\u7684\u5e76\u53d1\u5ea6\u8f83\u4f4e\uff0c\u76f8\u53cdDoris\u652f\u6301\u9ad8\u5e76\u53d1\u4f4e\u5ef6\u65f6\u7684\u67e5\u8be2\u670d\u52a1\uff0c\u5355\u673a\u6700\u9ad8\u652f\u6301\u4e0a\u5343QPS\u3002\u5728\u5e76\u53d1\u589e\u52a0\u65f6\uff0c\u7ebf\u6027\u6269\u5145FE\u548cBE\u5373\u53ef\u652f\u6301\u3002\u800cClickhouse\u7684\u6570\u636e\u5bfc\u5165\u6ca1\u6709\u4e8b\u52a1\u652f\u6301\u529f\u80fd\uff0c\u65e0\u6cd5\u5b9e\u73b0exactly once\u8bed\u4e49\uff0c\u5bf9\u6807\u51c6sql\u7684\u652f\u6301\u4e5f\u662f\u6709\u9650\u7684\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0cDoris\u63d0\u4f9b\u4e86\u6570\u636e\u5bfc\u5165\u7684\u4e8b\u52a1\u652f\u6301\u548c\u539f\u5b50\u6027\uff0cDoris \u81ea\u8eab\u80fd\u591f\u4fdd\u8bc1\u4e0d\u4e22\u4e0d\u91cd\u7684\u8ba2\u9605 Kafka \u4e2d\u7684\u6d88\u606f\uff0c\u5373 Exactly-Once \u6d88\u8d39\u8bed\u4e49\u3002ClickHouse\u4f7f\u7528\u95e8\u69db\u9ad8\u3001\u8fd0\u7ef4\u6210\u672c\u9ad8\u548c\u5206\u5e03\u5f0f\u80fd\u529b\u5f31\uff0c\u9700\u8981\u8f83\u591a\u7684\u5b9a\u5236\u5316\u548c\u8f83\u6df1\u7684\u6280\u672f\u5b9e\u529b\u4e5f\u662f\u53e6\u4e00\u4e2a\u96be\u9898\uff0cDoris\u5219\u4e0d\u540c\uff0c\u53ea\u6709FE\u3001BE\u4e24\u4e2a\u6838\u5fc3\u7ec4\u4ef6\uff0c\u5916\u90e8\u4f9d\u8d56\u4e5f\u6bd4\u8f83\u5c11\uff0c\u8fd0\u7ef4\u5feb\u6377\u7b80\u5355\u3002\u6211\u4eec\u8fd8\u53d1\u73b0\uff0c\u7531\u4e8eDoris \u66f4\u52a0\u63a5\u8fd1 MySQL\u534f\u8bae\uff0c\u6bd4\u8d77Clickhouse\u66f4\u52a0\u4fbf\u6377\uff0c\u5728\u8fc1\u79fb\u65f6\u7684\u6210\u672c\u5e76\u4e0d\u5927\u3002\u5728\u6a2a\u5411\u6269\u5bb9\u65b9\u9762\uff0cDoris \u7684\u6269\u7f29\u5bb9\u4e5f\u80fd\u591f\u505a\u5230\u81ea\u5e73\u8861\uff0c\u5927\u5927\u4f18\u4e8eClickhouse\u3002\\n\\n\u7531\u6b64\u770b\u6765Doris\u53ef\u4ee5\u6bd4\u8f83\u597d\u7684\u63d0\u5347Join\u7684\u6027\u80fd\uff0c\u5728\u8fc1\u79fb\u6210\u672c\u3001\u6a2a\u5411\u6269\u5bb9\u3001\u5e76\u53d1\u7a0b\u5ea6\u7b49\u5176\u4ed6\u65b9\u9762\u4e5f\u6bd4\u8f83\u4f18\u79c0\u3002\u4e0d\u8fc7\u5728\u9ad8\u9891Update\u4e0a\uff0cElasticsearch\u5177\u6709\u5148\u5929\u7684\u4f18\u52bf\u3002\\n\\n\u901a\u8fc7 Doris \u521b\u5efa ES \u5916\u8868\u7684\u65b9\u5f0f\u6765\u540c\u65f6\u5e94\u5bf9\u9ad8\u9891Upate\u548cJoin\u6027\u80fd\u95ee\u9898\uff0c\u4f1a\u662f\u6bd4\u8f83\u7406\u60f3\u7684\u89e3\u51b3\u65b9\u6848\u3002\\n\\n## 3.3 Doris+Doris on ES\u5b8c\u7f8e\u914d\u5408\\n\\nDoris on ES \u7684\u67e5\u8be2\u6027\u80fd\u7a76\u7adf\u5982\u4f55\u5462\uff1f\\n\\n\u9996\u5148\uff0cApache Doris \u662f\u4e00\u4e2a\u57fa\u4e8eMPP \u67b6\u6784\u7684\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93\uff0c\u6027\u80fd\u5f3a\u52b2\u3001\u6a2a\u5411\u6269\u5c55\u80fd\u529b\u80fd\u529b\u5f3a\u3002Doris on ES\u6784\u5efa\u5728\u8fd9\u4e2a\u80fd\u529b\u4e4b\u4e0a\uff0c\u5e76\u4e14\u5bf9\u67e5\u8be2\u505a\u4e86\u5927\u91cf\u7684\u4f18\u5316\u3002\u5176\u6b21\uff0c\u5728\u8fd9\u4e9b\u4e4b\u4e0a\uff0c\u878d\u5408Elasticsearch\u7684\u80fd\u529b\u4e4b\u540e\uff0c\u6211\u4eec\u8fd8\u5bf9\u67e5\u8be2\u529f\u80fd\u505a\u51fa\u4e86\u5927\u91cf\u7684\u4f18\u5316\uff1a\\n- Shard\u7ea7\u522b\u5e76\u53d1\\n- \u884c\u5217\u626b\u63cf\u81ea\u52a8\u9002\u914d\uff0c\u4f18\u5148\u5217\u5f0f\u626b\u63cf\\n- \u987a\u5e8f\u8bfb\u53d6\uff0c\u63d0\u524d\u7ec8\u6b62\\n- \u4e24\u9636\u6bb5\u67e5\u8be2\u53d8\u4e3a\u4e00\u9636\u6bb5\u67e5\u8be2\\n- Join\u573a\u666f\u4f7f\u7528Broadcast Join\uff0c\u5bf9\u4e8e\u5c0f\u6279\u91cf\u6570\u636eJoin\u7279\u522b\u53cb\u597d\\n\\n![2](/images/Kwai/zh/2.png)\\n\\n## 3.4 \u57fa\u4e8eDoris on Elasticsearch\u7684\u67b6\u6784\u5b9e\u73b0\\n\\n### 3.4.1 \u6570\u636e\u94fe\u8def\u5347\u7ea7\\n\\n\u6570\u636e\u94fe\u8def\u7684\u5347\u7ea7\u9002\u914d\u6bd4\u8f83\u7b80\u5355\u3002\u7b2c\u4e00\u6b65\uff0c\u7531Doris\u6784\u5efa\u65b0\u7684Olap\u8868\uff0c\u914d\u7f6e\u597d\u7269\u5316\u89c6\u56fe\u3002\u7b2c\u4e8c\u6b65\uff0c\u57fa\u4e8e\u4e4b\u524d\u4e8b\u5b9e\u6570\u636e\u7684kafka topic\u542f\u52a8routine load\uff0c\u5bfc\u5165\u5b9e\u65f6\u6570\u636e\u3002\u7b2c\u4e09\u6b65\uff0c\u4eceHive\u4e2d\u901abroker load\u5bfc\u5165\u79bb\u7ebf\u6570\u636e\u3002\u6700\u540e\u4e00\u6b65\uff0c\u901a\u8fc7Doris\u521b\u5efaEs\u5916\u8868\u3002\\n\\n![3](/images/Kwai/zh/3.png)\\n\\n### 3.4.2 \u62a5\u8868\u5f15\u64ce\u9002\u914d\u5347\u7ea7\\n\\n![4](/images/Kwai/zh/4.png)\\n\\n\u6ce8\uff1a\u4e0a\u56fe\u5173\u8054\u7684mysql\u7ef4\u8868\u662f\u57fa\u4e8e\u672a\u6765\u89c4\u5212\uff0c\u76ee\u524d\u4e3b\u8981\u662fES\u505a\u7ef4\u8868\u5f15\u64ce\\n\\n\u62a5\u8868\u5f15\u64ce\u9002\u914d\\n- \u62bd\u8c61\u57fa\u4e8eDoris\u7684\u661f\u578b\u6a21\u578b\u865a\u62dfcube\u8868\\n- \u9002\u914dcube\u8868\u67e5\u8be2\u89e3\u6790\uff0c\u667a\u80fd\u4e0b\u63a8\\n- \u652f\u6301\u7070\u5ea6\u4e0a\u7ebf\\n\\n# 4  \u7ebf\u4e0a\u8868\u73b0\\n\\n## 4.1 \u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\\n\\n### 4.1.1 \u4e8b\u5b9e\u8868\u67e5\u8be2\u8868\u73b0\u5bf9\u6bd4\\n\\nDruid\\n\\n![5](/images/Kwai/zh/5.png)\\n\\nDoris\\n\\n![6](/images/Kwai/zh/6.png)\\n\\n99\u5206\u4f4d\u8017\u65f6Druid\u5927\u6982\u4e3a270ms\uff0cDoris\u4e3a150ms\uff0c\u5ef6\u65f6\u4e0b\u964d45%\\n\\n### 4.1.2 Join\u573a\u666f\u4e0bcube\u8868\u67e5\u8be2\u8868\u73b0\u5bf9\u6bd4\\n\\nDruid\\n\\n![7](/images/Kwai/zh/7.png)\\n\\nDoris\\n\\n![8](/images/Kwai/zh/8.png)\\n\\n99\u5206\u4f4d\u8017\u65f6Druid\u5927\u6982\u4e3a660ms\uff0cDoris\u4e3a440ms\uff0c\u5ef6\u65f6\u4e0b\u964d33%\\n\\n### 4.1.3 \u6536\u76ca\u603b\u7ed3\\n\\n- P99\u6574\u4f53\u8017\u65f6\u4e0b\u964d35%\u5de6\u53f3\\n- \u8d44\u6e90\u8282\u770150%\u5de6\u53f3\\n- \u53bb\u9664\u62a5\u8868\u5f15\u64ce\u5185\u90e8Mem Join\u7684\u590d\u6742\u903b\u8f91\uff0c\u4e0b\u6c89\u81f3Doris\u901a\u8fc7DOE\u5b9e\u73b0\uff0c\u5728\u5927\u67e5\u8be2\u573a\u666f\u4e0b(\u7ef4\u8868\u7ed3\u679c\u8d85\u8fc710W\uff0c\u6027\u80fd\u63d0\u5347\u8d85\u8fc710\u500d\uff0c10s->1s)\\n- \u66f4\u4e30\u5bcc\u7684\u67e5\u8be2\u8bed\u4e49(\u539f\u672cMem Join\u5b9e\u73b0\u6bd4\u8f83\u7b80\u5355\uff0c\u4e0d\u652f\u6301\u590d\u6742\u7684\u67e5\u8be2)\\n\\n# 5  \u603b\u7ed3\u4e0e\u672a\u6765\u89c4\u5212\\n\\n\u5728\u5feb\u624b\u5546\u4e1a\u5316\u4e1a\u52a1\u91cc\u9762\uff0c\u7ef4\u5ea6\u6570\u636e\u4e0e\u4e8b\u5b9e\u6570\u636eJoin\u67e5\u8be2\u662f\u975e\u5e38\u666e\u904d\u7684\u3002\u4f7f\u7528Doris \u4e4b\u540e\uff0c\u67e5\u8be2\u53d8\u5f97\u7b80\u5355\u3002\u6211\u4eec\u4ec5\u9700\u8981\u6309\u5929\u540c\u6b65\u4e8b\u5b9e\u8868\u548c\u7ef4\u8868\uff0c\u5728\u67e5\u8be2\u7684\u540c\u65f6 Join\u5373\u53ef\u3002\u901a\u8fc7Doris\u66ff\u4ee3Druid\u3001Clickhouse\u7684\u65b9\u6848\uff0c\u57fa\u672c\u8986\u76d6\u4e86\u6211\u4eec\u4f7f\u7528Druid \u65f6\u7684\u6240\u6709\u573a\u666f\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u6d77\u91cf\u6570\u636e\u7684\u805a\u5408\u5206\u6790\u80fd\u529b\u3002\u5728Apache Doris\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u8fd8\u53d1\u73b0\u4e86\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u6536\u76ca\uff1a\u4f8b\u5982\uff0cRoutine Load\u548c Broker Load\u7684\u5bfc\u5165\u65b9\u5f0f\u8f83\u4e3a\u7b80\u5355\uff0c\u63d0\u5347\u4e86\u67e5\u8be2\u901f\u5ea6\uff1b\u6570\u636e\u5360\u7528\u7a7a\u95f4\u5927\u5e45\u964d\u4f4e\uff1bDoris\u652f\u6301MySQL\u534f\u8bae\uff0c\u65b9\u4fbf\u4e86\u6570\u636e\u5206\u6790\u5e08\u81ea\u52a9\u53d6\u6570\u7ed8\u56fe\u7b49\u3002\\n\\n\u5c3d\u7ba1Doris on ES\u7684\u89e3\u51b3\u65b9\u6848\u6bd4\u8f83\u6210\u529f\u7684\u6ee1\u8db3\u4e86\u6211\u4eec\u7684\u62a5\u8868\u4e1a\u52a1\uff0cES\u5916\u8868\u6620\u5c04\u4ecd\u7136\u9700\u8981\u624b\u5de5\u5efa\u8868\u3002\u4f46Apache Doris\u4e8e\u8fd1\u65e5\u5b8c\u6210\u4e86\u6700\u65b0\u7248\u672cV1.2.0\u7684\u53d1\u5e03\uff0c\u65b0\u7248\u672c\u529f\u80fd\u65b0\u589e\u4e86Multi-Catlog\uff0c\u63d0\u4f9b\u4e86\u65e0\u7f1d\u63a5\u5165Hive\u3001ES\u3001Hudi\u3001Iceberg \u7b49\u5916\u90e8\u6570\u636e\u6e90\u7684\u80fd\u529b\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 CREATE CATALOG \u547d\u4ee4\u8fde\u63a5\u5230\u5916\u90e8\u6570\u636e\u6e90\uff0cDoris \u4f1a\u81ea\u52a8\u6620\u5c04\u5916\u90e8\u6570\u636e\u6e90\u7684\u5e93\u3001\u8868\u4fe1\u606f\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4ee5\u540e\u6211\u4eec\u5c31\u4e0d\u9700\u8981\u518d\u624b\u52a8\u521b\u5efaEs\u5916\u8868\u5b8c\u6210\u6620\u5c04\uff0c\u5927\u5927\u8282\u7701\u4e86\u5f00\u53d1\u7684\u65f6\u95f4\u6210\u672c\uff0c\u63d0\u5347\u4e86\u7814\u53d1\u6548\u7387\u3002\u800c\u5168\u9762\u5411\u91cf\u5316\u3001Ligt Schema Change\u3001Merge-on-Write\u3001Java UDF\u7b49\u5176\u4ed6\u65b0\u529f\u80fd\u7684\u5b9e\u73b0\uff0c\u4e5f\u8ba9\u6211\u4eec\u5bf9Apache Doris\u6709\u4e86\u5168\u65b0\u7684\u671f\u5f85\u3002\u795d\u798fApache Doris\uff01\\n\\n\\n# \u8054\u7cfb\u6211\u4eec\\n\\n\u5b98\u7f51\uff1ahttp://doris.apache.org\\n\\nGithub\uff1ahttps://github.com/apache/doris\\n\\ndev\u90ae\u4ef6\u7ec4\uff1adev@doris.apache.org"},{"id":"/xiaomi_vector","metadata":{"permalink":"/zh-CN/blog/xiaomi_vector","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/xiaomi_vector.md","title":"\u6700\u4f73\u5b9e\u8df5: Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","description":"\x3c!--","date":"2022-12-08T00:00:00.000Z","formattedDate":"2022\u5e7412\u67088\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u9b4f\u795a"}],"frontMatter":{"title":"\u6700\u4f73\u5b9e\u8df5: Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","summary":"\u5c0f\u7c73\u96c6\u56e2\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165\u4e86 Apache Doris \uff0c\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5c0f\u7c73\u5185\u90e8\u6570\u5341\u4e2a\u4e1a\u52a1\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\uff0c\u5e76\u4e14\u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u5f62\u6210\u4e00\u5957\u4ee5 Apache Doris \u4e3a\u6838\u5fc3\u7684\u6570\u636e\u751f\u6001\u3002\u672c\u7bc7\u6587\u7ae0\u8f6c\u5f55\u81ea Doris \u793e\u533a\u7ebf\u4e0a Meetup \u4e3b\u9898\u6f14\u8bb2\uff0c\u65e8\u5728\u5206\u4eab Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u843d\u5730\u5b9e\u8df5\u4e0e\u4f18\u5316\u5b9e\u8df5","date":"2022-12-08","author":"\u9b4f\u795a","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"Doris on Es\u5728\u5feb\u624b\u5546\u4e1a\u5316\u7684\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/BestPractice_Kwai"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.0 Release","permalink":"/zh-CN/blog/release-1.2.0"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n>\u5bfc\u8bfb\uff1a\u5c0f\u7c73\u96c6\u56e2\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165\u4e86 Apache Doris \uff0c\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5c0f\u7c73\u5185\u90e8\u6570\u5341\u4e2a\u4e1a\u52a1\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\uff0c\u5e76\u4e14\u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u5f62\u6210\u4e00\u5957\u4ee5 Apache Doris \u4e3a\u6838\u5fc3\u7684\u6570\u636e\u751f\u6001\u3002\u672c\u7bc7\u6587\u7ae0\u8f6c\u5f55\u81ea Doris \u793e\u533a\u7ebf\u4e0a Meetup \u4e3b\u9898\u6f14\u8bb2\uff0c\u65e8\u5728\u5206\u4eab Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u843d\u5730\u5b9e\u8df5\u4e0e\u4f18\u5316\u5b9e\u8df5\u3002\\n\\n>\u4f5c\u8005\uff5c\u9b4f\u795a \u5c0f\u7c73 OLAP \u5f15\u64ce\u7814\u53d1\u5de5\u7a0b\u5e08 \\n\\n![kv](/images/xiaomi/zh/kv.png)\\n\\n# \u5173\u4e8e\u5c0f\u7c73\\n\u5c0f\u7c73\u516c\u53f8\uff08\u201c\u5c0f\u7c73\u201d\u6216\u201c\u96c6\u56e2\u201d\uff1bHKG\uff1a1810\uff09\uff0c\u4e00\u5bb6\u6d88\u8d39\u7535\u5b50\u548c\u667a\u80fd\u5236\u9020\u516c\u53f8\uff0c\u5176\u667a\u80fd\u624b\u673a\u548c\u667a\u80fd\u786c\u4ef6\u901a\u8fc7\u7269\u8054\u7f51 (IoT) \u5e73\u53f0\u8fde\u63a5\u3002 2021\u5e74\uff0c\u5c0f\u7c73\u603b\u6536\u5165\u8fbe\u5230\u4eba\u6c11\u5e013283\u4ebf\u5143\uff084722.3131.62\u4ebf\u7f8e\u5143\uff09\uff0c\u540c\u6bd4\u589e\u957f33.5%\uff1b\u8c03\u6574\u540e\u51c0\u5229\u6da6\u4e3a\u4eba\u6c11\u5e01 220 \u4ebf\u5143\uff08316,451.08 \u4e07\u7f8e\u5143\uff09\uff0c\u540c\u6bd4\u589e\u957f 69.5%\u3002\\n\\n\u56e0\u5206\u6790\u4e1a\u52a1\u7684\u589e\u957f\uff0c\u5c0f\u7c73\u96c6\u56e2\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165\u4e86 Apache Doris \u3002\u7ecf\u8fc7\u4e09\u5e74\u65f6\u95f4\u7684\u53d1\u5c55\uff0c\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5e7f\u544a\u6295\u653e\u3001\u65b0\u96f6\u552e\u3001\u589e\u957f\u5206\u6790\u3001\u6570\u636e\u770b\u677f\u3001\u7528\u6237\u753b\u50cf\u3001\u5929\u661f\u6570\u79d1\u3001\u5c0f\u7c73\u6709\u54c1\u3001\u7b49\u5c0f\u7c73\u5185\u90e8\u6570\u5341\u4e2a\u4e1a\u52a1\u548c\u54c1\u724c\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\uff0c\u5e76\u4e14\u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u56f4\u7ed5 Apache Doris \u4e3a\u6838\u5fc3\u5efa\u8bbe\u4e86\u6570\u636e\u751f\u6001\u3002\\n\\n![1](/images/xiaomi/zh/1.png)\\n\\n\u5f53\u524d Apache Doris \u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u5177\u6709\u6570\u5341\u4e2a\u96c6\u7fa4\u3001\u603b\u4f53\u8fbe\u5230\u6570\u767e\u53f0 BE \u8282\u70b9\u7684\u89c4\u6a21\uff0c\u5176\u4e2d\u5355\u96c6\u7fa4\u6700\u5927\u89c4\u6a21\u8fbe\u5230\u8fd1\u767e\u53f0\u8282\u70b9\uff0c\u62e5\u6709\u6570\u5341\u4e2a\u5b9e\u65f6\u6570\u636e\u540c\u6b65\u4efb\u52a1\uff0c\u6bcf\u65e5\u5355\u8868\u6700\u5927\u589e\u91cf 120 \u4ebf\u3001\u652f\u6301 PB \u7ea7\u522b\u5b58\u50a8\uff0c\u5355\u96c6\u7fa4\u6bcf\u5929\u53ef\u4ee5\u652f\u6301 2W \u6b21\u4ee5\u4e0a\u7684\u591a\u7ef4\u5206\u6790\u67e5\u8be2\u3002\\n\\n# \u67b6\u6784\u6f14\u8fdb\\n\u5c0f\u7c73\u5f15\u5165 Apache Doris \u7684\u521d\u8877\u662f\u4e3a\u4e86\u89e3\u51b3\u5185\u90e8\u7684\u7528\u6237\u884c\u4e3a\u5206\u6790\u4e2d\u6240\u9047\u5230\u7684\u95ee\u9898\u3002\u968f\u7740\u5c0f\u7c73\u4e92\u8054\u7f51\u4e1a\u52a1\u7684\u53d1\u5c55\uff0c\u5229\u7528\u7528\u6237\u884c\u4e3a\u6570\u636e\u8fdb\u884c\u589e\u957f\u5206\u6790\u7684\u9700\u6c42\u8d8a\u6765\u8d8a\u5f3a\u70c8\u3002\u5982\u679c\u6bcf\u4e2a\u4e1a\u52a1\u4ea7\u54c1\u7ebf\u90fd\u81ea\u5df1\u642d\u5efa\u4e00\u5957\u589e\u957f\u5206\u6790\u7cfb\u7edf\uff0c\u4e0d\u4ec5\u6210\u672c\u9ad8\u6602\uff0c\u6548\u7387\u4e5f\u4e0d\u9ad8\u3002\u56e0\u6b64\u5982\u679c\u80fd\u6709\u4e00\u6b3e\u4ea7\u54c1\u80fd\u591f\u5e2e\u52a9\u4ed6\u4eec\u4e0d\u7528\u5173\u5fc3\u5e95\u5c42\u7684\u590d\u6742\u6280\u672f\u7ec6\u8282\uff0c\u8ba9\u76f8\u5173\u4e1a\u52a1\u4eba\u5458\u80fd\u591f\u4e13\u6ce8\u4e8e\u81ea\u5df1\u7684\u6280\u672f\u5de5\u4f5c\uff0c\u53ef\u4ee5\u6781\u5927\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u3002\u6240\u4ee5\uff0c\u5c0f\u7c73\u5927\u6570\u636e\u548c\u4e91\u5e73\u53f0\u8054\u5408\u5f00\u53d1\u4e86\u589e\u957f\u5206\u6790\u7cfb\u7edf Growing Analytics\uff08\u4e0b\u6587\u4e2d\u7b80\u79f0 GA)\uff0c\u65e8\u5728\u63d0\u4f9b\u4e00\u4e2a\u7075\u6d3b\u7684\u591a\u7ef4\u5b9e\u65f6\u67e5\u8be2\u548c\u5206\u6790\u5e73\u53f0\uff0c\u53ef\u4ee5\u7edf\u4e00\u7ba1\u7406\u6570\u636e\u63a5\u5165\u548c\u67e5\u8be2\u65b9\u6848\uff0c\u5e2e\u52a9\u4e1a\u52a1\u7ebf\u505a\u597d\u7cbe\u7ec6\u5316\u8fd0\u8425\u3002\\n\\n## \u5386\u53f2\u67b6\u6784\\n\u589e\u957f\u5206\u6790\u5e73\u53f0\u7acb\u9879\u4e8e 2018 \u5e74\u5e74\u4e2d\uff0c\u5f53\u65f6\u57fa\u4e8e\u5f00\u53d1\u65f6\u95f4\u548c\u6210\u672c\uff0c\u6280\u672f\u6808\u7b49\u56e0\u7d20\u7684\u8003\u8651\uff0c\u5c0f\u7c73\u590d\u7528\u4e86\u73b0\u6709\u5404\u79cd\u5927\u6570\u636e\u57fa\u7840\u7ec4\u4ef6\uff08HDFS, Kudu, SparkSQL \u7b49\uff09\uff0c\u642d\u5efa\u4e86\u4e00\u5957\u57fa\u4e8e Lamda \u67b6\u6784\u7684\u589e\u957f\u5206\u6790\u67e5\u8be2\u7cfb\u7edf\u3002GA \u7cfb\u7edf\u521d\u4ee3\u7248\u672c\u7684\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5305\u542b\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a\\n- \u6570\u636e\u6e90\uff1a\u6570\u636e\u6e90\u662f\u524d\u7aef\u7684\u57cb\u70b9\u6570\u636e\u4ee5\u53ca\u7528\u6237\u884c\u4e3a\u6570\u636e\u3002\\n- \u6570\u636e\u63a5\u5165\u5c42\uff1a\u5bf9\u57cb\u70b9\u6570\u636e\u8fdb\u884c\u7edf\u4e00\u7684\u6e05\u6d17\u540e\u5199\u5165\u5c0f\u7c73\u5185\u90e8\u81ea\u7814\u7684\u6d88\u606f\u961f\u5217\u4e2d\uff0c\u5e76\u901a\u8fc7 Spark Streaming \u5c06\u6570\u636e\u5bfc\u5165Kudu \u4e2d\u3002\\n- \u5b58\u50a8\u5c42\uff1a\u5728\u5b58\u50a8\u5c42\u4e2d\u8fdb\u884c\u51b7\u70ed\u6570\u636e\u5206\u79bb\u3002\u70ed\u6570\u636e\u5b58\u653e\u5728 Kudu \u4e2d\uff0c\u51b7\u6570\u636e\u5219\u4f1a\u5b58\u653e\u5728 HDFS \u4e0a\u3002\u540c\u65f6\u5728\u5b58\u50a8\u5c42\u4e2d\u8fdb\u884c\u5206\u533a\uff0c\u5f53\u5206\u533a\u5355\u4f4d\u4e3a\u5929\u65f6\uff0c\u6bcf\u665a\u4f1a\u5c06\u4e00\u90e8\u5206\u6570\u636e\u8f6c\u51b7\u5e76\u5b58\u50a8\u5230 HDFS \u4e0a\u3002\\n- \u8ba1\u7b97\u5c42/\u67e5\u8be2\u5c42\uff1a\u5728\u67e5\u8be2\u5c42\u4e2d\uff0c\u4f7f\u7528 SparkSQL \u5bf9 Kudu \u4e0e HDFS \u4e0a\u6570\u636e\u8fdb\u884c\u8054\u90a6\u67e5\u8be2\uff0c\u6700\u7ec8\u628a\u67e5\u8be2\u7ed3\u679c\u663e\u793a\u5728\u524d\u7aef\u9875\u9762\u3002\\n\\n![2](/images/xiaomi/zh/2.png)\\n\\n\u5728\u5f53\u65f6\u7684\u5386\u53f2\u80cc\u666f\u4e0b\uff0c\u521d\u4ee3\u7248\u672c\u7684\u589e\u957f\u5206\u6790\u5e73\u53f0\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u4e86\u4e00\u7cfb\u5217\u7528\u6237\u8fd0\u8425\u8fc7\u7a0b\u4e2d\u7684\u95ee\u9898\uff0c\u4f46\u540c\u65f6\u5728\u5386\u53f2\u67b6\u6784\u4e2d\u4e5f\u5b58\u5728\u4e86\u4e24\u4e2a\u95ee\u9898\uff1a\\n\\n### \u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u7ec4\u4ef6\u5206\u6563\\n\u7531\u4e8e\u5386\u53f2\u67b6\u6784\u662f\u57fa\u4e8e SparkSQL + Kudu + HDFS \u7684\u7ec4\u5408\uff0c\u4f9d\u8d56\u7684\u7ec4\u4ef6\u8fc7\u591a\u5bfc\u81f4\u8fd0\u7ef4\u6210\u672c\u8f83\u9ad8\u3002\u539f\u672c\u7684\u8bbe\u8ba1\u662f\u5404\u4e2a\u7ec4\u4ef6\u90fd\u4f7f\u7528\u516c\u5171\u96c6\u7fa4\u7684\u8d44\u6e90\uff0c\u4f46\u662f\u5b9e\u8df5\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u6267\u884c\u67e5\u8be2\u4f5c\u4e1a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u67e5\u8be2\u6027\u80fd\u5bb9\u6613\u53d7\u5230\u516c\u5171\u96c6\u7fa4\u5176\u4ed6\u4f5c\u4e1a\u7684\u5f71\u54cd\uff0c\u5bb9\u6613\u53d1\u751f\u67e5\u8be2\u6296\u52a8\uff0c\u5c24\u5176\u5728\u8bfb\u53d6 HDFS \u516c\u5171\u96c6\u7fa4\u7684\u6570\u636e\u65f6\uff0c\u6709\u65f6\u8f83\u4e3a\u7f13\u6162\u3002\\n\\n### \u7b2c\u4e8c\u4e2a\u95ee\u9898\uff1a\u8d44\u6e90\u5360\u7528\u9ad8\\n\u901a\u8fc7 SparkSQL \u8fdb\u884c\u67e5\u8be2\u65f6\uff0c\u5ef6\u8fdf\u76f8\u5bf9\u8f83\u9ad8\u3002SparkSQL \u662f\u57fa\u4e8e\u6279\u5904\u7406\u7cfb\u7edf\u8bbe\u8ba1\u7684\u67e5\u8be2\u5f15\u64ce\uff0c\u5728\u6bcf\u4e2a Stage \u4e4b\u95f4\u4ea4\u6362\u6570\u636e Shuffle \u7684\u8fc7\u7a0b\u4e2d\u4f9d\u7136\u9700\u8981\u8fdb\u884c\u843d\u76d8\uff0c\u5b8c\u6210 SQL \u67e5\u8be2\u7684\u65f6\u5ef6\u8f83\u9ad8\u3002\u4e3a\u4e86\u4fdd\u8bc1 SQL \u67e5\u8be2\u4e0d\u53d7\u8d44\u6e90\u7684\u5f71\u54cd\uff0c\u6211\u4eec\u901a\u8fc7\u6dfb\u52a0\u673a\u5668\u6765\u4fdd\u8bc1\u67e5\u8be2\u6027\u80fd\uff0c\u4f46\u662f\u5b9e\u8df5\u8fc7\u7a0b\u4e2d\u53d1\u73b0\uff0c\u6027\u80fd\u63d0\u5347\u7684\u7a7a\u95f4\u6709\u9650\uff0c\u8fd9\u5957\u89e3\u51b3\u65b9\u6848\u5e76\u4e0d\u80fd\u5145\u5206\u5730\u5229\u7528\u673a\u5668\u8d44\u6e90\u6765\u8fbe\u5230\u9ad8\u6548\u67e5\u8be2\u7684\u76ee\u7684\uff0c\u5b58\u5728\u4e00\u5b9a\u7684\u8d44\u6e90\u6d6a\u8d39\u3002\\n\\n\u9488\u5bf9\u4e0a\u8ff0\u4e24\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u5bfb\u6c42\u4e00\u6b3e\u8ba1\u7b97\u3001\u5b58\u50a8\u4e00\u4f53\u7684 MPP \u6570\u636e\u5e93\u6765\u66ff\u4ee3\u6211\u4eec\u76ee\u524d\u7684\u5b58\u50a8\u8ba1\u7b97\u5c42\u7684\u7ec4\u4ef6\uff0c\u5728\u901a\u8fc7\u6280\u672f\u9009\u578b\u540e\uff0c\u6700\u7ec8\u6211\u4eec\u51b3\u5b9a\u4f7f\u7528 Apache Doris \u66ff\u6362\u8001\u4e00\u4ee3\u5386\u53f2\u67b6\u6784\u3002\\n\\n## \u91cd\u65b0\u9009\u578b\\n\\nMPP\u67b6\u6784\u7684\u67e5\u8be2\u5f15\u64ce\uff0c\u5982Impala,Presto\u7b49\u80fd\u591f\u9ad8\u6548\u5730\u652f\u6301SQL\u67e5\u8be2\uff0c\u4f46\u662f\u4ecd\u7136\u9700\u8981\u4f9d\u8d56Kudu, HDFS, Hive Metastore\u7b49\u7ec4\u4ef6, \u8fd0\u7ef4\u6210\u672c\u4f9d\u7136\u6bd4\u8f83\u9ad8\u3002\u540c\u65f6\uff0c\u7531\u4e8e\u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\uff0c\u67e5\u8be2\u5f15\u64ce\u4e0d\u80fd\u5f88\u597d\u5730\u53ca\u65f6\u611f\u77e5\u5b58\u50a8\u5c42\u7684\u6570\u636e\u53d8\u5316\uff0c\u5c31\u65e0\u6cd5\u505a\u66f4\u7ec6\u81f4\u7684\u67e5\u8be2\u4f18\u5316\u3002\u5982\u60f3\u5728SQL\u5c42\u505a\u7f13\u5b58\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u6700\u65b0\u7684\u3002\\n\\nDoris\u662fApache\u57fa\u91d1\u4f1a\u9876\u7ea7\u9879\u76ee\uff0c\u4e3b\u8981\u5b9a\u4f4d\u662f\u9ad8\u6027\u80fd\u7684\u3001\u652f\u6301\u5b9e\u65f6\u7684\u5206\u6790\u578b\u6570\u636e\u5e93\uff0c \u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u62a5\u8868\u548c\u591a\u7ef4\u5206\u6790\u3002\u5b83\u4e3b\u8981\u96c6\u6210\u4e86 Google Mesa \u548c Cloudera Impala \u6280\u672f\u3002\u6211\u4eec\u5bf9Doris\u8fdb\u884c\u4e86\u5185\u90e8\u7684\u6027\u80fd\u6d4b\u8bd5\u5e76\u591a\u6b21\u548c\u793e\u533a\u6c9f\u901a\u4ea4\u6d41\uff0c\u786e\u5b9a\u4e86\u7528Doris\u66ff\u6362\u539f\u6765\u7684\u8ba1\u7b97\u5b58\u50a8\u7ec4\u4ef6\u7684\u89e3\u51b3\u65b9\u6848\u3002\u6211\u4eec\u65b0\u7684\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a\\n\\n## \u57fa\u4e8e Apache Doris \u7684\u65b0\u7248\u67b6\u6784\\n\u65b0\u7248\u67b6\u6784\u4ece\u6570\u636e\u6e90\u83b7\u53d6\u57cb\u70b9\u6570\u636e\u540e\uff0c\u6570\u636e\u63a5\u5165\u540e\u5199\u5165 Apache Doris \u540e\u53ef\u4ee5\u76f4\u63a5\u67e5\u8be2\u7ed3\u679c\u5e76\u5728\u524d\u7aef\u8fdb\u884c\u663e\u793a\u3002\u771f\u6b63\u5b9e\u73b0\u4e86\u901a\u8fc7Doris\u7edf\u4e00\u4e86\u8ba1\u7b97\u3001\u5b58\u50a8\uff0c\u548c\u8d44\u6e90\u7ba1\u7406yarn\u76f8\u5173\u5de5\u5177\u3002\\n\\n![3](/images/xiaomi/zh/3.png)\\n\\n\u6211\u4eec\u9009\u62e9 Doris \u539f\u56e0\uff1a\\n- Doris \u5177\u6709\u4f18\u79c0\u7684\u67e5\u8be2\u6027\u80fd\uff0c\u80fd\u591f\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u3002\\n- Doris \u652f\u6301\u6807\u51c6 SQL \uff0c\u7528\u6237\u4f7f\u7528\u4e0e\u5b66\u4e60\u6210\u672c\u8f83\u4f4e\u3002\\n- Doris \u4e0d\u4f9d\u8d56\u4e8e\u5176\u4ed6\u7684\u5916\u90e8\u7cfb\u7edf\uff0c\u8fd0\u7ef4\u7b80\u5355\u3002\\n- Doris \u793e\u533a\u62e5\u6709\u5f88\u9ad8\u6d3b\u8dc3\u5ea6\uff0c\u7248\u672c\u8fed\u4ee3\u5feb\u3002\u5f00\u53d1\u8005\u89c4\u6a21\u5927\uff0c\u6709\u5229\u4e8e\u540e\u7eed\u7cfb\u7edf\u7684\u7ef4\u62a4\u5347\u7ea7\u3002\\n\\n## \u65b0\u65e7\u67b6\u6784\u6027\u80fd\u5bf9\u6bd4\\n\\n![4](/images/xiaomi/zh/4.png)\\n\\n\u6211\u4eec\u9009\u53d6\u4e86\u65e5\u5747\u6570\u636e\u91cf\u5927\u7ea6 10 \u4ebf\u7684\u4e1a\u52a1\uff0c\u5206\u522b\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u5bf9Doris\u8fdb\u884c\u4e86\u6027\u80fd\u6d4b\u8bd5\uff0c\u5176\u4e2d\u5305\u542b 6 \u4e2a\u4e8b\u4ef6\u5206\u6790\u573a\u666f\uff0c3 \u4e2a\u7559\u5b58\u5206\u6790\u573a\u666f\u4ee5\u53ca 3 \u4e2a\u6f0f\u6597\u5206\u6790\u573a\u666f\u3002\u7ecf\u8fc7\u4e0e\u3010SparkSQL+Kudu+HDFS\u3011\u7684\u65e7\u65b9\u6848\u5bf9\u6bd4\u540e\uff0c\u6211\u4eec\u53d1\u73b0\uff1a\\n- \u5728\u4e8b\u4ef6\u5206\u6790\u7684\u573a\u666f\u4e0b\uff0c\u5e73\u5747\u67e5\u8be2\u6240\u8017\u65f6\u95f4\u964d\u4f4e\u4e86 85%\u3002\\n- \u5728\u7559\u5b58\u5206\u6790\u548c\u6f0f\u6597\u5206\u6790\u573a\u666f\u4e0b\uff0c\u5e73\u5747\u67e5\u8be2\u6240\u8017\u65f6\u95f4\u964d\u4f4e\u4e86 50%\u3002\\n\\n# \u5e94\u7528\u5b9e\u8df5\\n\u4e0b\u9762\u5c06\u4ecb\u7ecd\u6211\u4eec\u5728Apache Doris\u5e94\u7528\u4e2d\u6570\u636e\u5bfc\u5165\u3001\u6570\u636e\u67e5\u8be2\u3001A/B\u6d4b\u8bd5\u7684\u7ecf\u9a8c\u3002\\n\\n## \u6570\u636e\u5bfc\u5165\\n\\n![5](/images/xiaomi/zh/5.png)\\n\\n\u5c0f\u7c73\u5185\u90e8\u4e3b\u8981\u901a\u8fc7 Stream Load \u4e0e Broker Load \u4ee5\u53ca\u5c11\u91cf Insert \u65b9\u5f0f\u6765\u5bfc\u5165\u6570\u636e\u5230Doris\u3002\u6570\u636e\u4e00\u822c\u4f1a\u5148\u5199\u5165\u5230\u6d88\u606f\u961f\u5217\u4e2d\uff0c\u5206\u4e3a\u5b9e\u65f6\u6570\u636e\u548c\u79bb\u7ebf\u6570\u636e\u4e24\u4e2a\u90e8\u5206\u3002\\n\u5b9e\u65f6\u6570\u636e\u5982\u4f55\u5199\u5165\u5230Apache Doris \u4e2d\uff1a\u4e00\u90e8\u5206\u5b9e\u65f6\u6570\u636e\u901a\u8fc7 Flink\u6570\u636e\u5904\u7406 \u540e\uff0c \u5e76\u901a\u8fc7 Doris \u793e\u533a\u63d0\u4f9b\u7684 Flink Doris Connector \u7ec4\u4ef6\u5199\u5165\u5230 Doris \u4e2d\u3002\u53e6\u4e00\u90e8\u5206\u6570\u636e\u901a\u8fc7 Spark Streaming \u7ec4\u4ef6\u5199\u5165\u3002\u8fd9\u4e24\u79cd\u5199\u5165\u65b9\u5f0f\u7684\u5e95\u5c42\u90fd\u4f9d\u8d56\u7684\u662f\u793e\u533a\u63d0\u4f9b\u7684 Stream Load\u3002\\n\u79bb\u7ebf\u6570\u636e\u5982\u4f55\u5199\u5165\u5230Apache Doris \u4e2d\uff1a\u79bb\u7ebf\u6570\u636e\u90e8\u5206\u5199\u5165 Hive \u540e\uff0c\u901a\u8fc7\u5c0f\u7c73\u7684\u6570\u636e\u5de5\u573a\u5c06\u6570\u636e\u5bfc\u5165\u5230 Doris \u4e2d\u3002\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5728\u6570\u636e\u5de5\u573a\u63d0\u4ea4 Broker Load \u4efb\u52a1\u5e76\u5c06\u6570\u636e\u76f4\u63a5\u5bfc\u5165 Doris \u4e2d\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 Spark SQL \u5c06\u6570\u636e\u5bfc\u5165 \u3002Spark SQL \u65b9\u5f0f\u5219\u662f\u4f9d\u8d56\u4e86 Doris \u793e\u533a\u63d0\u4f9b\u7684 Spark Doris Connector \u7ec4\u4ef6\uff0c\u5176\u5e95\u5c42\u4e3a Doris \u7684 Stream Load \u7684\u5c01\u88c5\u3002\\n\\n## \u6570\u636e\u67e5\u8be2\\n\\n![6](/images/xiaomi/zh/6.png)\\n\\n\u7528\u6237\u901a\u8fc7\u6570\u636e\u5de5\u573a\u5c06\u6570\u636e\u5bfc\u5165\u81f3 Doris \u540e\u5373\u53ef\u8fdb\u884c\u67e5\u8be2\u3002\u5728\u5c0f\u7c73\u5185\u90e8\uff0c\u53ef\u4ee5\u901a\u8fc7\u81ea\u7814\u7684\u6570\u9cb8\u5e73\u53f0\u8fdb\u884c\u67e5\u8be2\u7684\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u6570\u9cb8\u5e73\u53f0\u5bf9 Doris \u8fdb\u884c\u53ef\u89c6\u5316\u7684\u67e5\u8be2\uff0c\u5e76\u5c55\u5f00\u7528\u6237\u884c\u4e3a\u5206\u6790\u548c\u7528\u6237\u753b\u50cf\u5206\u6790\u3002\u5176\u4e2d\uff0c\u4e3a\u5e2e\u52a9\u4e1a\u52a1\u8fdb\u884c\u4e8b\u4ef6\u5206\u6790\u3001\u7559\u5b58\u5206\u6790\u3001\u6f0f\u6597\u5206\u6790\u3001\u8def\u5f84\u5206\u6790\u7b49\u884c\u4e3a\u5206\u6790\uff0c\u6211\u4eec\u4e3a Doris \u6dfb\u52a0\u4e86\u76f8\u5e94\u7684 UDF \uff08User Defined Function\uff09\u548c UDAF (User Defined Aggregate Function)\u3002\\n\u5728\u5373\u5c06\u53d1\u5e03\u7684 1.2 \u7248\u672c\u4e2d\uff0cDoris\u6dfb\u52a0\u4e86\u5916\u8868\u5143\u6570\u636e\u540c\u6b65\u7684\u529f\u80fd\uff0c\u652f\u6301 Hive/Hudi/Iceberg \u5916\u8868\u5e76\u589e\u52a0\u4e86 Multi Catalog\u3002\u67e5\u8be2\u5916\u90e8\u8868\u63d0\u5347\u4e86\u6027\u80fd\uff0c\u63a5\u5165\u5916\u8868\u5927\u5e45\u589e\u52a0\u4e86\u6613\u7528\u6027\u3002\u5728\u672a\u6765\uff0c\u6211\u4eec\u8003\u8651\u76f4\u63a5\u901a\u8fc7 Doris \u67e5\u8be2 Hive \u4e0e Iceberg \u6570\u636e\uff0c\u6784\u5efa\u6e56\u4ed3\u4e00\u4f53\u7684\u67b6\u6784\u3002\\n\\n## A/B\u6d4b\u8bd5\\n\u5c0f\u7c73\u7684 A/B \u5b9e\u9a8c\u5e73\u53f0\u5bf9 Apache Doris \u67e5\u8be2\u6027\u80fd\u7684\u63d0\u5347\u6709\u7740\u8feb\u5207\u7684\u9700\u6c42\uff0c\u56e0\u6b64\u6211\u4eec\u9009\u62e9\u4f18\u5148\u5728\u5c0f\u7c73\u7684 A/B \u5b9e\u9a8c\u5e73\u53f0\u4e0a\u7ebf Apache Doris \u5411\u91cf\u5316\u7248\u672c\uff0c\u4e5f\u5c31\u662f 1.1.2 \u7248\u672c\u3002\\n\\n\u5c0f\u7c73\u7684 A/B \u5b9e\u9a8c\u5e73\u53f0\u662f\u4e00\u6b3e\u901a\u8fc7 A/B \u6d4b\u8bd5\u7684\u65b9\u5f0f\uff0c\u501f\u52a9\u5b9e\u9a8c\u5206\u7ec4\u3001\u6d41\u91cf\u62c6\u5206\u4e0e\u79d1\u5b66\u8bc4\u4f30\u7b49\u624b\u6bb5\u6765\u8f85\u52a9\u5b8c\u6210\u79d1\u5b66\u7684\u4e1a\u52a1\u51b3\u7b56\uff0c\u6700\u7ec8\u5b9e\u73b0\u4e1a\u52a1\u589e\u957f\u7684\u4e00\u6b3e\u8fd0\u8425\u5de5\u5177\u4ea7\u54c1\u3002\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\uff0c\u4e3a\u4e86\u9a8c\u8bc1\u4e00\u4e2a\u65b0\u7b56\u7565\u7684\u6548\u679c\uff0c\u901a\u5e38\u9700\u8981\u51c6\u5907\u539f\u7b56\u7565 A \u548c\u65b0\u7b56\u7565 B \u4e24\u79cd\u65b9\u6848\u3002\u968f\u540e\u5728\u603b\u4f53\u7528\u6237\u4e2d\u53d6\u51fa\u4e00\u5c0f\u90e8\u5206\uff0c\u5c06\u8fd9\u90e8\u5206\u7528\u6237\u5b8c\u5168\u968f\u673a\u5730\u5206\u5728\u4e24\u4e2a\u7ec4\u4e2d\uff0c\u4f7f\u4e24\u7ec4\u7528\u6237\u5728\u7edf\u8ba1\u89d2\u5ea6\u65e0\u5dee\u522b\u3002\u5c06\u539f\u7b56\u7565 A \u548c\u65b0\u7b56\u7565 B \u5206\u522b\u5c55\u793a\u7ed9\u4e0d\u540c\u7684\u7528\u6237\u7ec4\uff0c\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u7ed3\u5408\u7edf\u8ba1\u65b9\u6cd5\u5206\u6790\u6570\u636e\uff0c\u5f97\u5230\u4e24\u79cd\u7b56\u7565\u751f\u6548\u540e\u6307\u6807\u7684\u53d8\u5316\u7ed3\u679c\uff0c\u5e76\u4ee5\u6b64\u6765\u5224\u65ad\u65b0\u7b56\u7565 B \u662f\u5426\u7b26\u5408\u9884\u671f\u3002\\n\\n\u5c0f\u7c73\u7684 A/B \u5b9e\u9a8c\u5e73\u53f0\u6709\u51e0\u7c7b\u5178\u578b\u7684\u67e5\u8be2\u5e94\u7528\uff1a\u7528\u6237\u53bb\u91cd\u3001\u6307\u6807\u6c42\u548c\u3001\u5b9e\u9a8c\u534f\u65b9\u5dee\u8ba1\u7b97\u7b49\uff0c\u67e5\u8be2\u7c7b\u578b\u4f1a\u6d89\u53ca\u8f83\u591a\u7684 Count(distinct)\u3001Bitmap\u8ba1\u7b97\u3001Like\u8bed\u53e5\u7b49\u3002\\n\\n### \u4e0a\u7ebf\u524d\u9a8c\u8bc1\\n\u6211\u4eec\u57fa\u4e8e Apache Doris 1.1.2 \u7248\u672c\u642d\u5efa\u4e86\u4e00\u4e2a\u548c\u5c0f\u7c73\u7ebf\u4e0a Apache Doris 0.13 \u7248\u672c\u5728\u673a\u5668\u914d\u7f6e\u548c\u673a\u5668\u89c4\u6a21\u4e0a\u5b8c\u5168\u76f8\u540c\u7684\u6d4b\u8bd5\u96c6\u7fa4\uff0c\u7528\u4e8e\u5411\u91cf\u5316\u7248\u672c\u4e0a\u7ebf\u524d\u7684\u9a8c\u8bc1\u3002\u9a8c\u8bc1\u6d4b\u8bd5\u5206\u4e3a\u4e24\u4e2a\u65b9\u9762\uff1a\u5355 SQL \u4e32\u884c\u67e5\u8be2\u6d4b\u8bd5\u548c\u6279\u91cf SQL \u5e76\u53d1\u67e5\u8be2\u6d4b\u8bd5\u3002\u5728\u8fd9\u4e24\u79cd\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u5728\u4fdd\u8bc1\u4e24\u4e2a\u96c6\u7fa4\u6570\u636e\u5b8c\u5168\u76f8\u540c\u7684\u6761\u4ef6\u4e0b\uff0c\u5206\u522b\u5728 Doris 1.1.2 \u6d4b\u8bd5\u96c6\u7fa4\u548c\u5c0f\u7c73\u7ebf\u4e0a Doris 0.13 \u96c6\u7fa4\u6267\u884c\u76f8\u540c\u7684\u67e5\u8be2 SQL \u6765\u505a\u6027\u80fd\u5bf9\u6bd4\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\uff0cDoris 1.1.2 \u7248\u672c\u5728\u5c0f\u7c73\u7ebf\u4e0a Doris 0.13 \u7248\u672c\u7684\u57fa\u7840\u4e0a\u6709 1 \u500d\u7684\u67e5\u8be2\u6027\u80fd\u63d0\u5347\u3002\\n\u4e24\u4e2a\u96c6\u7fa4\u914d\u7f6e\u5b8c\u5168\u76f8\u540c\uff0c\u5177\u4f53\u914d\u7f6e\u4fe1\u606f\u5982\u4e0b\uff1a\\n- \u96c6\u7fa4\u89c4\u6a21\uff1a3 FE + 89 BE\\n- BE\u8282\u70b9CPU:  Intel(R) Xeon(R) Silver 4216 CPU @ 2.10GHz 16\u6838 32\u7ebf\u7a0b \xd7 2\\n- BE\u8282\u70b9\u5185\u5b58\uff1a256GB\\n- BE\u8282\u70b9\u78c1\u76d8\uff1a7.3TB \xd7 12 HDD\\n\\n#### \u5355 SQL \u4e32\u884c\u67e5\u8be2\u6d4b\u8bd5\\n\u5728\u8be5\u6d4b\u8bd5\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u9009\u53d6\u4e86\u5c0f\u7c73A/B \u5b9e\u9a8c\u573a\u666f\u4e2d 7 \u4e2a\u5178\u578b\u7684\u67e5\u8be2 Case\uff0c\u9488\u5bf9\u6bcf\u4e00\u4e2a\u67e5\u8be2 Case\uff0c\u6211\u4eec\u5c06\u626b\u63cf\u7684\u6570\u636e\u65f6\u95f4\u8303\u56f4\u5206\u522b\u9650\u5236\u4e3a 1 \u5929\u30017 \u5929\u548c 20 \u5929\u8fdb\u884c\u67e5\u8be2\u6d4b\u8bd5\uff0c\u5176\u4e2d\u5355\u65e5\u5206\u533a\u6570\u636e\u91cf\u7ea7\u5927\u7ea6\u4e3a 31 \u4ebf\uff08\u6570\u636e\u91cf\u5927\u7ea6 2 TB\uff09\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u56fe\u6240\u793a\uff1a\\n\\n![7](/images/xiaomi/zh/7.png)\\n\\n![8](/images/xiaomi/zh/8.png)\\n\\n![9](/images/xiaomi/zh/9.png)\\n\\n\u6839\u636e\u4ee5\u4e0a\u5c0f\u7c73 A/B \u5b9e\u9a8c\u573a\u666f\u4e0b\u7684\u5355 SQL \u4e32\u884c\u67e5\u8be2\u6d4b\u8bd5\u7ed3\u679c\u6240\u793a\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4\u5c0f\u7c73\u7ebf\u4e0a Doris 0.13 \u7248\u672c\u81f3\u5c11\u6709 3~5 \u500d\u7684\u6027\u80fd\u63d0\u5347\uff0c\u6548\u679c\u663e\u8457\u3002\\n\\n### \u8c03\u4f18\u6d4b\u8bd5\u7ed3\u679c\\n\u6211\u4eec\u57fa\u4e8e\u5c0f\u7c73\u7684 A/B\u5b9e\u9a8c\u573a\u666f\u5bf9 Apache Doris 1.1.2 \u7248\u672c\u8fdb\u884c\u4e86\u4e00\u7cfb\u5217\u8c03\u4f18\uff0c\u5e76\u5c06\u8c03\u4f18\u540e\u7684 Doris 1.1.2 \u7248\u672c\u4e0e\u5c0f\u7c73\u7ebf\u4e0a Doris 0.13 \u7248\u672c\u5206\u522b\u8fdb\u884c\u4e86\u5e76\u53d1\u67e5\u8be2\u6d4b\u8bd5\u3002\u6d4b\u8bd5\u60c5\u51b5\u5982\u4e0b\uff1a\\n\\n#### \u6d4b\u8bd5 1\\n\u6211\u4eec\u9009\u62e9\u4e86 A/B \u5b9e\u9a8c\u573a\u666f\u4e2d\u4e00\u6279\u5178\u578b\u7684\u7528\u6237\u53bb\u91cd\u3001\u6307\u6807\u6c42\u548c\u4ee5\u53ca\u534f\u65b9\u5dee\u8ba1\u7b97\u7684\u67e5\u8be2 Case\uff08SQL \u603b\u6570\u91cf\u4e3a 3245\uff09\u5bf9\u4e24\u4e2a\u7248\u672c\u8fdb\u884c\u5e76\u53d1\u67e5\u8be2\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u8868\u7684\u5355\u65e5\u5206\u533a\u6570\u636e\u5927\u7ea6\u4e3a 31 \u4ebf\uff08\u6570\u636e\u91cf\u5927\u7ea6 2 TB\uff09\uff0c\u67e5\u8be2\u7684\u6570\u636e\u8303\u56f4\u4f1a\u8986\u76d6\u6700\u8fd1\u4e00\u5468\u7684\u5206\u533a\u3002\u6d4b\u8bd5\u7ed3\u679c\u5982\u56fe\u6240\u793a\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4 Doris0.13\u7248\u672c\uff0c\u603b\u4f53\u7684\u5e73\u5747\u5ef6\u8fdf\u964d\u4f4e\u4e86\u5927\u7ea6 48%\uff0cP95 \u5ef6\u8fdf\u964d\u4f4e\u4e86\u5927\u7ea6 49%\u3002\u5728\u8be5\u6d4b\u8bd5\u4e2d\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4 Doris0.13 \u7248\u672c\u7684\u67e5\u8be2\u6027\u80fd\u63d0\u5347\u4e86\u63a5\u8fd1 1 \u500d\u3002\\n\\n![10](/images/xiaomi/zh/10.png)\\n\\n#### \u6d4b\u8bd5 2\\n\u6211\u4eec\u9009\u62e9\u4e86 A/B\u5b9e\u9a8c\u573a\u666f\u4e0b\u7684 7 \u4efd A/B \u5b9e\u9a8c\u62a5\u544a\u5bf9\u4e24\u4e2a\u7248\u672c\u8fdb\u884c\u6d4b\u8bd5\uff0c\u6bcf\u4efd A/B \u5b9e\u9a8c\u62a5\u544a\u5bf9\u5e94\u5c0f\u7c73 A/B\u5b9e\u9a8c\u5e73\u53f0\u9875\u9762\u7684\u4e24\u4e2a\u6a21\u5757\uff0c\u6bcf\u4e2a\u6a21\u5757\u5bf9\u5e94\u6570\u767e\u6216\u6570\u5343\u6761\u67e5\u8be2 SQL\u3002\u6bcf\u4e00\u4efd\u5b9e\u9a8c\u62a5\u544a\u90fd\u4ee5\u76f8\u540c\u7684\u5e76\u53d1\u5411\u4e24\u4e2a\u7248\u672c\u6240\u5728\u7684\u96c6\u7fa4\u63d0\u4ea4\u67e5\u8be2\u4efb\u52a1\u3002\u6d4b\u8bd5\u7ed3\u679c\u5982\u56fe\u6240\u793a\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4 Doris 0.13 \u7248\u672c\uff0c\u603b\u4f53\u7684\u5e73\u5747\u5ef6\u8fdf\u964d\u4f4e\u4e86\u5927\u7ea6 52%\u3002\u5728\u8be5\u6d4b\u8bd5\u4e2d\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4 Doris 0.13 \u7248\u672c\u7684\u67e5\u8be2\u6027\u80fd\u63d0\u5347\u4e86\u8d85\u8fc7 1 \u500d\u3002\\n\\n![11](/images/xiaomi/zh/11.png)\\n\\n#### \u6d4b\u8bd5 3\\n\u4e3a\u4e86\u9a8c\u8bc1\u8c03\u4f18\u540e\u7684 Apache Doris 1.1.2 \u7248\u672c\u5728\u5c0f\u7c73 A/B \u5b9e\u9a8c\u573a\u666f\u4e4b\u5916\u7684\u6027\u80fd\u8868\u73b0\uff0c\u6211\u4eec\u9009\u53d6\u4e86\u5c0f\u7c73\u7528\u6237\u884c\u4e3a\u5206\u6790\u573a\u666f\u8fdb\u884c\u4e86 Doris 1.1.2 \u7248\u672c\u548c Doris 0.13 \u7248\u672c\u7684\u5e76\u53d1\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5\u3002\u6211\u4eec\u9009\u53d6\u4e86 2022\u5e7410\u670824\u65e5\u300125\u65e5\u300126\u65e5\u548c 27\u65e5\u8fd9 4 \u5929\u7684\u5c0f\u7c73\u7ebf\u4e0a\u771f\u5b9e\u7684\u884c\u4e3a\u5206\u6790\u67e5\u8be2 Case \u8fdb\u884c\u5bf9\u6bd4\u67e5\u8be2\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u56fe\u6240\u793a\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4 Doris 0.13 \u7248\u672c\uff0c\u603b\u4f53\u7684\u5e73\u5747\u5ef6\u8fdf\u964d\u4f4e\u4e86\u5927\u7ea67 7%\uff0cP95 \u5ef6\u8fdf\u964d\u4f4e\u4e86\u5927\u7ea6 83%\u3002\u5728\u8be5\u6d4b\u8bd5\u4e2d\uff0cDoris 1.1.2 \u7248\u672c\u76f8\u6bd4 Doris 0.13 \u7248\u672c\u7684\u67e5\u8be2\u6027\u80fd\u6709 4~6 \u500d\u7684\u63d0\u5347\u3002\\n\\n![12](/images/xiaomi/zh/12.png)\\n\\n# \u603b\u7ed3\\n\u81ea\u4ece Apache Doris \u4ece 2019 \u5e74\u4e0a\u7ebf\u7b2c\u4e00\u4e2a\u4e1a\u52a1\u81f3\u4eca\uff0c\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5c0f\u7c73\u5185\u90e8\u670d\u52a1\u4e86\u6570\u5341\u4e2a\u4e1a\u52a1\u53ca\u5b50\u54c1\u724c\u3001\u96c6\u7fa4\u6570\u91cf\u8fbe\u5230\u6570\u5341\u4e2a\u3001\u8282\u70b9\u89c4\u6a21\u8fbe\u5230\u6570\u767e\u53f0\u3002\u6bcf\u5929\u5b8c\u6210\u6570\u4e07\u6b21\u7528\u6237\u5728\u7ebf\u5206\u6790\u67e5\u8be2\uff0c\u627f\u62c5\u4e86\u5305\u62ec\u589e\u957f\u5206\u6790\u548c\u62a5\u8868\u67e5\u8be2\u7b49\u7edd\u5927\u591a\u6570\u5728\u7ebf\u5206\u6790\u7684\u9700\u6c42\u3002\\n\\n\u7ecf\u8fc7\u4e00\u4e2a\u591a\u6708\u7684\u6027\u80fd\u8c03\u4f18\u548c\u6d4b\u8bd5\uff0cApache Doris 1.1.2 \u7248\u672c\u5728\u67e5\u8be2\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u65b9\u9762\u5df2\u7ecf\u8fbe\u5230\u4e86\u5c0f\u7c73 A/B\u5b9e\u9a8c\u5e73\u53f0\u7684\u4e0a\u7ebf\u8981\u6c42\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u7684\u67e5\u8be2\u6027\u80fd\u751a\u81f3\u8d85\u8fc7\u4e86\u6211\u4eec\u7684\u9884\u671f\uff0c\u5e0c\u671b\u672c\u6b21\u5206\u4eab\u53ef\u4ee5\u7ed9\u6709\u9700\u8981\u7684\u670b\u53cb\u4e00\u4e9b\u53ef\u501f\u9274\u7684\u7ecf\u9a8c\u53c2\u8003\u3002\\n\\n\u4e0e\u6b64\u540c\u65f6\uff0c\u5728\u4ee5\u4e0a\u5c0f\u7c73\u7684\u5b9e\u8df5\u4e2d\uff0c\u5df2\u6709\u90e8\u5206\u529f\u80fd\u5728 Apache Doris 1.0 \u6216 1.1 \u7248\u672c\u4e2d\u53d1\u5e03\uff0c\u90e8\u5206 PR \u5df2\u7ecf\u5408\u5165\u793e\u533a Master\uff0c\u5c06\u5728\u4e0d\u4e45\u540e\u53d1\u5e03\u7684 1.2 \u65b0\u7248\u672c\u4e2d\u4e0e\u5927\u5bb6\u89c1\u9762\u3002\u968f\u7740\u793e\u533a\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u6709\u8d8a\u6765\u8d8a\u591a\u5c0f\u4f19\u4f34\u53c2\u4e0e\u5230\u793e\u533a\u5efa\u8bbe\u4e2d\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u6709\u4e86\u6781\u5927\u7684\u63d0\u5347\u3002Apache Doris \u5df2\u7ecf\u53d8\u5f97\u8d8a\u6765\u8d8a\u6210\u719f\uff0c\u5e76\u5f00\u59cb\u4ece\u5355\u4e00\u8ba1\u7b97\u5b58\u50a8\u4e00\u4f53\u7684\u5206\u6790\u578b MPP \u6570\u636e\u5e93\u8d70\u5411\u6e56\u4ed3\u4e00\u4f53\u7684\u9053\u8def\uff0c\u76f8\u4fe1\u5728\u672a\u6765\uff0c\u8fd8\u4f1a\u6709\u66f4\u591a\u7684\u6570\u636e\u5206\u6790\u573a\u666f\u88ab\u63a2\u7d22\u548c\u5b9e\u73b0\u3002\\n\\n\\n# \u8054\u7cfb\u6211\u4eec\\n\u5b98\u7f51\uff1ahttp://doris.apache.org\\n\\nGithub\uff1ahttps://github.com/apache/doris\\n\\ndev\u90ae\u4ef6\u7ec4\uff1adev@doris.apache.org"},{"id":"/release-1.2.0","metadata":{"permalink":"/zh-CN/blog/release-1.2.0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.2.0.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.0 Release","description":"\x3c!--","date":"2022-12-07T00:00:00.000Z","formattedDate":"2022\u5e7412\u67087\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.0 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.0 Release","date":"2022-12-07","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"\u6700\u4f73\u5b9e\u8df5: Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","permalink":"/zh-CN/blog/xiaomi_vector"},"nextItem":{"title":"Apache Doris \u5728\u4eac\u4e1c\u641c\u7d22\u5b9e\u65f6 OLAP \u63a2\u7d22\u4e0e\u5b9e\u8df5","permalink":"/zh-CN/blog/JD_OLAP"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\u4eb2\u7231\u7684\u793e\u533a\u5c0f\u4f19\u4f34\u4eec\uff0c\u518d\u4e00\u6b21\u7ecf\u5386\u6570\u6708\u7684\u7b49\u5019\u540e\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0cApache Doris \u4e8e 2022 \u5e74 12 \u6708 7 \u65e5\u8fce\u6765 1.2.0 Release \u7248\u672c\u7684\u6b63\u5f0f\u53d1\u5e03\uff01\u6709\u8fd1 118 \u4f4d Contributor \u4e3a Apache Doris \u63d0\u4ea4\u4e86\u8d85 2400 \u9879\u4f18\u5316\u548c\u4fee\u590d\uff0c\u611f\u8c22\u6bcf\u4e00\u4f4d\u8ba9 Apache Doris \u66f4\u597d\u7684\u4f60\uff01\\n\\n\u81ea\u4ece\u793e\u533a\u6b63\u5f0f\u786e\u7acb LTS \u7248\u672c\u7ba1\u7406\u673a\u5236\u540e\uff0c\u5728 1.1.x \u7cfb\u5217\u7248\u672c\u4e2d\u4e0d\u518d\u5408\u5165\u5927\u7684\u529f\u80fd\uff0c\u4ec5\u63d0\u4f9b\u95ee\u9898\u4fee\u590d\u548c\u7a33\u5b9a\u6027\u6539\u8fdb\uff0c\u529b\u6c42\u6ee1\u8db3\u66f4\u591a\u793e\u533a\u7528\u6237\u5728\u7a33\u5b9a\u6027\u65b9\u9762\u7684\u9ad8\u8981\u6c42\u3002\u800c\u5728\u7efc\u5408\u8003\u8651\u7248\u672c\u8fed\u4ee3\u8282\u594f\u548c\u7528\u6237\u9700\u6c42\u540e\uff0c\u6211\u4eec\u51b3\u5b9a\u5c06\u4f17\u591a\u65b0\u7279\u6027\u5728 1.2 \u7248\u672c\u4e2d\u53d1\u5e03\uff0c\u8fd9\u65e0\u7591\u627f\u8f7d\u4e86\u4f17\u591a\u793e\u533a\u7528\u6237\u548c\u5f00\u53d1\u8005\u7684\u6df1\u5207\u671f\u76fc\uff0c\u540c\u65f6\u8fd9\u4e5f\u662f\u4e00\u573a\u539a\u79ef\u800c\u8584\u53d1\u540e\u7684\u5168\u9762\u8fdb\u5316\uff01\\n\\n\u5728 1.2 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u5168\u9762\u7684\u5411\u91cf\u5316\u3001**\u5b9e\u73b0\u591a\u573a\u666f\u67e5\u8be2\u6027\u80fd 3-11 \u500d\u7684\u63d0\u5347**\uff0c\u5728 Unique Key \u6a21\u578b\u4e0a\u5b9e\u73b0\u4e86 Merge-on-Write \u7684\u6570\u636e\u66f4\u65b0\u6a21\u5f0f\u3001**\u6570\u636e\u9ad8\u9891\u66f4\u65b0\u65f6\u67e5\u8be2\u6027\u80fd\u63d0\u5347\u8fbe 3-6 \u500d**\uff0c\u589e\u52a0\u4e86 Multi-Catalog \u591a\u6e90\u6570\u636e\u76ee\u5f55\u3001**\u63d0\u4f9b\u4e86\u65e0\u7f1d\u63a5\u5165 Hive\u3001ES\u3001Hudi\u3001Iceberg \u7b49\u5916\u90e8\u6570\u636e\u6e90\u7684\u80fd\u529b**\uff0c\u5f15\u5165\u4e86 Light Schema Change \u8f7b\u91cf\u8868\u7ed3\u6784\u53d8\u66f4\u3001**\u5b9e\u73b0\u6beb\u79d2\u7ea7\u7684 Schema Change \u64cd\u4f5c\u5e76\u53ef\u4ee5\u501f\u52a9 Flink CDC \u81ea\u52a8\u540c\u6b65\u4e0a\u6e38\u6570\u636e\u5e93\u7684 DML \u548c DDL \u64cd\u4f5c**\uff0c\u4ee5 JDBC \u5916\u90e8\u8868\u66ff\u6362\u4e86\u8fc7\u53bb\u7684 ODBC \u5916\u90e8\u8868\uff0c\u652f\u6301\u4e86 Java UDF \u548c Romote UDF \u4ee5\u53ca Array \u6570\u7ec4\u7c7b\u578b\u548c JSONB \u7c7b\u578b\uff0c\u4fee\u590d\u4e86\u8bf8\u591a\u4e4b\u524d\u7248\u672c\u7684\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u95ee\u9898\uff0c\u63a8\u8350\u5927\u5bb6\u4e0b\u8f7d\u548c\u4f7f\u7528\uff01\\n\\n# \u4e0b\u8f7d\u5b89\u88c5\\nGitHub\u4e0b\u8f7d\uff1a[https://github.com/apache/doris/releases](https://github.com/apache/doris/releases)\\n\\n\u5b98\u7f51\u4e0b\u8f7d\u9875\uff1a[https://doris.apache.org/download](https://doris.apache.org/download)\\n\\n\u6e90\u7801\u5730\u5740\uff1a[https://github.com/apache/doris/releases/tag/1.2.0-rc04](https://github.com/apache/doris/releases/tag/1.2.0-rc04)\\n\\n### \u4e0b\u8f7d\u8bf4\u660e\uff1a\\n\\n\u7531\u4e8e Apache \u670d\u52a1\u5668\u6587\u4ef6\u5927\u5c0f\u9650\u5236\uff0c\u5b98\u7f51\u4e0b\u8f7d\u9875\u7684 1.2.0 \u7248\u672c\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u5206\u4e3a\u4e09\u4e2a\u5305\uff1a\\n\\n1. apache-doris-fe\\n\\n2. apache-doris-be\\n\\n3. apache-doris-java-udf-jar-with-dependencies\\n\\n\u5176\u4e2d\u65b0\u589e\u7684 `apache-doris-java-udf-jar-with-dependencies` \u5305\u7528\u4e8e\u652f\u6301 1.2.0 \u7248\u672c\u4e2d\u7684 JDBC \u5916\u8868\u548c JAVA UDF \u3002\u4e0b\u8f7d\u540e\uff0c\u9700\u8981\u5c06\u5176\u4e2d\u7684 `java-udf-jar-with-dependencies.jar` \u6587\u4ef6\u653e\u5230 `be/lib` \u76ee\u5f55\u4e0b\uff0c\u65b9\u53ef\u542f\u52a8 BE\uff0c\u5426\u5219\u65e0\u6cd5\u542f\u52a8\u6210\u529f\u3002\\n\\n### \u90e8\u7f72\u8bf4\u660e\uff1a\\n\\n\u4ece\u5386\u53f2\u7248\u672c\u5347\u7ea7\u5230 1.2.0 \u7248\u672c\uff0c\u9700\u5b8c\u6574\u66f4\u65b0 fe\u3001be \u4e0b\u7684 bin \u548c lib \u76ee\u5f55\u3002\\n\\n\u5176\u4ed6\u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\uff0c\u8bf7\u5b8c\u6574\u9605\u8bfb\u672c\u53d1\u7248\u901a\u544a\u6700\u540e\u4e00\u8282\u201c\u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\u201d\u4ee5\u53ca\u5b89\u88c5\u90e8\u7f72\u6587\u6863 [https://doris.apache.org/zh-CN/docs/dev/install/install-deploy](https://doris.apache.org/zh-CN/docs/dev/install/install-deploy)  \u548c\u96c6\u7fa4\u5347\u7ea7\u6587\u6863 [https://doris.apache.org/zh-CN/docs/dev/admin-manual/cluster-management/upgrade](https://doris.apache.org/zh-CN/docs/dev/admin-manual/cluster-management/upgrade)\\n\\n# \u91cd\u8981\u66f4\u65b0\\n\\n### 1. \u5168\u9762\u5411\u91cf\u5316\u652f\u6301\uff0c\u6027\u80fd\u5927\u5e45\u63d0\u5347\\n\\n\u5728 Apache Doris 1.2.0 \u7248\u672c\u4e2d\uff0c\u7cfb\u7edf\u6240\u6709\u6a21\u5757\u90fd\u5b9e\u73b0\u4e86\u5411\u91cf\u5316\uff0c\u5305\u62ec\u6570\u636e\u5bfc\u5165\u3001Schema Change\u3001Compaction\u3001\u6570\u636e\u5bfc\u51fa\u3001UDF \u7b49\u3002\u65b0\u7248\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u5177\u5907\u4e86\u5b8c\u6574\u66ff\u6362\u539f\u6709\u975e\u5411\u91cf\u5316\u5f15\u64ce\u7684\u80fd\u529b\uff0c\u540e\u7eed\u6211\u4eec\u4e5f\u5c06\u8003\u8651\u5728\u672a\u6765\u7248\u672c\u4e2d\u53bb\u9664\u539f\u6709\u975e\u5411\u91cf\u5316\u5f15\u64ce\u7684\u4ee3\u7801\u3002\\n\\n\u4e0e\u6b64\u540c\u65f6\uff0c\u5728\u5168\u9762\u5411\u91cf\u5316\u7684\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u5bf9\u6570\u636e\u626b\u63cf\u3001\u8c13\u8bcd\u8ba1\u7b97\u3001Aggregation \u7b97\u5b50\u3001HashJoin \u7b97\u5b50\u3001\u7b97\u5b50\u4e4b\u95f4 Shuffle \u6548\u7387\u7b49\u8fdb\u884c\u4e86\u5168\u94fe\u8def\u7684\u4f18\u5316\uff0c\u4f7f\u5f97\u67e5\u8be2\u6027\u80fd\u6709\u4e86\u5927\u5e45\u63d0\u5347\u3002\\n\\n\u6211\u4eec\u5bf9 Apache Doris 1.2.0 \u65b0\u7248\u672c\u8fdb\u884c\u4e86\u591a\u4e2a\u6807\u51c6\u6d4b\u8bd5\u96c6\u7684\u6d4b\u8bd5\uff0c\u540c\u65f6\u9009\u62e9\u4e86 1.1.3 \u7248\u672c\u548c 0.15.0 \u7248\u672c\u4f5c\u4e3a\u5bf9\u6bd4\u53c2\u7167\u9879\u3002\u7ecf\u6d4b\uff0c1.2.0 **\u5728 SSB-Flat \u5bbd\u8868\u573a\u666f\u4e0a\u76f8\u5bf9 1.1.3 \u7248\u672c\u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u8fd1 4 \u500d\u3001\u76f8\u5bf9\u4e8e 0.15.0 \u7248\u672c\u6027\u80fd\u63d0\u5347\u4e86\u8fd1 10 \u500d\uff0c\u5728 TPC-H \u591a\u8868\u5173\u8054\u573a\u666f\u4e0a\u8f83 1.1.3 \u7248\u672c\u4e0a\u6709\u8fd1 3 \u500d\u7684\u63d0\u5347\u3001\u8f83 0.15.0 \u7248\u672c\u6027\u80fd\u81f3\u5c11\u63d0\u5347\u4e86 11 \u500d\u3002**\\n\\n![ssb_flat](/images/ssb_flat.png)\\n\\n![tpch](/images/tpch.png)\\n\\n\u540c\u65f6\uff0c\u6211\u4eec\u5c06 1.2.0 \u7248\u672c\u7684\u6d4b\u8bd5\u6570\u636e\u63d0\u4ea4\u5230\u4e86\u5168\u7403\u77e5\u540d\u7684\u6570\u636e\u5e93\u6d4b\u8bd5\u6392\u884c\u699c ClickBench\uff0c\u5728\u6700\u65b0\u7684\u6392\u884c\u699c\u4e2d\uff0cApache Doris 1.2.0 \u65b0\u7248\u672c\u53d6\u5f97\u4e86\u901a\u7528\u673a\u578b\uff08c6a.4xlarge, 500gb gp2\uff09\u4e0b**\u67e5\u8be2\u6027\u80fd Cold Run \u7b2c\u4e8c\u548c Hot Run \u7b2c\u4e09\u7684\u9192\u76ee\u6210\u7ee9\uff0c\u5171\u6709 8 \u4e2a SQL \u5237\u65b0\u699c\u5355\u6700\u4f73\u6210\u7ee9\u3001\u6210\u4e3a\u65b0\u7684\u6027\u80fd\u6807\u6746**\u3002\u5bfc\u5165\u6027\u80fd\u65b9\u9762\uff0c1.2.0 \u65b0\u7248\u672c\u6570\u636e\u5199\u5165\u6548\u7387\u5728\u540c\u673a\u578b\u6240\u6709\u4ea7\u54c1\u4e2d\u4f4d\u5217\u7b2c\u4e00\uff0c\u538b\u7f29\u524d 70G \u6570\u636e\u5199\u5165\u4ec5\u8017\u65f6 415s\u3001\u5355\u8282\u70b9\u5199\u5165\u901f\u5ea6\u8d85\u8fc7 170 MB/s\uff0c\u5728\u5b9e\u73b0\u6781\u81f4\u67e5\u8be2\u6027\u80fd\u7684\u540c\u65f6\u4e5f\u4fdd\u8bc1\u4e86\u9ad8\u6548\u7684\u5199\u5165\u6548\u7387\uff01\\n\\n![coldrun](/images/coldrun.png)\\n\\n![hotrun](/images/hotrun.png)\\n\\n### 2. \u5728 Unique Key \u6a21\u578b\u4e0a\u5b9e\u73b0\u4e86 Merge-on-Write \u7684\u6570\u636e\u66f4\u65b0\u6a21\u5f0f\\n\\n\u5728\u8fc7\u53bb\u7248\u672c\u4e2d\uff0c Apache Doris \u4e3b\u8981\u662f\u901a\u8fc7 Unique Key \u6570\u636e\u6a21\u578b\u6765\u5b9e\u73b0\u6570\u636e\u5b9e\u65f6\u66f4\u65b0\u7684\u3002\u4f46\u7531\u4e8e\u91c7\u7528\u7684\u662f Merge-on-Read \u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u67e5\u8be2\u5b58\u5728\u7740\u6548\u7387\u74f6\u9888\uff0c\u6709\u5927\u91cf\u975e\u5fc5\u8981\u7684 CPU \u8ba1\u7b97\u8d44\u6e90\u6d88\u8017\u548c IO \u5f00\u9500\uff0c\u4e14\u53ef\u80fd\u5c06\u51fa\u73b0\u67e5\u8be2\u6027\u80fd\u6296\u52a8\u7b49\u95ee\u9898\u3002\\n\\n\u5728 1.2.0 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5728\u539f\u6709\u7684 Unique Key \u6570\u636e\u6a21\u578b\u4e0a\uff0c\u589e\u52a0\u4e86 Merge-on-Write \u7684\u6570\u636e\u66f4\u65b0\u6a21\u5f0f\u3002\u8be5\u6a21\u5f0f\u5728\u6570\u636e\u5199\u5165\u65f6\u5373\u5bf9\u9700\u8981\u5220\u9664\u6216\u66f4\u65b0\u7684\u6570\u636e\u8fdb\u884c\u6807\u8bb0\uff0c\u59cb\u7ec8\u4fdd\u8bc1\u6709\u6548\u7684\u4e3b\u952e\u53ea\u51fa\u73b0\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff08\u5373\u5728\u5199\u5165\u7684\u65f6\u5019\u4fdd\u8bc1\u4e86\u4e3b\u952e\u7684\u552f\u4e00\u6027\uff09\uff0c\u4e0d\u9700\u8981\u5728\u8bfb\u53d6\u7684\u65f6\u5019\u901a\u8fc7\u5f52\u5e76\u6392\u5e8f\u6765\u5bf9\u4e3b\u952e\u8fdb\u884c\u53bb\u91cd\uff0c\u8fd9\u5bf9\u4e8e\u9ad8\u9891\u5199\u5165\u7684\u573a\u666f\u6765\u8bf4\uff0c\u5927\u5927\u51cf\u5c11\u4e86\u67e5\u8be2\u6267\u884c\u65f6\u7684\u989d\u5916\u6d88\u8017\u3002\u6b64\u5916\u8fd8\u80fd\u591f\u652f\u6301\u8c13\u8bcd\u4e0b\u63a8\uff0c\u5e76\u80fd\u591f\u5f88\u597d\u5229\u7528 Doris \u4e30\u5bcc\u7684\u7d22\u5f15\uff0c\u5728\u6570\u636e  IO \u5c42\u9762\u5c31\u80fd\u591f\u8fdb\u884c\u5145\u5206\u7684\u6570\u636e\u88c1\u526a\uff0c\u5927\u5927\u51cf\u5c11\u6570\u636e\u7684\u8bfb\u53d6\u91cf\u548c\u8ba1\u7b97\u91cf\uff0c\u56e0\u6b64\u5728\u5f88\u591a\u573a\u666f\u7684\u67e5\u8be2\u4e2d\u90fd\u6709\u975e\u5e38\u660e\u663e\u7684\u6027\u80fd\u63d0\u5347\u3002\\n\\n\u5728\u6bd4\u8f83\u6709\u4ee3\u8868\u6027\u7684 SSB-Flat \u6570\u636e\u96c6\u4e0a\uff0c\u901a\u8fc7\u6a21\u62df\u591a\u4e2a\u6301\u7eed\u5bfc\u5165\u573a\u666f\uff0c**\u65b0\u7248\u672c\u7684\u5927\u90e8\u5206\u67e5\u8be2\u53d6\u5f97\u4e86 3-6 \u500d\u7684\u6027\u80fd\u63d0\u5347**\u3002\\n\\n![mergeonwrite_ssb](/images/mergeonwrite_ssb.png)\\n\\n\u4f7f\u7528\u573a\u666f\uff1a\u6240\u6709\u5bf9\u4e3b\u952e\u552f\u4e00\u6027\u6709\u9700\u6c42\uff0c\u9700\u8981\u9891\u7e41\u8fdb\u884c\u5b9e\u65f6 Upsert \u66f4\u65b0\u7684\u7528\u6237\u5efa\u8bae\u6253\u5f00\u3002\\n\\n\u4f7f\u7528\u8bf4\u660e\uff1a\u4f5c\u4e3a\u65b0\u7684 Feature \u9ed8\u8ba4\u5173\u95ed\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5728\u5efa\u8868\u65f6\u6dfb\u52a0\u4e0b\u9762\u7684 Property \u6765\u5f00\u542f\uff1a\\n\\n```\\n\u201cenable_unique_key_merge_on_write\u201d = \u201ctrue\u201d\\n```\\n\\n\u53e6\u5916\u65b0\u7248\u672c Merge-on-Write \u6570\u636e\u66f4\u65b0\u6a21\u5f0f\u4e0e\u65e7\u7248\u672c Merge-on-Read \u5b9e\u73b0\u65b9\u5f0f\u5b58\u5728\u5dee\u5f02\uff0c\u56e0\u6b64\u5df2\u7ecf\u521b\u5efa\u7684 Unique Key \u8868\u65e0\u6cd5\u76f4\u63a5\u901a\u8fc7 Alter Table \u6dfb\u52a0 Property \u6765\u652f\u6301\uff0c\u53ea\u80fd\u5728\u65b0\u5efa\u8868\u7684\u65f6\u5019\u6307\u5b9a\u3002\u5982\u679c\u7528\u6237\u9700\u8981\u5c06\u65e7\u8868\u8f6c\u6362\u5230\u65b0\u8868\uff0c\u53ef\u4ee5\u4f7f\u7528 `insert into new_table select * from old_table` \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u3002\\n\\n### 3. Multi Catalog \u591a\u6e90\u6570\u636e\u76ee\u5f55\\n\\nMulti-Catalog \u591a\u6e90\u6570\u636e\u76ee\u5f55\u529f\u80fd\u7684\u76ee\u6807\u5728\u4e8e\u80fd\u591f\u5e2e\u52a9\u7528\u6237\u66f4\u65b9\u4fbf\u5bf9\u63a5\u5916\u90e8\u6570\u636e\u76ee\u5f55\uff0c\u4ee5\u589e\u5f3a Apache Doris \u7684\u6570\u636e\u6e56\u5206\u6790\u548c\u8054\u90a6\u6570\u636e\u67e5\u8be2\u80fd\u529b\u3002\\n\\n\u5728\u8fc7\u53bb\u7248\u672c\u4e2d\uff0c\u5f53\u6211\u4eec\u9700\u8981\u5bf9\u63a5\u5916\u90e8\u6570\u636e\u6e90\u65f6\uff0c\u53ea\u80fd\u5728 Database \u6216 Table \u5c42\u7ea7\u5bf9\u63a5\u3002\u5f53\u5916\u90e8\u6570\u636e\u76ee\u5f55 Schema \u53d1\u751f\u53d8\u5316\u3001\u6216\u8005\u5916\u90e8\u6570\u636e\u76ee\u5f55\u7684 Database \u6216 Table \u975e\u5e38\u591a\u65f6\uff0c\u9700\u8981\u7528\u6237\u624b\u5de5\u8fdb\u884c\u4e00\u4e00\u6620\u5c04\uff0c\u7ef4\u62a4\u91cf\u975e\u5e38\u5927\u30021.2.0 \u7248\u672c\u65b0\u589e\u7684\u591a\u6e90\u6570\u636e\u76ee\u5f55\u529f\u80fd\u4e3a Apache Doris \u63d0\u4f9b\u4e86\u5feb\u901f\u63a5\u5165\u5916\u90e8\u6570\u636e\u6e90\u8fdb\u884c\u8bbf\u95ee\u7684\u80fd\u529b\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 `CREATE CATALOG` \u547d\u4ee4\u8fde\u63a5\u5230\u5916\u90e8\u6570\u636e\u6e90\uff0cDoris \u4f1a\u81ea\u52a8\u6620\u5c04\u5916\u90e8\u6570\u636e\u6e90\u7684\u5e93\u3001\u8868\u4fe1\u606f\u3002\u4e4b\u540e\uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u50cf\u8bbf\u95ee\u666e\u901a\u8868\u4e00\u6837\uff0c\u5bf9\u8fd9\u4e9b\u5916\u90e8\u6570\u636e\u6e90\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u8bbf\u95ee\uff0c\u907f\u514d\u4e86\u4e4b\u524d\u7528\u6237\u9700\u8981\u5bf9\u6bcf\u5f20\u8868\u624b\u52a8\u5efa\u7acb\u5916\u8868\u6620\u5c04\u7684\u590d\u6742\u64cd\u4f5c\u3002\\n\\n\u76ee\u524d\u80fd\u652f\u6301\u4ee5\u4e0b\u6570\u636e\u6e90\uff1a\\n\\n1. Hive Metastore\uff1a\u53ef\u4ee5\u8bbf\u95ee\u5305\u62ec Hive\u3001Iceberg\u3001Hudi \u5728\u5185\u7684\u6570\u636e\u8868\uff0c\u4e5f\u53ef\u5bf9\u63a5\u517c\u5bb9 Hive Metastore \u7684\u6570\u636e\u6e90\uff0c\u5982\u963f\u91cc\u4e91\u7684 DataLake Formation\uff0c\u540c\u65f6\u652f\u6301 HDFS \u548c\u5bf9\u8c61\u5b58\u50a8\u4e0a\u7684\u6570\u636e\u8bbf\u95ee\u3002\\n\\n2. Elasticsearch\uff1a\u8bbf\u95ee ES \u6570\u636e\u6e90\u3002\\n\\n3. JDBC\uff1a\u652f\u6301\u901a\u8fc7 JDBC \u8bbf\u95ee MySQL \u6570\u636e\u6e90\u3002\\n\\n\u6ce8\uff1a\u76f8\u5e94\u7684\u6743\u9650\u5c42\u7ea7\u4e5f\u4f1a\u81ea\u52a8\u53d8\u66f4\uff0c\u8be6\u89c1\u201c\u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\u201d\u90e8\u5206\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/ecosystem/external-table/multi-catalog](https://doris.apache.org/zh-CN/docs/dev/ecosystem/external-table/multi-catalog)\\n\\n### 4. \u8f7b\u91cf\u8868\u7ed3\u6784\u53d8\u66f4 Light Schema Change\\n\\n\u5728\u8fc7\u53bb\u7248\u672c\u4e2d\uff0cSchema Change \u662f\u4e00\u9879\u76f8\u5bf9\u6d88\u8017\u6bd4\u8f83\u5927\u7684\u5de5\u4f5c\uff0c\u9700\u8981\u5bf9\u6570\u636e\u6587\u4ef6\u8fdb\u884c\u4fee\u6539\uff0c\u5728\u96c6\u7fa4\u89c4\u6a21\u548c\u8868\u6570\u636e\u91cf\u8f83\u5927\u65f6\u6267\u884c\u6548\u7387\u4f1a\u660e\u663e\u964d\u4f4e\u3002\u540c\u65f6\u7531\u4e8e\u662f\u5f02\u6b65\u4f5c\u4e1a\uff0c\u5f53\u4e0a\u6e38 Schema \u53d1\u751f\u53d8\u66f4\u65f6\uff0c\u9700\u8981\u505c\u6b62\u6570\u636e\u540c\u6b65\u4efb\u52a1\u5e76\u624b\u52a8\u6267\u884c Schema Change\uff0c\u589e\u52a0\u5f00\u53d1\u548c\u8fd0\u7ef4\u6210\u672c\u7684\u540c\u65f6\u8fd8\u53ef\u80fd\u9020\u6210\u6d88\u8d39\u6570\u636e\u7684\u6324\u538b\u3002\\n\\n\u5728 1.2.0 \u65b0\u7248\u672c\u4e2d\uff0c\u5bf9\u6570\u636e\u8868\u7684\u52a0\u51cf\u5217\u64cd\u4f5c\uff0c\u4e0d\u518d\u9700\u8981\u540c\u6b65\u66f4\u6539\u6570\u636e\u6587\u4ef6\uff0c\u4ec5\u9700\u5728 FE \u4e2d\u66f4\u65b0\u5143\u6570\u636e\u5373\u53ef\uff0c\u4ece\u800c\u5b9e\u73b0\u6beb\u79d2\u7ea7\u7684 Schema Change \u64cd\u4f5c\uff0c\u4e14\u5b58\u5728\u5bfc\u5165\u4efb\u52a1\u65f6\u6548\u7387\u7684\u63d0\u5347\u66f4\u4e3a\u663e\u8457\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u4f7f\u5f97 Apache Doris \u5728\u9762\u5bf9\u4e0a\u6e38\u6570\u636e\u8868\u7ef4\u5ea6\u53d8\u5316\u65f6\uff0c\u53ef\u4ee5\u66f4\u52a0\u5feb\u901f\u7a33\u5b9a\u5b9e\u73b0\u8868\u7ed3\u6784\u540c\u6b65\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u9ad8\u6548\u4e14\u5e73\u7a33\u8fd0\u8f6c\u3002\u5982\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 Flink CDC\uff0c\u53ef\u5b9e\u73b0\u4e0a\u6e38\u6570\u636e\u5e93\u5230 Doris \u7684 DML \u548c DDL \u540c\u6b65\uff0c\u8fdb\u4e00\u6b65\u63d0\u5347\u4e86\u5b9e\u65f6\u6570\u4ed3\u6570\u636e\u5904\u7406\u548c\u5206\u6790\u94fe\u8def\u7684\u65f6\u6548\u6027\u4e0e\u4fbf\u6377\u6027\u3002\\n\\n![lightschemachange_compare.png](/images/lightschemachange_compare.png)\\n\\n\u4f7f\u7528\u8bf4\u660e\uff1a\u4f5c\u4e3a\u65b0\u7684 Feature \u9ed8\u8ba4\u5173\u95ed\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5728\u5efa\u8868\u65f6\u6dfb\u52a0\u4e0b\u9762\u7684 Property \u6765\u5f00\u542f\uff1a\\n\\n```\\n\\"light_schema_change\\" = \\"true\\"\\n```\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE)\\n\\n### 5. JDBC \u5916\u90e8\u8868\\n\\n\u5728\u8fc7\u53bb\u7248\u672c\u4e2d\uff0cApache Doris \u63d0\u4f9b\u4e86 ODBC \u5916\u90e8\u8868\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee MySQL\u3001Oracle\u3001SQL Server\u3001PostgreSQL \u7b49\u6570\u636e\u6e90\uff0c\u4f46\u7531\u4e8e ODBC \u9a71\u52a8\u7248\u672c\u95ee\u9898\u53ef\u80fd\u9020\u6210\u7cfb\u7edf\u7684\u4e0d\u7a33\u5b9a\u3002\u76f8\u5bf9\u4e8e ODBC\uff0cJDBC \u63a5\u53e3\u66f4\u4e3a\u7edf\u4e00\u4e14\u652f\u6301\u6570\u636e\u5e93\u4f17\u591a\uff0c\u56e0\u6b64\u5728 1.2.0 \u7248\u672c\u4e2d\u6211\u4eec\u5b9e\u73b0\u4e86 JDBC \u5916\u90e8\u8868\u4ee5\u66ff\u6362\u539f\u6709\u7684 ODBC \u5916\u90e8\u8868\u3002\u5728\u65b0\u7248\u672c\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 JDBC \u8fde\u63a5\u652f\u6301 JDBC \u534f\u8bae\u7684\u5916\u90e8\u6570\u636e\u6e90\uff0c\\n\\n\u5f53\u524d\u5df2\u9002\u914d\u7684\u6570\u636e\u6e90\u5305\u62ec\uff1a\\n\\n- MySQL\\n- PostgreSQL\\n- Oracle\\n- SQLServer\\n- ClickHouse\\n\\n\u66f4\u591a\u6570\u636e\u6e90\u7684\u9002\u914d\u5df2\u7ecf\u5728\u89c4\u5212\u4e4b\u4e2d\uff0c\u539f\u5219\u4e0a\u4efb\u4f55\u652f\u6301 JDBC \u534f\u8bae\u8bbf\u95ee\u7684\u6570\u636e\u5e93\u5747\u80fd\u901a\u8fc7 JDBC \u5916\u90e8\u8868\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u3002\u800c\u4e4b\u524d\u7684 ODBC \u5916\u90e8\u8868\u529f\u80fd\u5c06\u4f1a\u5728\u540e\u7eed\u7684\u67d0\u4e2a\u7248\u672c\u4e2d\u79fb\u9664\uff0c\u8fd8\u8bf7\u5c3d\u91cf\u5207\u6362\u5230 JDBC \u5916\u8868\u529f\u80fd\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/ecosystem/external-table/jdbc-of-doris/](https://doris.apache.org/zh-CN/docs/dev/ecosystem/external-table/jdbc-of-doris/)\\n\\n### 6. JAVA UDF\\n\\n\u5728\u8fc7\u53bb\u7248\u672c\u4e2d\uff0cApache Doris \u63d0\u4f9b\u4e86 C++ \u8bed\u8a00\u7684\u539f\u751f UDF\uff0c\u4fbf\u4e8e\u7528\u6237\u901a\u8fc7\u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u4e49\u51fd\u6570\u6765\u6ee1\u8db3\u7279\u5b9a\u573a\u666f\u7684\u5206\u6790\u9700\u6c42\u3002\u4f46\u7531\u4e8e\u539f\u751f UDF \u4e0e Doris \u4ee3\u7801\u8026\u5408\u5ea6\u9ad8\u3001\u5f53 UDF \u51fa\u73b0\u9519\u8bef\u65f6\u53ef\u80fd\u4f1a\u5f71\u54cd\u96c6\u7fa4\u7a33\u5b9a\u6027\uff0c\u4e14\u53ea\u652f\u6301 C++ \u8bed\u8a00\uff0c\u5bf9\u4e8e\u719f\u6089 Hive\u3001Spark \u7b49\u5927\u6570\u636e\u6280\u672f\u6808\u7684\u7528\u6237\u800c\u8a00\u5b58\u5728\u8f83\u9ad8\u95e8\u69db\uff0c\u56e0\u6b64\u5728 1.2.0 \u65b0\u7248\u672c\u6211\u4eec\u589e\u52a0\u4e86 Java \u8bed\u8a00\u7684\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u652f\u6301\u901a\u8fc7 Java \u7f16\u5199 UDF/UDAF\uff0c\u65b9\u4fbf\u7528\u6237\u5728 Java \u751f\u6001\u4e2d\u4f7f\u7528\u3002\u540c\u65f6\uff0c\u901a\u8fc7\u5806\u5916\u5185\u5b58\u3001Zero Copy \u7b49\u6280\u672f\uff0c\u4f7f\u5f97\u8de8\u8bed\u8a00\u7684\u6570\u636e\u8bbf\u95ee\u6548\u7387\u5927\u5e45\u63d0\u5347\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/ecosystem/udf/java-user-defined-function](https://doris.apache.org/zh-CN/docs/dev/ecosystem/udf/java-user-defined-function)\\n\\n\u793a\u4f8b\uff1a[https://github.com/apache/doris/tree/master/samples/doris-demo](https://github.com/apache/doris/tree/master/samples/doris-demo)\\n\\n### 7. Remote UDF\\n\\n\u8fdc\u7a0b UDF \u652f\u6301\u901a\u8fc7 RPC \u7684\u65b9\u5f0f\u8bbf\u95ee\u8fdc\u7a0b\u7528\u6237\u81ea\u5b9a\u4e49\u51fd\u6570\u670d\u52a1\uff0c\u4ece\u800c\u5f7b\u5e95\u6d88\u9664\u7528\u6237\u7f16\u5199 UDF \u7684\u8bed\u8a00\u9650\u5236\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7f16\u7a0b\u8bed\u8a00\u5b9e\u73b0\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u5b8c\u6210\u590d\u6742\u7684\u6570\u636e\u5206\u6790\u5de5\u4f5c\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/ecosystem/udf/remote-user-defined-function](https://doris.apache.org/zh-CN/docs/ecosystem/udf/remote-user-defined-function)\\n\\n\u793a\u4f8b\uff1a[https://github.com/apache/doris/tree/master/samples/doris-demo](https://github.com/apache/doris/tree/master/samples/doris-demo)\\n\\n### 8. Array/JSONB \u590d\u5408\u6570\u636e\u7c7b\u578b \\n\\n- Array \u7c7b\u578b\\n\\n\u652f\u6301\u4e86\u6570\u7ec4\u7c7b\u578b\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u591a\u7ea7\u5d4c\u5957\u7684\u6570\u7ec4\u7c7b\u578b\u3002\u5728\u4e00\u4e9b\u7528\u6237\u753b\u50cf\uff0c\u6807\u7b7e\u7b49\u573a\u666f\uff0c\u53ef\u4ee5\u5229\u7528 Array \u7c7b\u578b\u66f4\u597d\u7684\u9002\u914d\u4e1a\u52a1\u573a\u666f\u3002\u540c\u65f6\u5728\u65b0\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u4e5f\u5b9e\u73b0\u4e86\u5927\u91cf\u6570\u7ec4\u76f8\u5173\u7684\u51fd\u6570\uff0c\u4ee5\u66f4\u597d\u7684\u652f\u6301\u8be5\u6570\u636e\u7c7b\u578b\u5728\u5b9e\u9645\u573a\u666f\u4e2d\u7684\u5e94\u7528\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/ARRAY](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/ARRAY)\\n\\n\u76f8\u5173\u51fd\u6570\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/array-functions/array](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/array-functions/array)\\n\\n- JSONB \u7c7b\u578b\\n\\n\u652f\u6301\u4e8c\u8fdb\u5236\u7684 JSON \u6570\u636e\u7c7b\u578b JSONB\u3002\u8be5\u7c7b\u578b\u63d0\u4f9b\u66f4\u7d27\u51d1\u7684 JSONB \u7f16\u7801\u683c\u5f0f\uff0c\u540c\u65f6\u63d0\u4f9b\u5728\u7f16\u7801\u683c\u5f0f\u4e0a\u7684\u6570\u636e\u8bbf\u95ee\uff0c\u76f8\u6bd4\u4e8e\u4f7f\u7528\u5b57\u7b26\u4e32\u5b58\u50a8\u7684 JSON \u6570\u636e\uff0c\u6709\u6570\u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/JSONB](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/JSONB)\\n\\n\u76f8\u5173\u51fd\u6570\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/json-functions/jsonb_parse](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/json-functions/jsonb_parse)\\n\\n### 9. DateV2/DatatimeV2 \u65b0\u7248\u65e5\u671f/\u65e5\u671f\u65f6\u95f4\u6570\u636e\u7c7b\u578b \\n\\n\u652f\u6301 DataV2 \u65e5\u671f\u7c7b\u578b\u548c DatatimeV2 \u65e5\u671f\u65f6\u95f4\u7c7b\u578b\uff0c\u76f8\u8f83\u4e8e\u539f\u6709\u7684 Data \u548c Datatime \u6548\u7387\u66f4\u9ad8\u4e14\u652f\u6301\u6700\u591a\u5230\u5fae\u79d2\u7684\u65f6\u95f4\u7cbe\u5ea6\uff0c\u5efa\u8bae\u4f7f\u7528\u65b0\u7248\u65e5\u671f\u7c7b\u578b\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/DATETIMEV2/](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/DATETIMEV2/)\\n\\n  [https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/DATEV2](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Types/DATEV2)\\n\\n\u5f71\u54cd\u8303\u56f4\uff1a\\n  1. \u7528\u6237\u9700\u8981\u5728\u5efa\u8868\u65f6\u6307\u5b9a DateV2 \u548c DatetimeV2\uff0c\u539f\u6709\u8868\u7684 Date \u4ee5\u53ca Datetime \u4e0d\u53d7\u5f71\u54cd\u3002\\n  2. Datev2 \u548c Datetimev2 \u5728\u4e0e\u539f\u6765\u7684 Date \u548c Datetime \u505a\u8ba1\u7b97\u65f6\uff08\u4f8b\u5982\u7b49\u503c\u8fde\u63a5\uff09\uff0c\u539f\u6709\u7c7b\u578b\u4f1a\u88abcast \u6210\u65b0\u7c7b\u578b\u505a\u8ba1\u7b97\\n  3. Example \u53c2\u8003\u6587\u6863\u4e2d\u8bf4\u660e\\n\\n### 10. \u5168\u65b0\u5185\u5b58\u7ba1\u7406\u6846\u67b6\\n\\n\u5728 Apache Doris 1.2.0 \u7248\u672c\u4e2d\u6211\u4eec\u589e\u52a0\u4e86\u5168\u65b0\u7684\u5185\u5b58\u8ddf\u8e2a\u5668\uff08Memory Tracker\uff09\uff0c\u7528\u4ee5\u8bb0\u5f55 Doris BE \u8fdb\u7a0b\u5185\u5b58\u4f7f\u7528\uff0c\u5305\u62ec\u67e5\u8be2\u3001\u5bfc\u5165\u3001Compaction\u3001Schema Change \u7b49\u4efb\u52a1\u751f\u547d\u5468\u671f\u4e2d\u4f7f\u7528\u7684\u5185\u5b58\u4ee5\u53ca\u5404\u9879\u7f13\u5b58\u3002\u901a\u8fc7 Memory Tracker \u5b9e\u73b0\u4e86\u66f4\u52a0\u7cbe\u7ec6\u7684\u5185\u5b58\u76d1\u63a7\u548c\u63a7\u5236\uff0c\u5927\u5927\u51cf\u5c11\u4e86\u56e0\u5185\u5b58\u8d85\u9650\u5bfc\u81f4\u7684 OOM \u95ee\u9898\uff0c\u4f7f\u7cfb\u7edf\u7a33\u5b9a\u6027\u8fdb\u4e00\u6b65\u5f97\u5230\u63d0\u5347\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/admin-manual/maint-monitor/memory-management/memory-tracker](https://doris.apache.org/zh-CN/docs/dev/admin-manual/maint-monitor/memory-management/memory-tracker)\\n\\n### 11. Table Valued Function \u8868\u51fd\u6570\\n\\n\u589e\u52a0\u4e86 Table Valued Function\uff08TVF\uff0c\u8868\u51fd\u6570\uff09\uff0cTVF \u53ef\u4ee5\u89c6\u4f5c\u4e00\u5f20\u666e\u901a\u7684\u8868\uff0c\u53ef\u4ee5\u51fa\u73b0\u5728 SQL \u4e2d\u6240\u6709\u201c\u8868\u201d\u53ef\u4ee5\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u8ba9\u7528\u6237\u50cf\u8bbf\u95ee\u5173\u7cfb\u8868\u683c\u5f0f\u6570\u636e\u4e00\u6837\uff0c\u8bfb\u53d6\u6216\u8bbf\u95ee\u6765\u81ea HDFS \u6216 S3 \u4e0a\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\\n\\n\u4f8b\u5982\u4f7f\u7528 S3 TVF \u5b9e\u73b0\u5bf9\u8c61\u5b58\u50a8\u4e0a\u7684\u6570\u636e\u5bfc\u5165\uff1a\\n```\\ninsert into tbl select * from s3(\\"s3://bucket/file.*\\", \\"ak\\" = \\"xx\\", \\"sk\\" = \\"xxx\\") where c1 > 2;\\n```\\n\\n\u6216\u8005\u76f4\u63a5\u67e5\u8be2 HDFS \u4e0a\u7684\u6570\u636e\u6587\u4ef6\uff1a\\n```\\ninsert into tbl select * from hdfs(\\"hdfs://bucket/file.*\\") where c1 > 2;\\n```\\nTVF \u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u5145\u5206\u5229\u7528 SQL \u4e30\u5bcc\u7684\u8868\u8fbe\u80fd\u529b\uff0c\u7075\u6d3b\u5904\u7406\u5404\u7c7b\u6570\u636e\u3002\\n\\n\u6587\u6863\uff1a\\n[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/s3](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/s3)\\n\\n[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/hdfs](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/hdfs)\\n\\n# \u66f4\u591a\u529f\u80fd        \\n\\n### 1. \u66f4\u4fbf\u6377\u7684\u5206\u533a\u521b\u5efa\u65b9\u5f0f\\n\\n\u652f\u6301\u901a\u8fc7 `FROM TO` \u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65f6\u95f4\u8303\u56f4\u5185\u7684\u591a\u4e2a\u5206\u533a\u3002\\n\\n\u6587\u6863\u641c\u7d22\u201cMULTI RANGE\u201d\uff1a\\n[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE)\\n\\n\u793a\u4f8b\uff1a\\n```\\n// \u6839\u636e\u65f6\u95f4date \u521b\u5efa\u5206\u533a\uff0c\u652f\u6301\u591a\u4e2a\u6279\u91cf\u903b\u8f91\u548c\u5355\u72ec\u521b\u5efa\u5206\u533a\u7684\u6df7\u5408\u4f7f\u7528\\n\\nPARTITION BY RANGE(event_day)(\\n        FROM (\\"2000-11-14\\") TO (\\"2021-11-14\\") INTERVAL 1 YEAR,\\n        FROM (\\"2021-11-14\\") TO (\\"2022-11-14\\") INTERVAL 1 MONTH,\\n        FROM (\\"2022-11-14\\") TO (\\"2023-01-03\\") INTERVAL 1 WEEK,\\n        FROM (\\"2023-01-03\\") TO (\\"2023-01-14\\") INTERVAL 1 DAY,\\n        PARTITION p_20230114 VALUES [(\'2023-01-14\'), (\'2023-01-15\'))\\n)\\n```\\n```\\n// \u6839\u636e\u65f6\u95f4datetime \u521b\u5efa\u5206\u533a\\nPARTITION BY RANGE(event_time)(\\n        FROM (\\"2023-01-03 12\\") TO (\\"2023-01-14 22\\") INTERVAL 1 HOUR\\n)\\n```\\n\\n### 2. \u5217\u91cd\u547d\u540d\\n\\n\u5bf9\u4e8e\u5f00\u542f\u4e86 Light Schema Change \u7684\u8868\uff0c\u652f\u6301\u5bf9\u5217\u8fdb\u884c\u91cd\u547d\u540d\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Alter/ALTER-TABLE-RENAME  ](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Alter/ALTER-TABLE-RENAME  )\\n\\n### 3. \u66f4\u4e30\u5bcc\u6743\u9650\u7ba1\u7406\\n\\n- \u652f\u6301\u884c\u7ea7\u6743\u9650\\n\\n\u53ef\u4ee5\u901a\u8fc7 `CREATE ROW POLICY` \u547d\u4ee4\u521b\u5efa\u884c\u7ea7\u6743\u9650\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-POLICY](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-POLICY)\\n\\n- \u652f\u6301\u6307\u5b9a\u5bc6\u7801\u5f3a\u5ea6\u3001\u8fc7\u671f\u65f6\u95f4\u7b49\u3002\\n\\n- \u652f\u6301\u5728\u591a\u6b21\u5931\u8d25\u767b\u5f55\u540e\u9501\u5b9a\u8d26\u6237\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Account-Management-Statements/ALTER-USER](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Account-Management-Statements/ALTER-USER)\\n\\n### 4. \u5bfc\u5165\u76f8\u5173\\n\\n- CSV \u5bfc\u5165\u652f\u6301\u5e26 header \u7684 CSV \u6587\u4ef6\u3002\\n\\n\u5728\u6587\u6863\u4e2d\u641c\u7d22 `csv_with_names`\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/STREAM-LOAD/](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/STREAM-LOAD/)\\n\\n- Stream Load \u65b0\u589e `hidden_columns`\uff0c\u53ef\u4ee5\u663e\u5f0f\u6307\u5b9a delete flag \u5217\u548c sequence \u5217\u3002\\n\\n\u5728\u6587\u6863\u4e2d\u641c\u7d22 `hidden_columns`\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/STREAM-LOAD](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/STREAM-LOAD)\\n\\n- Spark Load \u652f\u6301 Parquet \u548c ORC \u6587\u4ef6\u5bfc\u5165\u3002\\n- \u652f\u6301\u6e05\u7406\u5df2\u5b8c\u6210\u7684\u5bfc\u5165\u7684 Label\\n  \u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/CLEAN-LABEL](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/CLEAN-LABEL)\\n\\n- \u652f\u6301\u901a\u8fc7\u72b6\u6001\u6279\u91cf\u53d6\u6d88\u5bfc\u5165\u4f5c\u4e1a\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/CANCEL-LOAD](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Load/CANCEL-LOAD)\\n\\n- Broker Load \u65b0\u589e\u652f\u6301\u963f\u91cc\u4e91 OSS\uff0c\u817e\u8baf CHDFS \u548c\u534e\u4e3a\u4e91 OBS\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/advanced/broker](https://doris.apache.org/zh-CN/docs/dev/advanced/broker)\\n\\n- \u652f\u6301\u901a\u8fc7 hive-site.xml \u6587\u4ef6\u914d\u7f6e\u8bbf\u95ee HDFS\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/admin-manual/config/config-dir](https://doris.apache.org/zh-CN/docs/dev/admin-manual/config/config-dir)\\n\\n### 5. \u652f\u6301\u901a\u8fc7 `SHOW CATALOG RECYCLE BIN` \u529f\u80fd\u67e5\u770b\u56de\u6536\u7ad9\u4e2d\u7684\u5185\u5bb9\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Show-Statements/SHOW-CATALOG-RECYCLE-BIN](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Show-Statements/SHOW-CATALOG-RECYCLE-BIN)\\n\\n### 6. \u652f\u6301 `SELECT * EXCEPT` \u8bed\u6cd5\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/data-table/basic-usage](https://doris.apache.org/zh-CN/docs/dev/data-table/basic-usage)\\n\\n### 7. OUTFILE \u652f\u6301 ORC \u683c\u5f0f\u5bfc\u51fa\uff0c\u5e76\u4e14\u652f\u6301\u591a\u5b57\u8282\u5206\u9694\u7b26\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/OUTFILE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/OUTFILE)\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/OUTFILE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/OUTFILE)\\n\\n### 8. \u652f\u6301\u901a\u8fc7\u914d\u7f6e\u4fee\u6539\u53ef\u4fdd\u5b58\u7684 Query Profile \u7684\u6570\u91cf\u3002\\n\\n\u6587\u6863\u641c\u7d22 FE \u914d\u7f6e\u9879\uff1a`max_query_profile_num`\\n\\n### 9. DELETE \u8bed\u53e5\u652f\u6301 IN \u8c13\u8bcd\u6761\u4ef6\u3002\u5e76\u4e14\u652f\u6301\u5206\u533a\u88c1\u526a\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Manipulation/DELETE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Manipulation-Statements/Manipulation/DELETE)\\n\\n### 10. \u65f6\u95f4\u5217\u7684\u9ed8\u8ba4\u503c\u652f\u6301\u4f7f\u7528 `CURRENT_TIMESTAMP`\\n\\n\u6587\u6863\u4e2d\u641c\u7d22 \\"CURRENT_TIMESTAMP\\"\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE)\\n\\n### 11. \u6dfb\u52a0\u4e24\u5f20\u7cfb\u7edf\u8868\uff1abackends\u3001rowsets\\n\\nbackends \u662f Doris \u4e2d\u5185\u7f6e\u7cfb\u7edf\u8868\uff0c\u5b58\u653e\u5728 information_schema \u6570\u636e\u5e93\u4e0b\uff0c\u901a\u8fc7\u8be5\u7cfb\u7edf\u8868\u53ef\u4ee5\u67e5\u770b\u5f53\u524d Doris \u96c6\u7fa4\u4e2d\u7684 BE \u8282\u70b9\u4fe1\u606f\u3002\\n\\nrowsets \u662f Doris \u4e2d\u5185\u7f6e\u7cfb\u7edf\u8868\uff0c\u5b58\u653e\u5728 information_schema \u6570\u636e\u5e93\u4e0b\uff0c\u901a\u8fc7\u8be5\u7cfb\u7edf\u8868\u53ef\u4ee5\u67e5\u770b Doris \u96c6\u7fa4\u4e2d\u5404\u4e2a BE \u8282\u70b9\u5f53\u524d rowsets \u60c5\u51b5\u3002\\n\\n\u6587\u6863\uff1a\\n\\n[https://doris.apache.org/zh-CN/docs/dev/admin-manual/system-table/backends](https://doris.apache.org/zh-CN/docs/dev/admin-manual/system-table/backends)\\n\\n[https://doris.apache.org/zh-CN/docs/dev/admin-manual/system-table/rowsets](https://doris.apache.org/zh-CN/docs/dev/admin-manual/system-table/rowsets)\\n\\n### 12. \u5907\u4efd\u6062\u590d\\n\\n  - Restore\u4f5c\u4e1a\u652f\u6301 `reserve_replica` \u53c2\u6570\uff0c\u4f7f\u5f97\u6062\u590d\u540e\u7684\u8868\u7684\u526f\u672c\u6570\u548c\u5907\u4efd\u65f6\u4e00\u81f4\u3002\\n  - Restore \u4f5c\u4e1a\u652f\u6301 `reserve_dynamic_partition_enable` \u53c2\u6570\uff0c\u4f7f\u5f97\u6062\u590d\u540e\u7684\u8868\u4fdd\u6301\u52a8\u6001\u5206\u533a\u5f00\u542f\u72b6\u6001\u3002\\n\\n  \u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Backup-and-Restore/RESTORE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Backup-and-Restore/RESTORE)\\n\\n  - \u652f\u6301\u901a\u8fc7\u5185\u7f6e\u7684 libhdfs \u8fdb\u884c\u5907\u4efd\u6062\u590d\u64cd\u4f5c\uff0c\u4e0d\u518d\u4f9d\u8d56 broker\u3002\\n\\n  \u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Backup-and-Restore/CREATE-REPOSITORY](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Backup-and-Restore/CREATE-REPOSITORY)\\n\\n### 13. \u652f\u6301\u540c\u673a\u591a\u78c1\u76d8\u4e4b\u95f4\u7684\u6570\u636e\u5747\u8861\\n\\n\u6587\u6863\uff1a\\n\\n[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Database-Administration-Statements/ADMIN-REBALANCE-DISK](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Database-Administration-Statements/ADMIN-REBALANCE-DISK)\\n\\n[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Database-Administration-Statements/ADMIN-CANCEL-REBALANCE-DISK](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Database-Administration-Statements/ADMIN-CANCEL-REBALANCE-DISK)\\n\\n### 14. Routine Load \u652f\u6301\u8ba2\u9605 Kerberos \u8ba4\u8bc1\u7684 Kafka \u670d\u52a1\u3002\\n\\n\u6587\u6863\u4e2d\u641c\u7d22 kerberos\uff1a[https://doris.apache.org/zh-CN/docs/dev/data-operate/import/import-way/routine-load-manual](https://doris.apache.org/zh-CN/docs/dev/data-operate/import/import-way/routine-load-manual)\\n\\n### 15. New built-in-function \u65b0\u589e\u5185\u7f6e\u51fd\u6570\\n\\n  \u65b0\u589e\u4ee5\u4e0b\u5185\u7f6e\u51fd\u6570:\\n\\n  - cbrt\\n  - sequence_match/sequence_count \\n  - mask/mask_first_n/mask_last_n\\n  - elt\\n  - any/any_value\\n  - group_bitmap_xor\\n  - ntile\\n  - nvl\\n  - uuid\\n  - initcap\\n  - regexp_replace_one/regexp_extract_all\\n  - multi_search_all_positions/multi_match_any\\n  - domain/domain_without_www/protocol\\n  - running_difference\\n  - bitmap_hash64\\n  - murmur_hash3_64\\n  - to_monday\\n  - not_null_or_empty\\n  - window_funnel\\n  - outer combine\\n    \u4ee5\u53ca\u6240\u6709 Array \u51fd\u6570\\n\\n# \u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\\n\\n### FE \u5143\u6570\u636e\u7248\u672c\u53d8\u66f4 \u3010\u91cd\u8981\u3011\\n\\nFE Meta Version \u7531 107 \u53d8\u66f4\u4e3a 114\uff0c\u56e0\u6b64\u4ece 1.1.x \u4ee5\u53ca\u66f4\u65e9\u7248\u672c\u5347\u7ea7\u81f3 1.2.0 \u7248\u672c\u540e\uff0c\u4e0d\u53ef\u56de\u6eda\u5230\u4e4b\u524d\u7248\u672c\u3002\\n\u5347\u7ea7\u8fc7\u7a0b\u4e2d\uff0c\u5efa\u8bae\u901a\u8fc7\u7070\u5ea6\u5347\u7ea7\u7684\u65b9\u5f0f\uff0c\u5148\u5347\u7ea7\u90e8\u5206\u8282\u70b9\u5e76\u89c2\u5bdf\u4e1a\u52a1\u8fd0\u884c\u60c5\u51b5\uff0c\u4ee5\u964d\u4f4e\u5347\u7ea7\u98ce\u9669\uff0c\u82e5\u6267\u884c\u975e\u6cd5\u7684\u56de\u6eda\u64cd\u4f5c\u5c06\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u4e0e\u635f\u574f\u3002\\n\\n### \u884c\u4e3a\u6539\u53d8\\n\\n- \u6743\u9650\u5c42\u7ea7\u53d8\u66f4\u3002\\n\\n\\t\u56e0\u4e3a\u5f15\u5165\u4e86 Catalog \u5c42\u7ea7\uff0c\u6240\u4ee5\u76f8\u5e94\u7684\u7528\u6237\u6743\u9650\u5c42\u7ea7\u4e5f\u4f1a\u81ea\u52a8\u53d8\u66f4\u3002\u89c4\u5219\u5982\u4e0b\uff1a\\n\\n  - GlobalPrivs \u548c ResourcePrivs \u4fdd\u6301\u4e0d\u53d8\\n  - \u65b0\u589e CatalogPrivs \u5c42\u7ea7\u3002\\n  - \u539f DatabasePrivs \u5c42\u7ea7\u589e\u52a0 internal \u524d\u7f00\uff08\u8868\u793a internal catalog \u4e2d\u7684 db\uff09\\n  - \u539f TablePrivs \u5c42\u7ea7\u589e\u52a0 internal \u524d\u7f00\uff08\u8868\u793ainternal catalog\u4e2d\u7684 tbl\uff09\\n- GroupBy \u548c Having \u5b50\u53e5\u4e2d\uff0c\u4f18\u5148\u4f7f\u7528\u5217\u540d\u800c\u4e0d\u662f\u522b\u540d\u8fdb\u884c\u5339\u914d\u3002\\n- \u4e0d\u518d\u652f\u6301\u521b\u5efa\u4ee5 \\"mv_\\" \u5f00\u5934\u7684\u5217\u3002\\"mv_\\" \u662f\u7269\u5316\u89c6\u56fe\u4e2d\u7684\u4fdd\u7559\u5173\u952e\u8bcd\\n- \u79fb\u9664\u4e86 order by \u8bed\u53e5\u9ed8\u8ba4\u6dfb\u52a0\u7684 65535 \u884c\u7684 Limit \u9650\u5236\uff0c\u5e76\u589e\u52a0 Session \u53d8\u91cf `default_order_by_limit` \u53ef\u4ee5\u81ea\u5b9a\u914d\u7f6e\u8fd9\u4e2a\u9650\u5236\u3002\\n- \\"Create Table As Select\\" \u751f\u6210\u7684\u8868\uff0c\u6240\u6709\u5b57\u7b26\u4e32\u5217\u7edf\u4e00\u4f7f\u7528 String\u7c7b\u578b\uff0c\u4e0d\u518d\u533a\u5206 varchar/char/string \\n- audit log \u4e2d\uff0c\u79fb\u9664 db \u548c user \u540d\u79f0\u524d\u7684 `default_cluster` \u5b57\u6837\u3002\\n- audit log \u4e2d\u589e\u52a0 sql digest \u5b57\u6bb5\\n- union \u5b50\u53e5\u603b order by \u903b\u8f91\u53d8\u52a8\u3002\u65b0\u7248\u672c\u4e2d\uff0corder by \u5b50\u53e5\u5c06\u5728 union \u6267\u884c\u5b8c\u6210\u540e\u6267\u884c\uff0c\u9664\u975e\u901a\u8fc7\u62ec\u53f7\u8fdb\u884c\u663e\u5f0f\u7684\u5173\u8054\u3002\\n- \u8fdb\u884c decommission \u64cd\u4f5c\u65f6\uff0c\u4f1a\u5ffd\u7565\u56de\u6536\u7ad9\u4e2d\u7684 tablet\uff0c\u786e\u4fdd decomission \u80fd\u591f\u5b8c\u6210\u3002\\n- Decimal \u7684\u8fd4\u56de\u7ed3\u679c\u5c06\u6309\u7167\u539f\u59cb\u5217\u4e2d\u58f0\u660e\u7684\u7cbe\u5ea6\u8fdb\u884c\u663e\u793a \uff0c\u6216\u8005\u6309\u7167\u663e\u5f0f\u6307\u5b9a\u7684 cast \u51fd\u6570\u4e2d\u7684\u7cbe\u5ea6\u8fdb\u884c\u5c55\u793a\u3002\\n- \u5217\u540d\u7684\u957f\u5ea6\u9650\u5236\u7531 64 \u53d8\u66f4\u4e3a 256\\n- FE \u914d\u7f6e\u9879\u53d8\u52a8\\n  - \u9ed8\u8ba4\u5f00\u542f `enable_vectorized_load` \u53c2\u6570\u3002\\n  - \u589e\u5927\u4e86 `create_table_timeout` \u503c\u3002\u5efa\u8868\u64cd\u4f5c\u7684\u9ed8\u8ba4\u8d85\u65f6\u65f6\u95f4\u5c06\u589e\u5927\u3002 \\n  - \u4fee\u6539 `stream_load_default_timeout_second` \u9ed8\u8ba4\u503c\u4e3a 3\u5929\u3002\\n  - \u4fee\u6539`alter_table_timeout_second` \u7684\u9ed8\u8ba4\u503c\u4e3a \u4e00\u4e2a\u6708\u3002\\n  - \u589e\u52a0\u53c2\u6570 `max_replica_count_when_schema_change` \u7528\u4e8e\u9650\u5236 alter \u4f5c\u4e1a\u4e2d\u6d89\u53ca\u7684 replica\u6570\u91cf\uff0c\u9ed8\u8ba4\u4e3a100000\u3002\\n  - \u6dfb\u52a0 `disable_iceberg_hudi_table`\u3002\u9ed8\u8ba4\u7981\u7528\u4e86 iceberg \u548c hudi \u5916\u8868\uff0c\u63a8\u8350\u4f7f\u7528 multi catalog\u529f\u80fd\u3002\\n- BE \u914d\u7f6e\u9879\u53d8\u52a8\\n  - \u79fb\u9664\u4e86 `disable_stream_load_2pc` \u53c2\u6570\u30022PC\u7684stream load\u53ef\u76f4\u63a5\u4f7f\u7528\u3002\\n  - \u4fee\u6539`tablet_rowset_stale_sweep_time_sec` \uff0c\u4ece1800\u79d2\u4fee\u6539\u4e3a 300 \u79d2\u3002\\n- Session\u53d8\u91cf\u53d8\u52a8\\n  - \u4fee\u6539\u53d8\u91cf `enable_insert_strict` \u9ed8\u8ba4\u4e3a true\u3002\u8fd9\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u4e4b\u524d\u53ef\u4ee5\u6267\u884c\uff0c\u4f46\u662f\u63d2\u5165\u4e86\u975e\u6cd5\u503c\u7684insert\u64cd\u4f5c\uff0c\u4e0d\u518d\u80fd\u591f\u6267\u884c\u3002\\n  - \u4fee\u6539\u53d8\u91cf `enable_local_exchange` \u9ed8\u8ba4\u4e3a true \\n  - \u9ed8\u8ba4\u901a\u8fc7 lz4 \u538b\u7f29\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u901a\u8fc7\u53d8\u91cf `fragment_transmission_compression_codec` \u63a7\u5236 \\n  - \u589e\u52a0 `skip_storage_engine_merge` \u53d8\u91cf\uff0c\u7528\u4e8e\u8c03\u8bd5 unique \u6216 agg \u6a21\u578b\u7684\u6570\u636e \\n    \u6587\u6863\uff1ahttps://doris.apache.org/zh-CN/docs/dev/advanced/variables\\n- BE \u542f\u52a8\u811a\u672c\u4f1a\u901a\u8fc7 `/proc/sys/vm/max_map_count` \u68c0\u67e5\u6570\u503c\u662f\u5426\u5927\u4e8e200W\uff0c\u5426\u5219\u542f\u52a8\u5931\u8d25\u3002\\n- \u79fb\u9664\u4e86 mini load \u63a5\u53e3\\n\\n### \u5347\u7ea7\u8fc7\u7a0b\u4e2d\u9700\u6ce8\u610f\\n\\n1. \u5347\u7ea7\u51c6\u5907\\n  - \u9700\u66ff\u6362\uff1alib, bin \u76ee\u5f55\uff08start/stop \u811a\u672c\u5747\u6709\u4fee\u6539\uff09\\n  - BE \u4e5f\u9700\u8981\u914d\u7f6e JAVA_HOME\uff0c\u5df2\u652f\u6301 JDBC Table \u548c Java UDF\u3002\\n  - fe.conf \u4e2d\u9ed8\u8ba4 JVM Xmx \u53c2\u6570\u4fee\u6539\u4e3a 8GB\u3002\\n\\n2. \u5347\u7ea7\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u7684\u9519\u8bef\\n  - repeat \u51fd\u6570\u4e0d\u53ef\u4f7f\u7528\u5e76\u62a5\u9519\uff1a`vectorized repeat function cannot be executed`\uff0c\u53ef\u4ee5\u5728\u5347\u7ea7\u524d\u5148\u5173\u95ed\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3002\\n  - schema change \u5931\u8d25\u5e76\u62a5\u9519\uff1a`desc_tbl is not set. Maybe the FE version is not equal to the BE`\\n  - \u5411\u91cf\u5316 hash join \u4e0d\u53ef\u4f7f\u7528\u5e76\u62a5\u9519\u3002`vectorized hash join cannot be executed`\u3002\u53ef\u4ee5\u5728\u5347\u7ea7\u524d\u5148\u5173\u95ed\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3002\\n\\n\u4ee5\u4e0a\u9519\u8bef\u5728\u5b8c\u5168\u5347\u7ea7\u540e\u4f1a\u6062\u590d\u6b63\u5e38\u3002\\n\\n### \u6027\u80fd\u5f71\u54cd\\n\\n- \u9ed8\u8ba4\u4f7f\u7528 JeMalloc \u4f5c\u4e3a\u65b0\u7248\u672c BE \u7684\u5185\u5b58\u5206\u914d\u5668\uff0c\u66ff\u6362 TcMalloc \u3002\\n\\nJeMalloc \u76f8\u6bd4 TcMalloc \u4f7f\u7528\u7684\u5185\u5b58\u66f4\u5c11\u3001\u9ad8\u5e76\u53d1\u573a\u666f\u6027\u80fd\u66f4\u9ad8\uff0c\u4f46\u5728\u5185\u5b58\u5145\u8db3\u7684\u6027\u80fd\u6d4b\u8bd5\u65f6\uff0cTcMalloc \u6bd4 JeMalloc \u6027\u80fd\u9ad85%-10%\uff0c\u8be6\u7ec6\u6d4b\u8bd5\u89c1: https://github.com/apache/doris/pull/12496\\n\\n- tablet sink \u4e2d\u7684 batch size \u4fee\u6539\u4e3a\u81f3\u5c11 8K\u3002\\n- \u9ed8\u8ba4\u5173\u95ed Page Cache \u548c \u51cf\u5c11 Chunk Allocator \u9884\u7559\u5185\u5b58\u5927\u5c0f\\n\\nPage Cache \u548c Chunk Allocator \u5206\u522b\u7f13\u5b58\u7528\u6237\u6570\u636e\u5757\u548c\u5185\u5b58\u9884\u5206\u914d\uff0c\u8fd9\u4e24\u4e2a\u529f\u80fd\u4f1a\u5360\u7528\u4e00\u5b9a\u6bd4\u4f8b\u7684\u5185\u5b58\u5e76\u4e14\u4e0d\u4f1a\u91ca\u653e\u3002\u7531\u4e8e\u8fd9\u90e8\u5206\u5185\u5b58\u5360\u7528\u65e0\u6cd5\u7075\u6d3b\u8c03\u914d\uff0c\u5bfc\u81f4\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u53ef\u80fd\u56e0\u8fd9\u90e8\u5206\u5185\u5b58\u5360\u7528\u800c\u5bfc\u81f4\u5176\u4ed6\u4efb\u52a1\u5185\u5b58\u4e0d\u8db3\uff0c\u5f71\u54cd\u7cfb\u7edf\u7a33\u5b9a\u6027\u548c\u53ef\u7528\u6027\uff0c\u56e0\u6b64\u65b0\u7248\u672c\u4e2d\u9ed8\u8ba4\u5173\u95ed\u4e86\u8fd9\u4e24\u4e2a\u529f\u80fd\u3002\\n\\n\u4f46\u5728\u67d0\u4e9b\u5ef6\u8fdf\u654f\u611f\u7684\u62a5\u8868\u573a\u666f\u4e0b\uff0c\u5173\u95ed\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67e5\u8be2\u5ef6\u8fdf\u589e\u52a0\u3002\u5982\u7528\u6237\u62c5\u5fc3\u5347\u7ea7\u540e\u8be5\u529f\u80fd\u5bf9\u4e1a\u52a1\u9020\u6210\u5f71\u54cd\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 be.conf \u4e2d\u589e\u52a0\u4ee5\u4e0b\u53c2\u6570\u4ee5\u4fdd\u6301\u548c\u4e4b\u524d\u7248\u672c\u884c\u4e3a\u4e00\u81f4\u3002\\n```\\ndisable_storage_page_cache=false\\nchunk_reserved_bytes_limit=10%\\n```\\n\\n### API \u53d8\u5316\\n\\n- BE \u7684 http api \u9519\u8bef\u8fd4\u56de\u4fe1\u606f\uff0c\u7531 `{\\"status\\": \\"Fail\\", \\"msg\\": \\"xxx\\"}` \u53d8\u66f4\u4e3a\u66f4\u5177\u4f53\u7684 ``{\\"status\\": \\"Not found\\", \\"msg\\": \\"Tablet not found. tablet_id=1202\\"}``\\n\\n- `SHOW CREATE TABLE` \u4e2d\uff0c comment\u7684\u5185\u5bb9\u7531\u53cc\u5f15\u53f7\u5305\u88f9\u53d8\u4e3a\u5355\u5f15\u53f7\u5305\u88f9\\n\\n- \u652f\u6301\u666e\u901a\u7528\u6237\u901a\u8fc7 http \u547d\u4ee4\u83b7\u53d6 query profile\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/admin-manual/http-actions/fe/manager/query-profile-action](https://doris.apache.org/zh-CN/docs/dev/admin-manual/http-actions/fe/manager/query-profile-action)\\n\\n- \u4f18\u5316\u4e86 sequence \u5217\u7684\u6307\u5b9a\u65b9\u5f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u5217\u540d\u3002\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/data-operate/update-delete/sequence-column-manual](https://doris.apache.org/zh-CN/docs/dev/data-operate/update-delete/sequence-column-manual)\\n\\n- `show backends` \u548c `show tablets` \u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u589e\u52a0\u8fdc\u7aef\u5b58\u50a8\u7684\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5 (#11450)\\n- \u79fb\u9664\u4e86 Num-Based Compaction \u76f8\u5173\u4ee3\u7801(#13409)\\n- \u91cd\u6784\u4e86BE\u7684\u9519\u8bef\u7801\u673a\u5236\uff0c\u90e8\u5206\u8fd4\u56de\u7684\u9519\u8bef\u4fe1\u606f\u4f1a\u53d1\u751f\u53d8\u5316(#8855)\\n\\n# \u5176\u4ed6\\n\\n- \u652f\u6301Docker \u5b98\u65b9\u955c\u50cf\u3002\\n- \u652f\u6301\u5728 MacOS(x86/M1) \u548c ubuntu-22.04 \u4e0a\u7f16\u8bd1 Doris\\n- \u652f\u6301\u8fdb\u884cimage \u6587\u4ef6\u7684\u6821\u9a8c\u3002\\n\\n\u6587\u6863\u641c\u7d22\u201c--image\u201d\uff1a[https://doris.apache.org/zh-CN/docs/dev/admin-manual/maint-monitor/metadata-operation](https://doris.apache.org/zh-CN/docs/dev/admin-manual/maint-monitor/metadata-operation)\\n- \u811a\u672c\u76f8\u5173\\n  - FE\u3001BE \u7684 stop \u811a\u672c\u652f\u6301\u901a\u8fc7 `--grace` \u53c2\u6570\u9000\u51faFE\u3001BE\uff08\u4f7f\u7528 kill -15 \u4fe1\u53f7\u4ee3\u66ff kill -9\uff09\\n  - FE start \u811a\u672c\u652f\u6301\u901a\u8fc7 --version \u67e5\u770b\u5f53\u524dFE \u7248\u672c(#11563)\\n- \u652f\u6301\u901a\u8fc7 `ADMIN COPY TABLET` \u547d\u4ee4\u83b7\u53d6\u67d0\u4e2a tablet \u7684\u6570\u636e\u548c\u76f8\u5173\u5efa\u8868\u8bed\u53e5\uff0c\u7528\u4e8e\u672c\u5730\u95ee\u9898\u8c03\u8bd5 \\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Database-Administration-Statements/ADMIN-COPY-TABLET](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Database-Administration-Statements/ADMIN-COPY-TABLET)\\n\\n- \u652f\u6301\u901a\u8fc7 http api\uff0c\u83b7\u53d6\u4e00\u4e2aSQL\u8bed\u53e5\u76f8\u5173\u7684 \u5efa\u8868\u8bed\u53e5\uff0c\u7528\u4e8e\u672c\u5730\u95ee\u9898\u590d\u73b0\\n\\n\u6587\u6863\uff1a[https://doris.apache.org/zh-CN/docs/dev/admin-manual/http-actions/fe/query-schema-action](https://doris.apache.org/zh-CN/docs/dev/admin-manual/http-actions/fe/query-schema-action)\\n\\n- \u652f\u6301\u5efa\u8868\u65f6\u5173\u95ed\u8fd9\u4e2a\u8868\u7684 compaction \u529f\u80fd\uff0c\u7528\u4e8e\u6d4b\u8bd5 \\n\\n\u6587\u6863\u4e2d\u641c\u7d22 \\"disble_auto_compaction\\"\uff1a[https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE](https://doris.apache.org/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE)\\n\\n# \u81f4\u8c22\\n\\nApache Doris 1.2.0 \u7248\u672c\u7684\u53d1\u5e03\u79bb\u4e0d\u5f00\u6240\u6709\u793e\u533a\u7528\u6237\u7684\u652f\u6301\uff0c\u5728\u6b64\u5411\u6240\u6709\u53c2\u4e0e\u7248\u672c\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u8ba8\u8bba\u7684\u793e\u533a\u8d21\u732e\u8005\u4eec\u8868\u793a\u611f\u8c22\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff08\u9996\u5b57\u6bcd\u6392\u5e8f\uff09\uff1a\\n\\n```\\n@924060929\\n@a19920714liou\\n@adonis0147\\n@Aiden-Dong\\n@aiwenmo\\n@AshinGau\\n@b19mud\\n@BePPPower\\n@BiteTheDDDDt\\n@bridgeDream\\n@ByteYue\\n@caiconghui\\n@CalvinKirs\\n@cambyzju\\n@caoliang-web\\n@carlvinhust2012\\n@catpineapple\\n@ccoffline\\n@chenlinzhong\\n@chovy-3012\\n@coderjiang\\n@cxzl25\\n@dataalive\\n@dataroaring\\n@dependabot\\n@dinggege1024\\n@DongLiang-0\\n@Doris-Extras\\n@eldenmoon\\n@EmmyMiao87\\n@englefly\\n@FreeOnePlus\\n@Gabriel39\\n@gaodayue\\n@geniusjoe\\n@gj-zhang\\n@gnehil\\n@GoGoWen\\n@HappenLee\\n@hello-stephen\\n@Henry2SS\\n@hf200012\\n@huyuanfeng2018\\n@jacktengg\\n@jackwener\\n@jeffreys-cat\\n@Jibing-Li\\n@JNSimba\\n@Kikyou1997\\n@Lchangliang\\n@LemonLiTree\\n@lexoning\\n@liaoxin01\\n@lide-reed\\n@link3280\\n@liutang123\\n@liuyaolin\\n@LOVEGISER\\n@lsy3993\\n@luozenglin\\n@luzhijing\\n@madongz\\n@morningman\\n@morningman-cmy\\n@morrySnow\\n@mrhhsg\\n@Myasuka\\n@myfjdthink\\n@nextdreamblue\\n@pan3793\\n@pangzhili\\n@pengxiangyu\\n@platoneko\\n@qidaye\\n@qzsee\\n@SaintBacchus\\n@SeekingYang\\n@smallhibiscus\\n@sohardforaname\\n@song7788q\\n@spaces-X\\n@ssusieee\\n@stalary\\n@starocean999\\n@SWJTU-ZhangLei\\n@TaoZex\\n@timelxy\\n@Wahno\\n@wangbo\\n@wangshuo128\\n@wangyf0555\\n@weizhengte\\n@weizuo93\\n@wsjz\\n@wunan1210\\n@xhmz\\n@xiaokang\\n@xiaokangguo\\n@xinyiZzz\\n@xy720\\n@yangzhg\\n@Yankee24\\n@yeyudefeng\\n@yiguolei\\n@yinzhijian\\n@yixiutt\\n@yuanyuan8983\\n@zbtzbtzbt\\n@zenoyang\\n@zhangboya1\\n@zhangstar333\\n@zhannngchen\\n@ZHbamboo\\n@zhengshiJ\\n@zhenhb\\n@zhqu1148980644\\n@zuochunwei\\n@zy-kkk\\n```"},{"id":"/JD_OLAP","metadata":{"permalink":"/zh-CN/blog/JD_OLAP","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/JD_OLAP.md","title":"Apache Doris \u5728\u4eac\u4e1c\u641c\u7d22\u5b9e\u65f6 OLAP \u63a2\u7d22\u4e0e\u5b9e\u8df5","description":"\x3c!--","date":"2022-12-02T00:00:00.000Z","formattedDate":"2022\u5e7412\u67082\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u674e\u54f2"}],"frontMatter":{"title":"Apache Doris \u5728\u4eac\u4e1c\u641c\u7d22\u5b9e\u65f6 OLAP \u63a2\u7d22\u4e0e\u5b9e\u8df5","summary":"\u672c\u6587\u8ba8\u8bba\u4e86\u4eac\u4e1c\u641c\u7d22\u5728\u5b9e\u65f6\u6d41\u91cf\u6570\u636e\u5206\u6790\u65b9\u9762\uff0c\u5229\u7528Apache Flink\u548cApache Doris\u8fdb\u884c\u7684\u63a2\u7d22\u548c\u5b9e\u8df5\u3002\u6d41\u5f0f\u8ba1\u7b97\u5728\u8fd1\u4e9b\u5e74\u7684\u70ed\u5ea6\u4e0e\u65e5\u4ff1\u589e\uff1a\u4eceGoogle Dataflow\u8bba\u6587\u7684\u53d1\u8868\uff0c\u5230Apache Flink\u8ba1\u7b97\u5f15\u64ce\u9010\u6e10\u7ad9\u5230\u821e\u53f0\u4e2d\u592e\uff0c\u518d\u5230Apache Druid\u7b49\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93\u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u6d41\u5f0f\u8ba1\u7b97\u5f15\u64ce\u767e\u82b1\u9f50\u653e\u3002\u4f46\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u9762\u4e34\u7740\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u6ca1\u6709\u54ea\u4e00\u79cd\u5f15\u64ce\u662f\u4e07\u80fd\u7684\u3002\u6211\u4eec\u5e0c\u671b\u4eac\u4e1c\u641c\u7d22\u4e1a\u52a1\u5728\u6d41\u8ba1\u7b97\u7684\u5e94\u7528\u5b9e\u8df5\uff0c\u80fd\u591f\u7ed9\u5230\u5927\u5bb6\u4e00\u4e9b\u542f\u53d1\uff0c\u4e5f\u6b22\u8fce\u5927\u5bb6\u591a\u591a\u4ea4\u6d41\uff0c\u7ed9\u6211\u4eec\u63d0\u51fa\u5b9d\u8d35\u7684\u5efa\u8bae.","date":"2022-12-02","author":"\u674e\u54f2","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.2.0 Release","permalink":"/zh-CN/blog/release-1.2.0"},"nextItem":{"title":"Apache Doris \u52a9\u529b\u7f51\u6613\u4e25\u9009\u6253\u9020\u7cbe\u7ec6\u5316\u8fd0\u8425 DMP \u6807\u7b7e\u7cfb\u7edf","permalink":"/zh-CN/blog/Netease"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# \u4eac\u4e1c\u641c\u7d22\u5b9e\u65f6 OLAP \u63a2\u7d22\u4e0e\u5b9e\u8df5\\n\\n![kv](/images/jd/zh/kv.png)\\n\\n> \u524d\u8a00\\n\u672c\u6587\u8ba8\u8bba\u4e86\u4eac\u4e1c\u641c\u7d22\u5728\u5b9e\u65f6\u6d41\u91cf\u6570\u636e\u5206\u6790\u65b9\u9762\uff0c\u5229\u7528Apache Flink\u548cApache Doris\u8fdb\u884c\u7684\u63a2\u7d22\u548c\u5b9e\u8df5\u3002\u6d41\u5f0f\u8ba1\u7b97\u5728\u8fd1\u4e9b\u5e74\u7684\u70ed\u5ea6\u4e0e\u65e5\u4ff1\u589e\uff1a\u4eceGoogle Dataflow\u8bba\u6587\u7684\u53d1\u8868\uff0c\u5230Apache Flink\u8ba1\u7b97\u5f15\u64ce\u9010\u6e10\u7ad9\u5230\u821e\u53f0\u4e2d\u592e\uff0c\u518d\u5230Apache Druid\u7b49\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93\u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u6d41\u5f0f\u8ba1\u7b97\u5f15\u64ce\u767e\u82b1\u9f50\u653e\u3002\u4f46\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u9762\u4e34\u7740\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u6ca1\u6709\u54ea\u4e00\u79cd\u5f15\u64ce\u662f\u4e07\u80fd\u7684\u3002\u6211\u4eec\u5e0c\u671b\u4eac\u4e1c\u641c\u7d22\u4e1a\u52a1\u5728\u6d41\u8ba1\u7b97\u7684\u5e94\u7528\u5b9e\u8df5\uff0c\u80fd\u591f\u7ed9\u5230\u5927\u5bb6\u4e00\u4e9b\u542f\u53d1\uff0c\u4e5f\u6b22\u8fce\u5927\u5bb6\u591a\u591a\u4ea4\u6d41\uff0c\u7ed9\u6211\u4eec\u63d0\u51fa\u5b9d\u8d35\u7684\u5efa\u8bae\u3002\\n\\n> \u4f5c\u8005\uff1a\u674e\u54f2\uff0c\u4eac\u4e1c\u641c\u63a8\u6570\u636e\u5f00\u53d1\u5de5\u7a0b\u5e08\uff0c\u66fe\u5c31\u804c\u4e8e\u7f8e\u56e2\u70b9\u8bc4\uff0c\u4e3b\u8981\u4ece\u4e8b\u79bb\u7ebf\u6570\u636e\u5f00\u53d1\u3001\u6d41\u8ba1\u7b97\u5f00\u53d1\u4ee5\u53caOLAP\u591a\u7ef4\u67e5\u8be2\u5f15\u64ce\u7684\u5e94\u7528\u5f00\u53d1\u3002\\n\\n## \u4eac\u4e1c\u4e0e\u4eac\u4e1c\u641c\u7d22\\n\u4eac\u4e1c\u96c6\u56e2\uff08NASDAQ\uff1aJD\uff09\u4e2d\u56fd\u9886\u5148\u7684\u7535\u5546\u4f01\u4e1a\uff0c2021\u5e74\u5168\u5e74\u51c0\u6536\u5165\u8fbe\u52309516\u4ebf\u5143\u4eba\u6c11\u5e01\u3002\u4eac\u4e1c\u96c6\u56e2\u65d7\u4e0b\u8bbe\u6709\u4eac\u4e1c\u96f6\u552e\u3001\u4eac\u4e1c\u56fd\u9645\u3001\u4eac\u4e1c\u79d1\u6280\u3001\u4eac\u4e1c\u7269\u6d41\u3001\u4eac\u4e1c\u4e91\u7b49\u3002 \u4eac\u4e1c\u96c6\u56e2\u4e8e2014\u5e745\u6708\u5728\u7f8e\u56fd\u7eb3\u65af\u8fbe\u514b\u8bc1\u5238\u4ea4\u6613\u6240\u6b63\u5f0f\u6302\u724c\u4e0a\u5e02\u3002\\n\\n## \u641c\u7d22\u4e1a\u52a1\u5bf9\u5b9e\u65f6\u6570\u636e\u5206\u6790\u7684\u9700\u6c42\\n\u4eac\u4e1c\u641c\u7d22\u4f5c\u4e3a\u7535\u5546\u5e73\u53f0\u7684\u5165\u53e3\uff0c\u4e3a\u4f17\u591a\u5546\u5bb6\u4e0e\u7528\u6237\u63d0\u4f9b\u8fde\u63a5\u7684\u7ebd\u5e26\u3002\u4eac\u4e1c\u641c\u7d22\u53d1\u6325\u7740\u5bfc\u6d41\u7684\u4f5c\u7528\uff0c\u7ed9\u7528\u6237\u63d0\u4f9b\u8868\u8fbe\u9700\u6c42\u7684\u5165\u53e3\uff1b\u4e3a\u4e86\u6b63\u786e\u7406\u89e3\u7528\u6237\u610f\u56fe\uff0c\u5c06\u7528\u6237\u7684\u9700\u6c42\u8fdb\u884c\u9ad8\u6548\u7684\u8f6c\u5316\uff0c\u7ebf\u4e0a\u540c\u65f6\u8fd0\u884c\u7740\u591a\u4e2aAB\u5b9e\u9a8c\u7b97\u6cd5\uff0c\u904d\u53caPOP\u5f62\u6001\u4e0e\u81ea\u8425\u5f62\u6001\u7684\u591a\u4e2a\u5546\u54c1\u3002\u800c\u8fd9\u4e9b\u5546\u54c1\u6240\u5c5e\u7684\u54c1\u7c7b\u3001\u6240\u5728\u7684\u7ec4\u7ec7\u67b6\u6784\u4ee5\u53ca\u54c1\u724c\u5e97\u94fa\u7b49\u5c5e\u6027\uff0c\u90fd\u9700\u8981\u5728\u7ebf\u8fdb\u884c\u76d1\u63a7\uff0c\u4ee5\u8861\u91cf\u8f6c\u5316\u7684\u6548\u679c\u548c\u627f\u63a5\u7684\u80fd\u529b\u3002\u76ee\u524d\u641c\u7d22\u4e0a\u5c42\u5e94\u7528\u4e1a\u52a1\u5bf9\u5b9e\u65f6\u6570\u636e\u7684\u9700\u6c42\uff0c\u4e3b\u8981\u5305\u542b\u4e09\u90e8\u5206\u5185\u5bb9\uff1a\\n1\u3001 \u641c\u7d22\u6574\u4f53\u6570\u636e\u7684\u5b9e\u65f6\u5206\u6790\u3002\\n2\u3001 AB\u5b9e\u9a8c\u6548\u679c\u7684\u5b9e\u65f6\u76d1\u63a7\u3002\\n3\u3001 \u70ed\u641c\u8bcd\u7684Top\u699c\u5355\u4ee5\u53cd\u6620\u8206\u60c5\u7684\u53d8\u5316\u3002\\n\u8fd9\u4e09\u90e8\u5206\u6570\u636e\u9700\u6c42\uff0c\u90fd\u9700\u8981\u8fdb\u884c\u6df1\u5ea6\u7684\u4e0b\u94bb\uff0c\u7ef4\u5ea6\u7ec6\u5316\u9700\u8981\u5230SKU\u7c92\u5ea6\u3002\u540c\u65f6\u6211\u4eec\u4e5f\u627f\u62c5\u7740\u641c\u7d22\u5b9e\u65f6\u6570\u636e\u5e73\u53f0\u7684\u5efa\u8bbe\u4efb\u52a1\uff0c\u4e3a\u4e0b\u6e38\u7528\u6237\u8f93\u51fa\u4e0d\u540c\u5c42\u6b21\u7684\u5b9e\u65f6\u6d41\u6570\u636e\u3002\\n\u6211\u4eec\u7684\u7528\u6237\u5305\u62ec\u641c\u7d22\u7684\u8fd0\u8425\u3001\u4ea7\u54c1\u3001\u7b97\u6cd5\u4ee5\u53ca\u91c7\u9500\u4eba\u5458\u3002\u867d\u7136\u4e0d\u540c\u7528\u6237\u5173\u5fc3\u7684\u6570\u636e\u7c92\u5ea6\u4e0d\u540c\u3001\u65f6\u95f4\u9891\u7387\u4e0d\u540c\u3001\u7ef4\u5ea6\u4e5f\u4e0d\u540c\uff0c\u4f46\u662f\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u5efa\u7acb\u7edf\u4e00\u7684\u5b9e\u65f6OLAP\u6570\u636e\u4ed3\u5e93\uff0c\u5e76\u63d0\u4f9b\u4e00\u5957\u5b89\u5168\u3001\u53ef\u9760\u7684\u3001\u7075\u6d3b\u7684\u5b9e\u65f6\u6570\u636e\u670d\u52a1\u3002\\n\u76ee\u524d\u6bcf\u65e5\u65b0\u589e\u7684\u66dd\u5149\u65e5\u5fd7\u8fbe\u5230\u51e0\u4ebf\u6761\u8bb0\u5f55\uff0c\u800c\u62c6\u5206\u5230SKU\u7c92\u5ea6\u7684\u65e5\u5fd7\u5219\u8981\u7ffb10\u500d\uff0c\u518d\u7ec6\u62c6\u5230AB\u5b9e\u9a8c\u7684SKU\u7c92\u5ea6\u65f6\uff0c\u6570\u636e\u91cf\u5219\u591a\u8fbe\u4e0a\u767e\u4ebf\u8bb0\u5f55\uff0c\u591a\u7ef4\u6570\u636e\u7ec4\u5408\u4e0b\u7684\u805a\u5408\u67e5\u8be2\u8981\u6c42\u79d2\u7ea7\u54cd\u5e94\u65f6\u95f4\uff0c\u8fd9\u6837\u7684\u6570\u636e\u91cf\u4e5f\u7ed9\u56e2\u961f\u5e26\u6765\u4e86\u4e0d\u5c0f\u7684\u6311\u6218\u3002\\n\\n## \u5b9e\u65f6\u6280\u672f\u67b6\u6784\u6f14\u8fdb\\n\u6211\u4eec\u4e4b\u524d\u7684\u65b9\u6848\u662f\u4ee5Apache Storm\u5f15\u64ce\u8fdb\u884c\u70b9\u5bf9\u70b9\u7684\u6570\u636e\u5904\u7406\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5728\u4e1a\u52a1\u9700\u6c42\u5feb\u901f\u589e\u957f\u7684\u9636\u6bb5\uff0c\u53ef\u4ee5\u5feb\u901f\u7684\u6ee1\u8db3\u5b9e\u65f6\u62a5\u8868\u7684\u9700\u6c42\u3002\u4f46\u662f\u968f\u7740\u4e1a\u52a1\u7684\u4e0d\u65ad\u53d1\u5c55\u3001\u6570\u636e\u91cf\u9010\u6e10\u589e\u52a0\u4ee5\u53ca\u9700\u6c42\u9010\u6e10\u591a\u6837\u5316\uff0c\u5f0a\u7aef\u968f\u4e4b\u4ea7\u751f\u3002\u4f8b\u5982\u7075\u6d3b\u6027\u5dee\u3001\u6570\u636e\u4e00\u81f4\u6027\u65e0\u6cd5\u6ee1\u8db3\u3001\u5f00\u53d1\u6548\u7387\u8f83\u4f4e\u3001\u8d44\u6e90\u6210\u672c\u589e\u52a0\u7b49\u3002\\n\\n![page_2-zh](/images/jd/zh/page_2-zh.png)\\n\\n\u4e3a\u89e3\u51b3\u4e4b\u524d\u67b6\u6784\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u6211\u4eec\u9996\u5148\u8fdb\u884c\u4e86\u67b6\u6784\u5347\u7ea7\uff0c\u5c06storm\u5f15\u64ce\u66ff\u6362\u4e3aApache Flink\uff0c\u7528\u4ee5\u5b9e\u73b0\u9ad8\u541e\u5410\u3001exactly once\u7684\u5904\u7406\u8bed\u4e49\u3002\u540c\u65f6\u6839\u636e\u641c\u7d22\u6570\u636e\u7684\u7279\u70b9\uff0c\u5c06\u5b9e\u65f6\u6570\u636e\u8fdb\u884c\u5206\u5c42\u5904\u7406\uff0c\u6784\u5efa\u51faPV\u6d41\u660e\u7ec6\u5c42\u3001SKU\u6d41\u660e\u7ec6\u5c42\u548cAB\u5b9e\u9a8c\u6d41\u660e\u7ec6\u5c42\uff0c\u671f\u671b\u57fa\u4e8e\u4e0d\u540c\u660e\u7ec6\u5c42\u7684\u5b9e\u65f6\u6d41\uff0c\u6784\u5efa\u4e0a\u5c42\u7684\u5b9e\u65f6OLAP\u5c42\u3002\\nOLAP\u5c42\u7684\u5728\u6280\u672f\u9009\u578b\u65f6\uff0c\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u51e0\u70b9\uff1a\\n1\uff1a\u6570\u636e\u5ef6\u8fdf\u5728\u5206\u949f\u7ea7\uff0c\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u5728\u79d2\u7ea7\\n2\uff1a\u6807\u51c6SQL\u4ea4\u4e92\u5f15\u64ce\uff0c\u964d\u4f4e\u4f7f\u7528\u6210\u672c\\n3\uff1a\u652f\u6301join\u64cd\u4f5c\uff0c\u65b9\u4fbf\u4ee5\u7ef4\u5ea6\u7ea7\u522b\u589e\u52a0\u5c5e\u6027\u4fe1\u606f\\n4\uff1a\u6d41\u91cf\u6570\u636e\u53ef\u4ee5\u8fd1\u4f3c\u53bb\u91cd\uff0c\u4f46\u8ba2\u5355\u884c\u8981\u7cbe\u51c6\u53bb\u91cd\\n5\uff1a\u9ad8\u541e\u5410\uff0c\u6bcf\u5206\u949f\u6570\u636e\u91cf\u5728\u5343\u4e07\u7ea7\u8bb0\u5f55\uff0c\u6bcf\u5929\u6570\u767e\u4ebf\u6761\u65b0\u589e\u8bb0\u5f55\\n6\uff1a\u524d\u7aef\u4e1a\u52a1\u8f83\u591a\uff0c\u67e5\u8be2\u5e76\u53d1\u5ea6\u4e0d\u80fd\u592a\u4f4e\\n\u901a\u8fc7\u5bf9\u6bd4\u76ee\u524d\u4e1a\u754c\u5e7f\u6cdb\u4f7f\u7528\u7684\u652f\u6301\u5b9e\u65f6\u5bfc\u5165\u7684OLAP\u5f15\u64ce\uff0c\u6211\u4eec\u5728druid\u3001ES\u3001clickhouse\u548cdoris\u4e4b\u95f4\u505a\u4e86\u6a2a\u5411\u6bd4\u8f83\uff1a\\n\\n![page_3-zh](/images/jd/zh/page_3-zh.png)\\n\\n\u901a\u8fc7\u5bf9\u6bd4\u5f00\u6e90\u7684\u51e0\u6b3e\u5b9e\u65f6OLAP\u5f15\u64ce\uff0c\u6211\u4eec\u53d1\u73b0doris\u548cclickhouse\u80fd\u591f\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff0c\u4f46\u662fclickhouse\u7684\u5e76\u53d1\u5ea6\u592a\u4f4e\u662f\u4e2a\u6f5c\u5728\u7684\u98ce\u9669\uff0c\u800c\u4e14clickhouse\u7684\u6570\u636e\u5bfc\u5165\u6ca1\u6709\u4e8b\u52a1\u652f\u6301\uff0c\u65e0\u6cd5\u5b9e\u73b0exactly once\u8bed\u4e49\uff0c\u5bf9\u6807\u51c6sql\u7684\u652f\u6301\u4e5f\u662f\u6709\u9650\u7684\u3002\\n\u6700\u7ec8\uff0c\u6211\u4eec\u9009\u5b9adoris\u4f5c\u4e3a\u805a\u5408\u5c42\uff0c\u7528\u4e8e\u5b9e\u65f6OLAP\u5206\u6790\u3002\u5bf9\u4e8e\u6d41\u91cf\u6570\u636e\uff0c\u4f7f\u7528\u805a\u5408\u6a21\u578b\u5efa\u8868\uff1b\u5bf9\u4e8e\u8ba2\u5355\u884c\uff0c\u6211\u4eec\u4f7f\u7528Uniq\u6a21\u578b\uff0c\u4fdd\u8bc1\u540c\u4e00\u4e2a\u8ba2\u5355\u6700\u7ec8\u53ea\u4f1a\u5b58\u50a8\u4e00\u6761\u8bb0\u5f55\uff0c\u4ece\u800c\u8fbe\u5230\u8ba2\u5355\u884c\u7cbe\u51c6\u53bb\u91cd\u7684\u76ee\u7684\u3002\u5728flink\u5904\u7406\u65f6\uff0c\u6211\u4eec\u4e5f\u5c06\u4e4b\u524d\u7684\u4efb\u52a1\u62c6\u89e3\uff0c\u5c06\u53cd\u590d\u52a0\u5de5\u7684\u903b\u8f91\u5c01\u88c5\uff0c\u6bcf\u4e00\u6b21\u5904\u7406\u90fd\u751f\u6210\u65b0\u7684topic\u6d41\uff0c\u660e\u7ec6\u5c42\u7ec6\u5206\u4e86\u4e0d\u540c\u7c92\u5ea6\u7684\u5b9e\u65f6\u6d41\u3002\u65b0\u65b9\u6848\u5982\u4e0b\uff1a\\n\\n![page_4-zh](/images/jd/zh/page_4-zh.png)\\n\\n\u76ee\u524d\u7684\u6280\u672f\u67b6\u6784\u4e2d\uff0cflink\u7684\u4efb\u52a1\u662f\u975e\u5e38\u8f7b\u7684\u3002\u57fa\u4e8e\u751f\u4ea7\u7684\u6570\u636e\u660e\u7ec6\u5c42\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528\u4e86doris\u6765\u5145\u5f53\u805a\u5408\u5c42\u7684\u529f\u80fd\uff0c\u5c06\u539f\u672c\u53ef\u4ee5\u5728flink\u4e2d\u5b9e\u73b0\u7684\u7a97\u53e3\u8ba1\u7b97\uff0c\u4e0b\u6c89\u5230doris\u4e2d\u5b8c\u6210\u3002\u5229\u7528doris\u7684routine load\u6d88\u8d39\u5b9e\u65f6\u6570\u636e\uff0c\u867d\u7136\u6570\u636e\u5728\u5bfc\u5165\u524d\u662f\u660e\u7ec6\u7c92\u5ea6\uff0c\u4f46\u662f\u57fa\u4e8e\u805a\u5408\u6a21\u578b\uff0c\u5bfc\u5165\u540e\u81ea\u52a8\u8fdb\u884c\u5f02\u6b65\u805a\u5408\u3002\u800c\u805a\u5408\u5ea6\u7684\u9ad8\u4f4e\uff0c\u5b8c\u5168\u6839\u636e\u7ef4\u5ea6\u7684\u4e2a\u6570\u4e0e\u7ef4\u5ea6\u7684\u57fa\u6570\u51b3\u5b9a\u3002\u901a\u8fc7\u5728base\u8868\u4e0a\u5efa\u7acbrollup\uff0c\u5728\u5bfc\u5165\u65f6\u53cc\u5199\u6216\u591a\u5199\u5e76\u8fdb\u884c\u9884\u805a\u5408\u64cd\u4f5c\uff0c\u8fd9\u6709\u70b9\u7c7b\u4f3c\u4e8e\u7269\u5316\u89c6\u56fe\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5c06\u6570\u636e\u8fdb\u884c\u9ad8\u5ea6\u7684\u6c47\u603b\uff0c\u4ee5\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002\\n\u5728\u660e\u7ec6\u5c42\u91c7\u7528kafka\u76f4\u63a5\u5bf9\u63a5\u5230doris\uff0c\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\u5c31\u662f\u8fd9\u79cd\u65b9\u5f0f\u5929\u7136\u7684\u652f\u6301\u6570\u636e\u56de\u6eaf\u3002\u6570\u636e\u56de\u6eaf\u7b80\u5355\u8bf4\u5c31\u662f\u5f53\u9047\u5230\u5b9e\u65f6\u6570\u636e\u7684\u4e71\u5e8f\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u5c06\u201c\u8fdf\u5230\u201d\u7684\u6570\u636e\u8fdb\u884c\u91cd\u65b0\u8ba1\u7b97\uff0c\u66f4\u65b0\u4e4b\u524d\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u5bfc\u5165\u7684\u662f\u660e\u7ec6\u6570\u636e\uff0c\u5ef6\u8fdf\u7684\u6570\u636e\u65e0\u8bba\u4f55\u65f6\u5230\u8fbe\u90fd\u53ef\u4ee5\u88ab\u5199\u5165\u5230\u8868\u4e2d\uff0c\u800c\u67e5\u8be2\u63a5\u53e3\u53ea\u9700\u8981\u518d\u6b21\u8fdb\u884c\u67e5\u8be2\u5373\u53ef\u83b7\u5f97\u6700\u65b0\u7684\u8ba1\u7b97\u7ed3\u679c\u3002\u6700\u7ec8\u65b9\u6848\u7684\u6570\u636e\u6d41\u56fe\u5982\u4e0b\uff1a\\n\\n![page_5-zh](/images/jd/zh/page_5-zh.png)\\n\\n## Doris\u5728\u5927\u4fc3\u671f\u95f4\u7684\u4f18\u5316\\n\u4e0a\u6587\u63d0\u5230\u6211\u4eec\u5728doris\u4e2d\u5efa\u7acb\u4e86\u4e0d\u540c\u7c92\u5ea6\u7684\u805a\u5408\u6a21\u578b\uff0c\u5305\u62ecPV\u7c92\u5ea6\u3001SKU\u7c92\u5ea6\u4ee5\u53caAB\u5b9e\u9a8c\u7c92\u5ea6\u3002\u6211\u4eec\u8fd9\u91cc\u4ee5\u6bcf\u65e5\u751f\u4ea7\u6570\u636e\u91cf\u6700\u5927\u7684\u66dd\u5149AB\u5b9e\u9a8c\u6a21\u578b\u4e3a\u4f8b\uff0c\u9610\u8ff0\u5728doris\u4e2d\u5982\u4f55\u652f\u6301\u5927\u4fc3\u671f\u95f4\u6bcf\u65e5\u65b0\u589e\u767e\u4ebf\u6761\u8bb0\u5f55\u7684\u67e5\u8be2\u7684\u3002\\nAB\u5b9e\u9a8c\u7684\u6548\u679c\u76d1\u63a7\uff0c\u4e1a\u52a1\u4e0a\u9700\u898110\u5206\u949f\u300130\u5206\u949f\u300160\u5206\u949f\u4ee5\u53ca\u5168\u5929\u7d2f\u8ba1\u7b49\u56db\u4e2a\u65f6\u95f4\u6bb5\uff0c\u540c\u65f6\u9700\u8981\u6839\u636e\u6e20\u9053\u3001\u5e73\u53f0\u548c\u4e00\u4e8c\u4e09\u7ea7\u54c1\u7c7b\u7b49\u7ef4\u5ea6\u8fdb\u884c\u4e0b\u94bb\u5206\u6790\uff0c\u89c2\u6d4b\u7684\u6307\u6807\u5219\u5305\u542b\u66dd\u5149PV\u3001UV\u3001\u66dd\u5149SKU\u4ef6\u6b21\u3001\u70b9\u51fbPV\u3001\u70b9\u51fbUV\u7b49\u57fa\u7840\u6307\u6807\uff0c\u4ee5\u53caCTR\u7b49\u884d\u751f\u6307\u6807\u3002\\n\u5728\u6570\u636e\u5efa\u6a21\u9636\u6bb5\uff0c\u6211\u4eec\u5c06\u66dd\u5149\u5b9e\u65f6\u6570\u636e\u5efa\u7acb\u805a\u5408\u6a21\u578b\uff0c\u5176\u4e2dK\u7a7a\u95f4\u5305\u542b\u65e5\u671f\u5b57\u6bb5\u3001\u5206\u949f\u7c92\u5ea6\u7684\u65f6\u95f4\u5b57\u6bb5\u3001\u6e20\u9053\u3001\u5e73\u53f0\u3001\u4e00\u4e8c\u4e09\u7ea7\u54c1\u7c7b\u7b49\uff0cV\u7a7a\u95f4\u5219\u5305\u542b\u4e0a\u8ff0\u7684\u6307\u6807\u5217\uff0c\u5176\u4e2dUV\u548cPV\u8fdb\u884cHLL\u8fd1\u4f3c\u8ba1\u7b97\uff0c\u800cSKU\u4ef6\u6b21\u5219\u91c7\u7528SUM\u51fd\u6570\uff0c\u6bcf\u5230\u6765\u4e00\u6761\u65b0\u8bb0\u5f55\u5219\u52a01\u3002\u7531\u4e8eAB\u5b9e\u9a8c\u6570\u636e\u90fd\u662f\u4ee5AB\u5b9e\u9a8c\u4f4d\u4f5c\u4e3a\u8fc7\u6ee4\u6761\u4ef6\uff0c\u56e0\u6b64\u5c06\u5b9e\u9a8c\u4f4d\u5b57\u6bb5\u8bbe\u7f6e\u4e3a\u5206\u6876\u5b57\u6bb5\uff0c\u67e5\u8be2\u65f6\u80fd\u591f\u5feb\u901f\u5b9a\u4f4dtablet\u5206\u7247\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cHLL\u7684\u8fd1\u4f3c\u5ea6\u5728\u76ee\u524dPV\u548cUV\u7684\u57fa\u6570\u4e0b\uff0c\u5b9e\u9645\u60c5\u51b5\u8bef\u5dee\u57280.8%\u5de6\u53f3\uff0c\u7b26\u5408\u9884\u671f\u3002\\n\u76ee\u524ddoris\u7684\u96c6\u7fa4\u517130+\u53f0BE\uff0c\u5b58\u50a8\u91c7\u7528\u7684\u662f\u652f\u6301NVMe\u534f\u8bae\u7684SSD\u786c\u76d8\u3002AB\u5b9e\u9a8c\u66dd\u5149topic\u7684\u5206\u533a\u6570\u4e3a40+\uff0c\u6bcf\u65e5\u65b0\u589e\u767e\u4ebf\u6761\u6570\u636e\u3002\u5728\u6570\u636e\u5bfc\u5165\u9636\u6bb5\uff0c\u6211\u4eec\u4e3b\u8981\u9488\u5bf9\u5bfc\u5165\u4efb\u52a1\u7684\u4e09\u4e2a\u53c2\u6570\u8fdb\u884c\u4f18\u5316\uff1a\u6700\u5927\u65f6\u95f4\u95f4\u9694\u3001\u6700\u5927\u6570\u636e\u91cf\u4ee5\u53ca\u6700\u5927\u8bb0\u5f55\u6570\u3002\u5f53\u8fd93\u4e2a\u6307\u6807\u4e2d\u4efb\u4f55\u4e00\u4e2a\u8fbe\u5230\u8bbe\u7f6e\u7684\u9608\u503c\u65f6\uff0c\u4efb\u52a1\u90fd\u4f1a\u89e6\u53d1\u5bfc\u5165\u64cd\u4f5c\u3002\u4e3a\u4e86\u66f4\u597d\u7684\u4e86\u89e3\u4efb\u52a1\u6bcf\u6b21\u89e6\u53d1\u7684\u6761\u4ef6\uff0c\u8fbe\u523010\u5206\u949f\u6d88\u8d396\u4ebf\u6761\u8bb0\u5f55\u7684\u538b\u6d4b\u76ee\u6807\uff0c\u6211\u4eec\u901a\u8fc7\u95f4\u9694\u91c7\u6837\u7684\u65b9\u6cd5\uff0c\u6bcf\u96943\u5206\u949f\u91c7\u6837\u4e00\u6b21\u4efb\u52a1\u7684\u60c5\u51b5\uff0c\u83b7\u53d6Statistic\u4fe1\u606f\u4e2d\u7684receivedBytes\u3001cimmittedTaskNum\u3001loadedRows\u4ee5\u53cataskExecuteTimeMs\u6570\u503c\u3002\u901a\u8fc7\u5bf9\u4e0a\u8ff0\u6570\u503c\u5728\u524d\u540e2\u4e2a\u65f6\u95f4\u6bb5\u7684\u5dee\u503c\u8ba1\u7b97\uff0c\u786e\u5b9a\u6bcf\u4e2a\u4efb\u52a1\u89e6\u53d1\u7684\u6761\u4ef6\uff0c\u5e76\u8c03\u6574\u53c2\u6570\uff0c\u4ee5\u5728\u541e\u5410\u548c\u5ef6\u8fdf\u4e4b\u95f4\u8fdb\u884c\u5e73\u8861\uff0c\u6700\u7ec8\u8fbe\u5230\u538b\u6d4b\u7684\u8981\u6c42\u3002\\n\u4e3a\u4e86\u5b9e\u73b0\u5feb\u901f\u7684\u591a\u7ef4\u6570\u636e\u67e5\u8be2\uff0c\u57fa\u4e8ebase\u8868\u5efa\u7acb\u4e86\u4e0d\u540c\u7684rollup\uff0c\u540c\u65f6\u6bcf\u4e2arollup\u7684\u5b57\u6bb5\u987a\u5e8f\uff0c\u4e5f\u8981\u9075\u5faa\u8fc7\u6ee4\u7684\u5b57\u6bb5\u5c3d\u53ef\u80fd\u653e\u5230\u524d\u9762\u7684\u539f\u5219\uff0c\u5145\u5206\u5229\u7528\u524d\u7f00\u7d22\u5f15\u7684\u7279\u6027\u3002\u8fd9\u91cc\u5e76\u4e0d\u662frollup\u8d8a\u591a\u8d8a\u597d\uff0c\u56e0\u4e3a\u6bcf\u4e2arollup\u90fd\u4f1a\u6709\u76f8\u5e94\u7684\u7269\u7406\u5b58\u50a8\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2arollup\uff0c\u5728\u5199\u5165\u65f6\u5c31\u4f1a\u589e\u52a0\u4e00\u4efdIO\u3002\u6700\u7ec8\u6211\u4eec\u5728\u6b64\u8868\u4e0a\u5efa\u7acb\u4e862\u4e2arollup\uff0c\u5728\u8981\u6c42\u7684\u54cd\u5e94\u65f6\u95f4\u5185\u5c3d\u53ef\u80fd\u591a\u7684\u6ee1\u8db3\u67e5\u8be2\u9700\u6c42\u3002\\n\\n## \u603b\u7ed3\u4e0e\u5c55\u671b\\n\u4eac\u4e1c\u641c\u7d22\u662f\u57282020\u5e745\u6708\u4efd\u5f15\u5165doris\u7684\uff0c\u89c4\u6a21\u662f30+\u53f0BE\uff0c\u7ebf\u4e0a\u540c\u65f6\u8fd0\u884c\u774010+\u4e2aroutine load\u4efb\u52a1\uff0c\u6bcf\u65e5\u65b0\u589e\u6570\u636e\u6761\u6570\u5728200\u4ebf+\uff0c\u5df2\u7ecf\u6210\u4e3a\u4eac\u4e1c\u4f53\u91cf\u6700\u5927\u7684doris\u7528\u6237\u3002\u4ece\u7ed3\u679c\u770b\uff0c\u7528doris\u66ff\u6362flink\u7684\u7a97\u53e3\u8ba1\u7b97\uff0c\u65e2\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff0c\u9002\u5e94\u7ef4\u5ea6\u7684\u53d8\u5316\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u964d\u4f4e\u8ba1\u7b97\u8d44\u6e90\uff0c\u7528doris\u5145\u5f53\u5b9e\u65f6\u6570\u636e\u4ed3\u5e93\u7684\u805a\u5408\u5c42\uff0c\u5e76\u63d0\u4f9b\u7edf\u4e00\u7684\u63a5\u53e3\u670d\u52a1\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b89\u5168\u6027\u3002\\n\u6211\u4eec\u5728\u4f7f\u7528\u4e2d\u4e5f\u9047\u5230\u4e86\u67e5\u8be2\u76f8\u5173\u7684\u3001\u4efb\u52a1\u8c03\u5ea6\u76f8\u5173\u7684bug\uff0c\u4e5f\u5728\u63a8\u52a8\u4eac\u4e1cOLAP\u5e73\u53f0\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u3002\u63a5\u4e0b\u6765\u5f85\u7248\u672c\u5347\u7ea7\u540e\uff0c\u6211\u4eec\u8ba1\u5212\u4f7f\u7528bitmap\u529f\u80fd\u6765\u652f\u6301UV\u7b49\u6307\u6807\u7684\u7cbe\u51c6\u53bb\u91cd\u64cd\u4f5c\uff0c\u5e76\u5c06\u63a8\u8350\u5b9e\u65f6\u4e1a\u52a1\u5e94\u7528doris\u5b9e\u73b0\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u4e3a\u4e86\u5b8c\u5584\u5b9e\u65f6\u6570\u4ed3\u7684\u5206\u5c42\u7ed3\u6784\uff0c\u4e3a\u66f4\u591a\u4e1a\u52a1\u63d0\u4f9b\u6570\u636e\u8f93\u5165\uff0c\u6211\u4eec\u4e5f\u8ba1\u5212\u4f7f\u7528\u9002\u5f53\u7684flink\u7a97\u53e3\u5f00\u53d1\u805a\u5408\u5c42\u7684\u5b9e\u65f6\u6d41\uff0c\u589e\u52a0\u6570\u636e\u7684\u4e30\u5bcc\u5ea6\u548c\u5b8c\u6574\u5ea6\u3002"},{"id":"/Netease","metadata":{"permalink":"/zh-CN/blog/Netease","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/Netease.md","title":"Apache Doris \u52a9\u529b\u7f51\u6613\u4e25\u9009\u6253\u9020\u7cbe\u7ec6\u5316\u8fd0\u8425 DMP \u6807\u7b7e\u7cfb\u7edf","description":"\x3c!--","date":"2022-11-30T00:00:00.000Z","formattedDate":"2022\u5e7411\u670830\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u5218\u6653\u4e1c"}],"frontMatter":{"title":"Apache Doris \u52a9\u529b\u7f51\u6613\u4e25\u9009\u6253\u9020\u7cbe\u7ec6\u5316\u8fd0\u8425 DMP \u6807\u7b7e\u7cfb\u7edf","summary":"\u5982\u679c\u8bf4\u4e92\u8054\u7f51\u7684\u4e0a\u534a\u573a\u662f\u7c97\u72c2\u8fd0\u8425\uff0c\u90a3\u4e48\u5728\u4e0b\u534a\u573a\uff0c\u7cbe\u7ec6\u5316\u8fd0\u8425\u5c06\u662f\u957f\u4e45\u7684\u4e3b\u9898\uff0c\u6709\u6570\u636e\u5206\u6790\u80fd\u529b\u624d\u80fd\u8ba9\u7528\u6237\u5f97\u5230\u66f4\u597d\u7684\u4f53\u9a8c\u3002\u5f53\u4e0b\u6bd4\u8f83\u5178\u578b\u7684\u5206\u6790\u65b9\u5f0f\u662f\u6784\u5efa\u7528\u6237\u6807\u7b7e\u7cfb\u7edf\uff0c\u672c\u6587\u5c06\u7531\u7f51\u6613\u4e25\u9009\u5206\u4eab DMP \u6807\u7b7e\u7cfb\u7edf\u7684\u5efa\u8bbe\u4ee5\u53ca Apache Doris \u5728\u5176\u4e2d\u7684\u5e94\u7528\u5b9e\u8df5.","date":"2022-11-30","author":"\u5218\u6653\u4e1c","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"Apache Doris \u5728\u4eac\u4e1c\u641c\u7d22\u5b9e\u65f6 OLAP \u63a2\u7d22\u4e0e\u5b9e\u8df5","permalink":"/zh-CN/blog/JD_OLAP"},"nextItem":{"title":"Apache Doris \u5728\u851a\u6765\u6c7d\u8f66\u7684\u5e94\u7528","permalink":"/zh-CN/blog/NIO"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# \u5e94\u7528\u5b9e\u8df5\uff5cApache Doris \u52a9\u529b\u7f51\u6613\u4e25\u9009\u6253\u9020\u7cbe\u7ec6\u5316\u8fd0\u8425 DMP \u6807\u7b7e\u7cfb\u7edf\\n\\n![1280X1280](/images/netease/kv.png)\\n\\n**\u5bfc\u8bfb**:\u5982\u679c\u8bf4\u4e92\u8054\u7f51\u7684\u4e0a\u534a\u573a\u662f\u7c97\u72c2\u8fd0\u8425\uff0c\u90a3\u4e48\u5728\u4e0b\u534a\u573a\uff0c\u7cbe\u7ec6\u5316\u8fd0\u8425\u5c06\u662f\u957f\u4e45\u7684\u4e3b\u9898\uff0c\u6709\u6570\u636e\u5206\u6790\u80fd\u529b\u624d\u80fd\u8ba9\u7528\u6237\u5f97\u5230\u66f4\u597d\u7684\u4f53\u9a8c\u3002\u5f53\u4e0b\u6bd4\u8f83\u5178\u578b\u7684\u5206\u6790\u65b9\u5f0f\u662f\u6784\u5efa\u7528\u6237\u6807\u7b7e\u7cfb\u7edf\uff0c\u672c\u6587\u5c06\u7531\u7f51\u6613\u4e25\u9009\u5206\u4eab DMP \u6807\u7b7e\u7cfb\u7edf\u7684\u5efa\u8bbe\u4ee5\u53ca Apache Doris \u5728\u5176\u4e2d\u7684\u5e94\u7528\u5b9e\u8df5\u3002\\n\\n\u4f5c\u8005**\uff5c**\u5218\u6653\u4e1c \u7f51\u6613\u4e25\u9009\u8d44\u6df1\u5f00\u53d1\u5de5\u7a0b\u5e08\\n\\n\\n\\n\u5982\u679c\u8bf4\u4e92\u8054\u7f51\u7684\u4e0a\u534a\u573a\u662f\u7c97\u72c2\u8fd0\u8425\uff0c\u56e0\u4e3a\u6709\u6d41\u91cf\u7ea2\u5229\u4e0d\u9700\u8981\u8003\u8651\u7ec6\u8282\u3002\u90a3\u4e48\u5728\u4e0b\u534a\u573a\uff0c\u7cbe\u7ec6\u5316\u8fd0\u8425\u5c06\u662f\u957f\u4e45\u7684\u4e3b\u9898\uff0c\u6709\u6570\u636e\u5206\u6790\u80fd\u529b\u624d\u80fd\u8ba9\u7528\u6237\u5f97\u5230\u66f4\u597d\u7684\u4f53\u9a8c\u3002\u5f53\u4e0b\u6bd4\u8f83\u5178\u578b\u7684\u5206\u6790\u65b9\u5f0f\u662f\u6784\u5efa\u7528\u6237\u6807\u7b7e\u7cfb\u7edf\uff0c\u4ece\u800c\u7cbe\u51c6\u5730\u751f\u6210\u7528\u6237\u753b\u50cf\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002\u4eca\u5929\u5206\u4eab\u7684\u4e3b\u9898\u662f\u7f51\u6613\u4e25\u9009 DMP \u6807\u7b7e\u7cfb\u7edf\u5efa\u8bbe\u5b9e\u8df5\uff0c**\u4e3b\u8981\u56f4\u7ed5\u4e0b\u9762\u4e94\u70b9\u5c55\u5f00\uff1a**\\n\\n- \u5e73\u53f0\u603b\u89c8\\n- \u6807\u7b7e\u751f\u4ea7 \uff1a\u6807\u7b7e\u5708\u9009&\u751f\u4ea7\u94fe\u8def\\n- \u6807\u7b7e\u5b58\u50a8\uff1a\u5b58\u50a8\u65b9\u5f0f&\u5b58\u50a8\u67b6\u6784\u6f14\u8fdb\\n- \u9ad8\u6027\u80fd\u67e5\u8be2\\n- \u672a\u6765\u89c4\u5212\\n\\n# \u5e73\u53f0\u603b\u89c8\\n\\nDMP \u4f5c\u4e3a\u7f51\u6613\u4e25\u9009\u7684\u6570\u636e\u4e2d\u53f0\uff0c\u5411\u4e0b\u8fde\u63a5\u6570\u636e\uff0c\u5411\u4e0a\u8d4b\u80fd\u4e1a\u52a1\uff0c\u627f\u62c5\u7740\u975e\u5e38\u91cd\u8981\u7684\u57fa\u77f3\u89d2\u8272\u3002\\n\\n**DMP \u7684\u6570\u636e\u6765\u6e90\u4e3b\u8981\u5305\u62ec\u4e09\u5927\u90e8\u5206\uff1a**\\n\\n- \u81ea\u8425\u5e73\u53f0\u7684 APP\u3001\u5c0f\u7a0b\u5e8f\u3001PC \u7aef\u7b49\u5404\u7aef\u7684\u4e1a\u52a1\u65e5\u5fd7\\n- \u7f51\u6613\u96c6\u56e2\u5185\u90e8\u5171\u5efa\u7684\u4e00\u4e9b\u57fa\u7840\u6570\u636e\\n- \u4eac\u4e1c\u3001\u6dd8\u5b9d\u3001\u6296\u97f3\u7b49\u7b2c\u4e09\u65b9\u6e20\u9053\u5e97\u94fa\u7684\u6570\u636e\\n\\n\u901a\u8fc7\u6536\u96c6\u3001\u6e05\u6d17\uff0c\u5c06\u4ee5\u4e0a\u6570\u636e\u5f62\u6210\u6570\u636e\u8d44\u4ea7\u6c89\u6dc0\u4e0b\u6765\u3002DMP \u5728\u6570\u636e\u8d44\u4ea7\u57fa\u7840\u4e0a\u5f62\u6210\u4e86\u4e00\u5957\u81ea\u5df1\u7684\u6807\u7b7e\u4ea7\u51fa\u3001\u4eba\u7fa4\u5708\u9009\u548c\u7528\u6237\u753b\u50cf\u5206\u6790\u4f53\u7cfb\uff0c\u4ece\u800c\u4e3a\u4e1a\u52a1\u63d0\u4f9b\u652f\u6491\uff0c\u5305\u62ec\uff1a\u667a\u80fd\u5316\u7684\u9009\u54c1\u3001\u7cbe\u51c6\u89e6\u8fbe\u4ee5\u53ca\u7528\u6237\u6d1e\u5bdf\u7b49\u3002\u603b\u7684\u6765\u8bf4\uff0c**DMP \u7cfb\u7edf\u5c31\u662f\u6784\u5efa\u4ee5\u6570\u636e\u4e3a\u6838\u5fc3\u7684\u6807\u7b7e\u4f53\u7cfb\u548c\u753b\u50cf\u4f53\u7cfb\uff0c\u4ece\u800c\u8f85\u52a9\u4e1a\u52a1\u505a\u4e00\u7cfb\u5217\u7cbe\u7ec6\u5316\u7684\u8fd0\u8425\u3002**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1YstQ5zmLCicnNlrUrnjtPrwhGwZP8icqQLu19auVgPylzxdNHfxHcALQ/640?wx_fmt=png)\\n\\n![1280X1280](/images/netease/kv.png)\\n\\n\u4e86\u89e3 DMP \u7cfb\u7edf\uff0c\u5148\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u6982\u5ff5\u5f00\u59cb\u3002\\n\\n- **\u6807\u7b7e**: \u5bf9\u4e8e\u5b9e\u4f53\uff08\u7528\u6237\u3001\u8bbe\u5907\u3001\u624b\u673a\u53f7\u7b49\uff09\u7279\u5f81\u7684\u63cf\u8ff0\uff0c\u662f\u4e00\u79cd\u9762\u5411\u4e1a\u52a1\u7684\u6570\u636e\u7ec4\u7ec7\u5f62\u5f0f\uff0c\u6bd4\u5982\u4f7f\u7528\uff1a\u5e74\u9f84\u6bb5\u3001\u5730\u5740\u3001\u504f\u597d\u7c7b\u76ee\u7b49\u5bf9\u7528\u6237\u5b9e\u4f53\u8fdb\u884c\u523b\u753b\u3002\\n- **\u4eba\u7fa4\u5708\u9009**: \u901a\u8fc7\u6761\u4ef6\u7ec4\u5408\u4ece\u5168\u4f53\u7528\u6237\u4e2d\u5708\u9009\u51fa\u4e00\u90e8\u5206\u7528\u6237\uff0c\u5177\u4f53\u5c31\u662f\u6307\u5b9a\u4e00\u7ec4\u7528\u6237\u6807\u7b7e\u548c\u5176\u5bf9\u5e94\u7684\u6807\u7b7e\u503c\uff0c\u5f97\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7528\u6237\u4eba\u7fa4\u3002\\n- **\u753b\u50cf\u5206\u6790**: \u5bf9\u4e8e\u4eba\u7fa4\u5708\u9009\u7ed3\u679c\uff0c\u67e5\u770b\u8be5\u4eba\u7fa4\u7684\u884c\u4e3a\u60c5\u51b5\u3001\u6807\u7b7e\u5206\u5e03\u3002\u4f8b\u5982\u67e5\u770b\u3010\u57ce\u5e02\u4e3a\u676d\u5dde\uff0c\u4e14\u6027\u522b\u4e3a\u5973\u6027\u3011\u7684\u7528\u6237\u5728\u4e25\u9009 APP \u4e0a\u7684\u884c\u4e3a\u8def\u5f84\u3001\u6d88\u8d39\u6a21\u578b\u7b49\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1K1YX0UHuJFDsg6SR8SYS2ksIb3ZwDgnkxImicjl64Utr0RicVwRwIEwg/640?wx_fmt=png)\\n\\n\u4e25\u9009\u6807\u7b7e\u7cfb\u7edf\u5bf9\u5916\u4e3b\u8981\u63d0\u4f9b\u4e24\u5927\u6838\u5fc3\u80fd\u529b\uff1a\\n\\n1. \u6807\u7b7e\u67e5\u8be2\uff1a\u67e5\u8be2\u7279\u5b9a\u5b9e\u4f53\u6307\u5b9a\u6807\u7b7e\u7684\u80fd\u529b\uff0c\u5e38\u7528\u4e8e\u57fa\u672c\u4fe1\u606f\u7684\u5c55\u793a\u3002\\n\\n2. \u4eba\u7fa4\u5708\u9009\uff1a\u5206\u4e3a\u5b9e\u65f6\u548c\u79bb\u7ebf\u5708\u9009\u3002**\u5708\u9009\u7ed3\u679c\u4e3b\u8981\u7528\u4e8e\uff1a**\\n\\n- \u5206\u7ec4\u5224\u65ad\uff1a\u5224\u8bfb\u7528\u6237\u662f\u5426\u5728\u6307\u5b9a\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5206\u7ec4\uff0c\u8d44\u6e90\u6295\u653e\u3001\u89e6\u70b9\u8425\u9500\u7b49\u573a\u666f\u4f7f\u7528\u8f83\u591a\u3002\\n- \u7ed3\u679c\u96c6\u62c9\u53d6\uff1a\u62c9\u53d6\u6307\u5b9a\u7684\u4eba\u7fa4\u6570\u636e\u5230\u4e1a\u52a1\u65b9\u7cfb\u7edf\u4e2d\uff0c\u8fdb\u884c\u5b9a\u5236\u5316\u5f00\u53d1\u3002\\n- \u753b\u50cf\u5206\u6790\uff1a\u5206\u6790\u7279\u5b9a\u4eba\u7fa4\u7684\u884c\u4e3a\u6570\u636e\uff0c\u6d88\u8d39\u6a21\u578b\u7b49\uff0c\u8fdb\u884c\u66f4\u7cbe\u7ec6\u7684\u8fd0\u8425\u3002\\n\\n**\u6574\u4f53\u7684\u4e1a\u52a1\u6d41\u7a0b\u5982\u4e0b\uff1a**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1vwvAZ2kkh6QQaLLv45tWrxhVXdVyG4nRkPibjZicZlhib6NABc7drVI6w/640?wx_fmt=png)\\n\\n- \u9996\u5148\u5b9a\u4e49\u6807\u7b7e\u548c\u4eba\u7fa4\u5708\u9009\u7684\u89c4\u5219\uff1b\\n- \u5b9a\u4e49\u51fa\u63cf\u8ff0\u4e1a\u52a1\u7684 DSL \u4e4b\u540e\uff0c\u4fbf\u53ef\u4ee5\u5c06\u4efb\u52a1\u63d0\u4ea4\u5230 Spark \u8fdb\u884c\u8ba1\u7b97\uff1b\\n- \u8ba1\u7b97\u5b8c\u6210\u4e4b\u540e\uff0c**\u5c06\u8ba1\u7b97\u7ed3\u679c\u5b58\u50a8\u5230 Hive \u548c Doris**\uff1b\\n- \u4e4b\u540e\u4e1a\u52a1\u65b9\u4fbf\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u9700\u6c42**\u4ece Hive \u6216** **Doris** **\u4e2d\u67e5\u8be2\u4f7f\u7528\u6570\u636e**\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPguh0t1dZwCVibOYEiamXy6y66P5JicLjFKuuddtibznqP5e9Zn7zhCjCzYlMqq22MqGbvliaQ909IBD0w/640?wx_fmt=png)\\n\\n**DMP \u5e73\u53f0\u6574\u4f53\u5206\u4e3a\u8ba1\u7b97\u5b58\u50a8\u5c42\u3001\u8c03\u5ea6\u5c42\u3001\u670d\u52a1\u5c42\u3001\u548c\u5143\u6570\u636e\u7ba1\u7406\u56db\u5927\u6a21\u5757\u3002**\\n\\n\u6240\u6709\u7684\u6807\u7b7e\u5143\u4fe1\u606f\u5b58\u50a8\u5728\u6e90\u6570\u636e\u8868\u4e2d\uff1b\u8c03\u5ea6\u5c42\u5bf9\u4e1a\u52a1\u7684\u6574\u4e2a\u6d41\u7a0b\u8fdb\u884c\u4efb\u52a1\u8c03\u5ea6\uff1a\u6570\u636e\u5904\u7406\u3001\u805a\u5408\u8f6c\u5316\u4e3a\u57fa\u7840\u6807\u7b7e\uff0c\u57fa\u7840\u6807\u7b7e\u548c\u6e90\u8868\u4e2d\u7684\u6570\u636e\u901a\u8fc7 DSL \u89c4\u5219\u8f6c\u5316\u4e3a\u53ef\u7528\u4e8e\u6570\u636e\u67e5\u8be2\u7684 SQL \u8bed\u4e49\uff0c\u7531\u8c03\u5ea6\u5c42\u5c06\u4efb\u52a1\u8c03\u5ea6\u5230\u8ba1\u7b97\u5b58\u50a8\u5c42\u7684 Spark \u8fdb\u884c\u8ba1\u7b97\uff0c**\u5e76\u5c06\u8ba1\u7b97\u7ed3\u679c\u5b58\u50a8\u5230 Hive \u548c Doris \u4e2d\u3002**\u670d\u52a1\u5c42\u7531\u6807\u7b7e\u670d\u52a1\u3001\u5b9e\u4f53\u5206\u7ec4\u670d\u52a1\u3001\u57fa\u7840\u6807\u7b7e\u6570\u636e\u670d\u52a1\u3001\u753b\u50cf\u5206\u6790\u670d\u52a1\u56db\u90e8\u5206\u7ec4\u6210\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1jkd1Of63dlmia0lBtMgaJibzo0I2B59oeCEbj8m41TQybJAvgPM8DYAg/640?wx_fmt=png)\\n\\n**\u6807\u7b7e\u7684\u751f\u547d\u5468\u671f\u5305\u542b5\u4e2a\u9636\u6bb5\uff1a**\\n\\n- **\u6807\u7b7e\u9700\u6c42**: \u5728\u6b64\u9636\u6bb5\uff0c\u8fd0\u8425\u63d0\u51fa\u6807\u7b7e\u7684\u9700\u6c42\u548c\u4ef7\u503c\u9884\u671f\uff0c\u4ea7\u54c1\u8bc4\u4f30\u9700\u6c42\u5408\u7406\u6027\u4ee5\u53ca\u7d27\u8feb\u6027\u3002\\n- **\u6392\u671f\u751f\u4ea7**: \u6b64\u9636\u6bb5\u9700\u8981\u6570\u636e\u5f00\u53d1\u68b3\u7406\u6570\u636e\uff0c\u4ece ods \u5230 dwd \u5230 dm \u5c42\u6574\u4e2a\u94fe\u8def\uff0c\u6839\u636e\u6570\u636e\u5efa\u7acb\u6a21\u578b\uff0c\u540c\u65f6\u6570\u636e\u5f00\u53d1\u9700\u8981\u505a\u597d\u8d28\u91cf\u76d1\u63a7\u3002 \\n- **\u4eba\u7fa4\u5708\u9009**: \u6807\u7b7e\u751f\u4ea7\u51fa\u6765\u4e4b\u540e\u8fdb\u884c\u5e94\u7528\uff0c\u5708\u9009\u51fa\u6807\u7b7e\u5bf9\u5e94\u7684\u4eba\u7fa4\u3002\\n- **\u7cbe\u51c6\u8425\u9500**: \u5bf9\u5708\u9009\u51fa\u6765\u7684\u4eba\u7fa4\u8fdb\u884c\u7cbe\u51c6\u5316\u8425\u9500\u3002\\n- **\u6548\u679c\u8bc4\u4f30**: \u6700\u540e\u4ea7\u54c1\u3001\u6570\u636e\u5f00\u53d1\u548c\u8fd0\u8425\u5bf9\u6807\u7b7e\u4f7f\u7528\u7387\u3001\u4f7f\u7528\u6548\u679c\u8fdb\u884c\u6548\u679c\u8bc4\u4f30\u6765\u51b3\u5b9a\u540e\u7eed\u5bf9\u6807\u7b7e\u8fdb\u884c\u6539\u8fdb\u6216\u964d\u7ea7\u3002\\n\\n\u603b\u7684\u6765\u8bf4\uff0c\u5c31\u662f\u4ee5\u4e1a\u52a1\u589e\u957f\u4e3a\u76ee\u6807\uff0c\u56f4\u7ed5\u6807\u7b7e\u7684\u751f\u547d\u5468\u671f\uff0c\u6295\u5165\u5408\u7406\u7684\u8d44\u6e90\uff0c\u6700\u5927\u5316\u8fd0\u8425\u6548\u679c\u3002\\n\\n\\n\\n# \u6807\u7b7e\u751f\u4ea7\\n\\n**\u63a5\u4e0b\u6765\u4ecb\u7ecd\u6807\u7b7e\u751f\u4ea7\u7684\u6574\u4e2a\u8fc7\u7a0b\u3002**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1R5yhhuMUqfab8L0ib57cd0Nuev7G6onY4TiaIiadCGsia7wJ1FvDYSico3w/640?wx_fmt=png)\\n\\n**\u6807\u7b7e\u7684\u6570\u636e\u5206\u5c42\uff1a**\\n\\n- \u6700\u4e0b\u5c42\u662f ods \u5c42\uff0c\u5305\u62ec\u7528\u6237\u767b\u5f55\u65e5\u5fd7\u3001\u57cb\u70b9\u8bb0\u5f55\u65e5\u5fd7\u3001\u4ea4\u6613\u6570\u636e\u4ee5\u53ca\u5404\u79cd\u6570\u636e\u5e93\u7684 Binlog \u6570\u636e\u3002\\n- \u5bf9 ods \u5c42\u5904\u7406\u540e\u7684\u6570\u636e\u5230\u8fbe dwd \u660e\u7ec6\u5c42\uff0c\u5305\u62ec\u7528\u6237\u767b\u5f55\u8868\u3001\u7528\u6237\u6d3b\u52a8\u8868\u3001\u8ba2\u5355\u4fe1\u606f\u8868\u7b49\u3002\\n- dwd \u5c42\u6570\u636e\u805a\u5408\u540e\u5230 dm \u5c42\uff0c\u6807\u7b7e\u5168\u90e8\u57fa\u4e8e dm \u5c42\u6570\u636e\u5b9e\u73b0\u3002\\n\\n\u76ee\u524d\u6211\u4eec\u4ece\u539f\u59cb\u6570\u636e\u5e93\u5230 ods \u5c42\u6570\u636e\u4ea7\u51fa\u5df2\u7ecf\u5b8c\u5168\u81ea\u52a8\u5316\uff0c\u4ece ods \u5c42\u5230 dwd \u5c42\u5b9e\u73b0\u4e86\u90e8\u5206\u81ea\u52a8\u5316\uff0c\u4ece dwd \u5230 dm \u5c42\u6709\u4e00\u90e8\u5206\u81ea\u52a8\u5316\u64cd\u4f5c\uff0c\u4f46\u81ea\u52a8\u5316\u7a0b\u5ea6\u8fd8\u4e0d\u9ad8\uff0c\u8fd9\u90e8\u5206\u7684\u81ea\u52a8\u5316\u64cd\u4f5c\u662f\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u5de5\u4f5c\u91cd\u70b9\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1iacicmmGMQpvkibkCayaEfibwnz5yatmTpbBFXpIxMvMwfrzfYEZFUzsNQ/640?wx_fmt=png)\\n\\n**\u6807\u7b7e\u6839\u636e\u65f6\u6548\u6027\u5206\u4e3a**\uff1a\u79bb\u7ebf\u6807\u7b7e\u3001\u8fd1\u5b9e\u65f6\u6807\u7b7e\u548c\u5b9e\u65f6\u6807\u7b7e\u3002\\n\\n**\u6839\u636e\u805a\u5408\u7c92\u5ea6\u5206\u4e3a**\uff1a\u805a\u5408\u6807\u7b7e\u548c\u660e\u7ec6\u6807\u7b7e\u3002\\n\\n\u901a\u8fc7\u7c7b\u522b\u7ef4\u5ea6\u53ef\u5c06\u6807\u7b7e\u5206\u4e3a\uff1a\u8d26\u53f7\u5c5e\u6027\u6807\u7b7e\u3001\u6d88\u8d39\u884c\u4e3a\u6807\u7b7e\u3001\u6d3b\u8dc3\u884c\u4e3a\u6807\u7b7e\u3001\u7528\u6237\u504f\u597d\u6807\u7b7e\u3001\u8d44\u4ea7\u4fe1\u606f\u6807\u7b7e\u7b49\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1nlRv6HFeBhWR9icFFJYS3anmyEUVZVHIic6Fo6YxGF0RSMFNSlP3c88A/640?wx_fmt=png)\\n\\n**\u76f4\u63a5\u5c06 dm \u5c42\u7684\u6570\u636e\u4e0d\u592a\u65b9\u4fbf\u62ff\u6765\u7528\uff0c\u539f\u56e0\u5728\u4e8e\uff1a**\\n\\n\u57fa\u7840\u6570\u636e\u6bd4\u8f83\u539f\u59cb\uff0c\u62bd\u8c61\u5c42\u6b21\u6709\u6240\u6b20\u7f3a\u3001\u4f7f\u7528\u76f8\u5bf9\u7e41\u7410\u3002\u901a\u8fc7\u5bf9\u57fa\u7840\u6570\u636e\u8fdb\u884c\u4e0e\u3001\u6216\u3001\u975e\u7684\u7ec4\u5408\uff0c\u5f62\u6210\u4e1a\u52a1\u6807\u7b7e\u4f9b\u4e1a\u52a1\u65b9\u4f7f\u7528\uff0c\u53ef\u4ee5\u964d\u4f4e\u8fd0\u8425\u7684\u7406\u89e3\u6210\u672c\uff0c\u964d\u4f4e\u4f7f\u7528\u96be\u5ea6\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1LfWal1W06JHzQcdcXocU12S1r811v3DfIpbKHduTvxhWZnmNv3UNgQ/640?wx_fmt=png)\\n\\n\u6807\u7b7e\u7ec4\u5408\u4e4b\u540e\u9700\u8981\u5bf9\u6807\u7b7e\u8fdb\u884c\u5177\u4f53\u4e1a\u52a1\u573a\u666f\u5e94\u7528\uff0c\u5982\u4eba\u7fa4\u5708\u9009\u3002\u914d\u7f6e\u5982\u4e0a\u56fe\u5de6\u4fa7\u6240\u793a\uff0c\u652f\u6301\u79bb\u7ebf\u4eba\u7fa4\u5305\u548c\u5b9e\u65f6\u884c\u4e3a\uff08\u9700\u8981\u5206\u5f00\u914d\u7f6e\uff09\u3002\\n\\n\u914d\u7f6e\u5b8c\u540e\uff0c\u751f\u6210\u4e0a\u56fe\u53f3\u4fa7\u6240\u793a\u7684 DSL \u89c4\u5219\uff0c\u4ee5 Json \u683c\u5f0f\u8868\u8fbe\uff0c\u5bf9\u524d\u7aef\u6bd4\u8f83\u53cb\u597d\uff0c\u4e5f\u53ef\u4ee5\u8f6c\u6210\u5b58\u50a8\u5f15\u64ce\u7684\u67e5\u8be2\u8bed\u53e5\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1mSV0ghMXHMOl0GlurpVgDJ2OcX4KiaibQlZJdEVpcQN3HEEyjo9Xo7iag/640?wx_fmt=png)\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1ibxI3tWSJM5tpic4EyfxlBblicRV6WiaIqFwK9H927MenkqRZicXEeJdrKA/640?wx_fmt=png)\\n\\n\u6807\u7b7e\u6709\u4e00\u90e8\u5206\u5b9e\u73b0\u4e86\u81ea\u52a8\u5316\u3002\u5728\u4eba\u7fa4\u5708\u9009\u90e8\u5206\u81ea\u52a8\u5316\u7a0b\u5ea6\u6bd4\u8f83\u9ad8\u3002\u6bd4\u5982\u5206\u7ec4\u5237\u65b0\uff0c\u6bcf\u5929\u5b9a\u65f6\u5237\u65b0\uff1b\u9ad8\u7ea7\u8ba1\u7b97\uff0c\u5982\u5206\u7ec4\u4e0e\u5206\u7ec4\u95f4\u7684\u4ea4/\u5e76/\u5dee\u96c6\uff1b\u6570\u636e\u6e05\u7406\uff0c\u53ca\u65f6\u6e05\u7406\u8fc7\u671f\u5931\u6548\u7684\u5b9e\u4f53\u96c6\u3002\\n\\n# \u6807\u7b7e\u5b58\u50a8\\n\\n**\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u6211\u4eec\u5728\u6807\u7b7e\u5b58\u50a8\u65b9\u9762\u7684\u5b9e\u8df5\u3002**\\n\\n\u4e25\u9009 DMP \u6807\u7b7e\u7cfb\u7edf\u9700\u8981\u627f\u8f7d\u6bd4\u8f83\u5927\u7684 C\u7aef\u6d41\u91cf\uff0c\u5bf9\u5b9e\u65f6\u6027\u8981\u6c42\u4e5f\u6bd4\u8f83\u9ad8\u3002\\n\\n\u6211\u4eec\u5bf9\u5b58\u50a8\u7684\u8981\u6c42\u5305\u62ec\uff1a\\n\\n- \u652f\u6301\u9ad8\u6027\u80fd\u67e5\u8be2\uff0c\u4ee5\u5e94\u5bf9\u5927\u89c4\u6a21 C\u7aef\u6d41\u91cf\\n- \u652f\u6301 SQL\uff0c\u4fbf\u4e8e\u5e94\u5bf9\u6570\u636e\u5206\u6790\u573a\u666f\\n- \u652f\u6301\u6570\u636e\u66f4\u65b0\u673a\u5236\\n- \u53ef\u5b58\u50a8\u5927\u6570\u636e\u91cf\\n- \u652f\u6301\u6269\u5c55\u51fd\u6570\uff0c\u4ee5\u4fbf\u5904\u7406\u81ea\u5b9a\u4e49\u6570\u636e\u7ed3\u6784\\n- \u548c\u5927\u6570\u636e\u751f\u6001\u7ed3\u5408\u7d27\u5bc6\\n\\n\u76ee\u524d\u8fd8\u6ca1\u6709\u4e00\u6b3e\u5b58\u50a8\u80fd\u591f\u5b8c\u5168\u6ee1\u8db3\u8981\u6c42\u3002\\n\\n**\u6211\u4eec\u7b2c\u4e00\u7248\u7684\u5b58\u50a8\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1zFrMrNdNRI5GDcmBnQo3fApLIkjmFOUia2o7jyfdNsoAeHU69ialQusw/640?wx_fmt=png)\\n\\n\u79bb\u7ebf\u6570\u636e\u5927\u90e8\u5206\u5b58\u50a8\u5728 Hive \u4e2d\uff0c\u5c0f\u90e8\u5206\u5b58\u50a8\u5728 Hbase\uff08\u4e3b\u8981\u7528\u4e8e\u57fa\u7840\u6807\u7b7e\u7684\u67e5\u8be2\uff09\u3002\u5b9e\u65f6\u6570\u636e\u4e00\u90e8\u5206\u5b58\u50a8\u5728 Hbase \u4e2d\u7528\u4e8e\u57fa\u7840\u6807\u7b7e\u7684\u67e5\u8be2\uff0c\u90e8\u5206\u53cc\u5199\u5230 KUDU \u548c ES \u4e2d\uff0c\u7528\u4e8e\u5b9e\u65f6\u5206\u7ec4\u5708\u9009\u548c\u6570\u636e\u67e5\u8be2\u3002\u79bb\u7ebf\u5708\u9009\u7684\u6570\u636e\u901a\u8fc7 impala \u8ba1\u7b97\u51fa\u6765\u7f13\u5b58\u5728 Redis \u4e2d\u3002\\n\\n**\u8fd9\u4e00\u7248\u672c\u7684\u7f3a\u70b9\u5305\u62ec\uff1a**\\n\\n- \u5b58\u50a8\u5f15\u64ce\u8fc7\u591a\u3002\\n- \u53cc\u5199\u6709\u6570\u636e\u8d28\u91cf\u9690\u60a3\uff0c\u53ef\u80fd\u4e00\u65b9\u6210\u529f\u4e00\u65b9\u5931\u8d25\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002\\n- \u9879\u76ee\u590d\u6742\uff0c\u53ef\u7ef4\u62a4\u6027\u8f83\u5dee\u3002\\n\\n\u4e3a\u4e86\u51cf\u5c11\u5f15\u64ce\u548c\u5b58\u50a8\u7684\u4f7f\u7528\u91cf\uff0c\u63d0\u9ad8\u9879\u76ee\u53ef\u7ef4\u62a4\u6027\uff0c\u5728\u7248\u672c\u4e00\u7684\u57fa\u7840\u4e0a\u6539\u8fdb\u5b9e\u73b0\u4e86\u7248\u672c\u4e8c\u3002\\n\\n**\u6211\u4eec\u7b2c\u4e8c\u7248\u7684\u5b58\u50a8\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1mlDkbiaNBOZ3NdP7Wbe10pA59RTS2rTRdXs4HIx545N98IrzKSK96HA/640?wx_fmt=png)\\n\\n**\u5b58\u50a8\u67b6\u6784\u7248\u672c\u4e8c\u5f15\u5165\u4e86 Apache Doris**\uff0c\u79bb\u7ebf\u6570\u636e\u4e3b\u8981\u5b58\u50a8\u5728 Hive \u4e2d\uff0c\u540c\u65f6\u5c06\u57fa\u7840\u6807\u7b7e\u5bfc\u5165\u5230 Doris\uff0c\u5b9e\u65f6\u6570\u636e\u4e5f\u5b58\u50a8\u5728 Doris\uff0c\u57fa\u4e8e Spark \u505a Hive \u52a0 Doris \u7684\u8054\u5408\u67e5\u8be2\uff0c\u5e76\u5c06\u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c\u5b58\u50a8\u5728 Redis \u4e2d\u3002\u7ecf\u8fc7\u6b64\u7248\u6539\u8fdb\u540e\uff0c\u5b9e\u65f6\u79bb\u7ebf\u5f15\u64ce\u5b58\u50a8\u5f97\u5230\u4e86\u7edf\u4e00\uff0c\u6027\u80fd\u635f\u5931\u5728\u53ef\u5bb9\u5fcd\u8303\u56f4\u5185\uff08Hbase \u7684\u67e5\u8be2\u6027\u80fd\u6bd4 Doris \u597d\u4e00\u4e9b\uff0c\u80fd\u63a7\u5236\u5728 10ms \u4ee5\u5185\uff0cDoris \u76ee\u524d\u662f 1.0 \u7248\u672c\uff0cp99\uff0c\u67e5\u8be2\u6027\u80fd\u80fd\u63a7\u5236\u5728 20ms \u4ee5\u5185\uff0cp999\uff0c\u80fd\u63a7\u5236\u5728 50ms \u4ee5\u5185\uff09\uff1b**\u9879\u76ee\u7b80\u5316\uff0c\u964d\u4f4e\u4e86\u8fd0\u7ef4\u6210\u672c\u3002**\\n\\n**\u5728\u5927\u6570\u636e\u9886\u57df\uff0c\u5404\u79cd\u5b58\u50a8\u8ba1\u7b97\u5f15\u64ce\u6709\u5404\u81ea\u7684\u9002\u7528\u573a\u666f\uff0c\u5982\u4e0b\u8868\u6240\u793a\uff1a**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1ZxBxNx3JrBUDT1jZ6ViaqMfQPt7z6Cugd7GOFS6F33L1PHC5HXI5ciaA/640?wx_fmt=png)\\n\\n# \u9ad8\u6027\u80fd\u67e5\u8be2\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj19cGc43b0KbcEnCFDb58XCCibCbCiassbkFB5c1WSE4WMetVJSicZpXNRg/640?wx_fmt=png)\\n\\n\u5206\u7ec4\u5b58\u5728\u6027\u5224\u65ad\uff1a\u5224\u65ad\u7528\u6237\u662f\u5426\u5728\u6307\u5b9a\u7684\u4e00\u4e2a\u5206\u7ec4\u6216\u8005\u591a\u4e2a\u5206\u7ec4\u3002\u5305\u62ec\u4e24\u5927\u90e8\u5206\uff1a\\n\\n- \u7b2c\u4e00\u90e8\u5206\u4e3a\u9759\u6001\u4eba\u7fa4\u5305\uff0c\u63d0\u524d\u8fdb\u884c\u9884\u8ba1\u7b97\uff0c\u5b58\u5165 Redis \u4e2d\uff08Key \u4e3a\u5b9e\u4f53\u7684 ID\uff0cValue \u4e3a\u7ed3\u679c\u96c6 ID\uff09\uff0c\u91c7\u7528 Lua \u811a\u672c\u8fdb\u884c\u6279\u91cf\u5224\u65ad\uff0c\u63d0\u5347\u6027\u80fd\uff1b\\n- \u7b2c\u4e8c\u90e8\u5206\u4e3a\u5b9e\u65f6\u884c\u4e3a\u4eba\u7fa4\uff0c\u9700\u8981\u4ece\u4e0a\u4e0b\u6587\u3001API \u548c Apache Doris \u4e2d\u63d0\u53d6\u6570\u636e\u8fdb\u884c\u89c4\u5219\u5224\u65ad\u3002\u6027\u80fd\u63d0\u5347\u65b9\u6848\u5305\u62ec\uff0c\u5f02\u6b65\u5316\u67e5\u8be2\u3001\u5feb\u901f\u77ed\u8def\u3001\u67e5\u8be2\u8bed\u53e5\u4f18\u5316\u3001\u63a7\u5236 Join\u8868\u6570\u91cf\u7b49\u3002\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1LcNHF6380ct4bSv6r7MtNayJptnUUp7jsD27HXf7IjjicHPibJA9xkSQ/640?wx_fmt=png)\\n\\n\u8fd8\u6709\u4e00\u4e2a\u573a\u666f\u662f\u4eba\u7fa4\u5206\u6790\uff1a\u4eba\u7fa4\u5206\u6790\u9700\u8981\u5c06\u4eba\u7fa4\u5305\u6570\u636e\u540c\u591a\u4e2a\u8868\u8fdb\u884c\u8054\u5408\u67e5\u8be2\uff0c\u5206\u6790\u884c\u4e3a\u8def\u5f84\u3002\u76ee\u524d Doris \u8fd8\u4e0d\u652f\u6301\u8def\u5f84\u5206\u6790\u51fd\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u5f00\u53d1\u4e86 DorisUDF \u6765\u652f\u6301\u6b64\u4e1a\u52a1\u3002**Doris \u7684\u8ba1\u7b97\u6a21\u578b\u5bf9\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u5f00\u53d1\u8fd8\u662f\u5f88\u53cb\u597d\u7684\uff0c\u80fd\u591f\u6bd4\u8f83\u597d\u5730\u6ee1\u8db3\u6211\u4eec\u7684\u6027\u80fd\u9700\u8981\u3002**\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1DZ8XPKg3icGpw3FzerppSjcXIcgz6hWED863oPiaMh0POvBbKuuib6bAQ/640?wx_fmt=png)\\n\\n**Apache Doris \u5728\u7f51\u6613\u4e25\u9009\u4e2d\u5df2\u5e94\u7528\u4e8e\u70b9\u67e5\u3001\u6279\u91cf\u67e5\u8be2\u3001\u8def\u5f84\u5206\u6790\u3001\u4eba\u7fa4\u5708\u9009\u7b49\u573a\u666f\u3002\u5728\u5b9e\u8df5\u4e2d\u5177\u5907\u4ee5\u4e0b\u4f18\u52bf\uff1a**\\n\\n- \u5728\u70b9\u67e5\u548c\u5c11\u91cf\u8868\u7684\u8054\u5408\u67e5\u8be2\u6027\u80fd QPS \u8d85\u8fc7\u4e07\u7ea7\uff0cRT99<50MS\u3002\\n- \u6c34\u5e73\u6269\u5c55\u80fd\u529b\u5f88\u5f3a\uff0c\u8fd0\u7ef4\u6210\u672c\u76f8\u5bf9\u6bd4\u8f83\u4f4e\u3002\\n- \u79bb\u7ebf\u6570\u636e\u548c\u5b9e\u65f6\u6570\u636e\u76f8\u7edf\u4e00\uff0c\u964d\u4f4e\u6807\u7b7e\u6a21\u578b\u590d\u6742\u5ea6\u3002\\n\\n\u4e0d\u8db3\u4e4b\u5904\u5728\u4e8e\u5927\u91cf\u5c0f\u6570\u636e\u91cf\u7684\u5bfc\u5165\u4efb\u52a1\u8d44\u6e90\u5360\u7528\u8f83\u591a\uff0c\u5f85 Doris 1.1.2 \u7248\u672c\u6b63\u5f0f\u53d1\u5e03\u540e\u6211\u4eec\u4e5f\u4f1a\u53ca\u65f6\u540c\u6b65\u5347\u7ea7\u3002\u4e0d\u8fc7\u6b64\u95ee\u9898\u5df2\u7ecf\u5728 Doris 1.1 \u7248\u672c\u4e2d\u8fdb\u884c\u4e86\u4f18\u5316\uff0c**Doris \u5728 1.1 \u4e2d\u5927\u5e45\u589e\u5f3a\u4e86\u6570\u636e Compaction \u80fd\u529b\uff0c\u5bf9\u4e8e\u65b0\u589e\u6570\u636e\u80fd\u591f\u5feb\u901f\u5b8c\u6210\u805a\u5408\uff0c\u907f\u514d\u5206\u7247\u6570\u636e\u4e2d\u7684\u7248\u672c\u8fc7\u591a\u5bfc\u81f4\u7684 -235 \u9519\u8bef\u4ee5\u53ca\u5e26\u6765\u7684\u67e5\u8be2\u6548\u7387\u95ee\u9898\u3002**\\n\\n**\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\uff1a**[Apache Doris 1.1 \u7279\u6027\u63ed\u79d8\uff1aFlink \u5b9e\u65f6\u5199\u5165\u5982\u4f55\u517c\u987e\u9ad8\u541e\u5410\u548c\u4f4e\u5ef6\u65f6](http://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&mid=2247500848&idx=1&sn=a667665ed4ccf4cf807a47be7c264f69&chksm=cf2fca37f85843219e2f74d856478d4aa24d381c1d6e7f9f6a64b65f3344ce8451ad91c5af97&scene=21#wechat_redirect)\\n\\n# \u672a\u6765\u89c4\u5212\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgtennfZnKiaXyYX6AtIRWj1AOgeyT6rKS4Amy9BwZM6RJubVlW2X0CLOkTvUVAib08uxQ8H4TJ3q2g/640?wx_fmt=png)\\n\\n**\u63d0\u5347\u5b58\u50a8&\u8ba1\u7b97\u6027\u80fd**: Hive \u548c Spark \u9010\u6e10\u5168\u90e8\u8f6c\u5411 Apache Doris\u3002\\n\\n**\u4f18\u5316\u6807\u7b7e\u4f53\u7cfb\uff1a**\\n\\n- \u5efa\u7acb\u4e30\u5bcc\u51c6\u786e\u7684\u6807\u7b7e\u8bc4\u4ef7\u4f53\u7cfb\\n- \u63d0\u5347\u6807\u7b7e\u8d28\u91cf\u548c\u4ea7\u51fa\u901f\u5ea6\\n- \u63d0\u5347\u6807\u7b7e\u8986\u76d6\u7387\\n\\n**\u66f4\u7cbe\u51c6\u7684\u8fd0\u8425**\\n\\n- \u5efa\u7acb\u4e30\u5bcc\u7684\u7528\u6237\u5206\u6790\u6a21\u578b\\n- \u4ece\u4f7f\u7528\u9891\u6b21\u548c\u7528\u6237\u4ef7\u503c\u4e24\u4e2a\u65b9\u9762\u63d0\u5347\u7528\u6237\u6d1e\u5bdf\u6a21\u578b\u8bc4\u4ef7\u4f53\u7cfb\\n- \u5efa\u7acb\u901a\u7528\u5316\u753b\u50cf\u5206\u6790\u80fd\u529b\uff0c\u8f85\u52a9\u8fd0\u8425\u667a\u80fd\u5316\u51b3\u7b56\\n\\n\\n\\n# \u8d44\u6599\u4e0b\u8f7d\\n\\n\u5173\u6ce8\u516c\u4f17\u53f7\u300c**SelectDB**\u300d\uff0c\u540e\u53f0\u56de\u590d\u3010**\u7f51\u6613\u4e25\u9009**\u3011\u83b7\u53d6\u672c\u6b21\u6f14\u8bb2 **PPT \u8d44\u6599**\uff01\\n\\n\\n\\n![img](https://mmbiz.qpic.cn/mmbiz_png/Uecg6b8kbSYAsL4vHMicGdVmylG5uibxhN3XOBT5xjTQVpyojBwHjhJgsRgD318FicEzjw0t3rK6F6HAZkDnDuq2A/640?wx_fmt=png)\\n\\nSelectDB \u662f\u4e00\u5bb6\u5f00\u6e90\u6280\u672f\u516c\u53f8\uff0c\u81f4\u529b\u4e8e\u4e3a Apache Doris \u793e\u533a\u63d0\u4f9b\u4e00\u4e2a\u7531\u5168\u804c\u5de5\u7a0b\u5e08\u3001\u4ea7\u54c1\u7ecf\u7406\u548c\u652f\u6301\u5de5\u7a0b\u5e08\u7ec4\u6210\u7684\u56e2\u961f\uff0c\u7e41\u8363\u5f00\u6e90\u793e\u533a\u751f\u6001\uff0c\u6253\u9020\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93\u9886\u57df\u7684\u56fd\u9645\u5de5\u4e1a\u754c\u6807\u51c6\u3002\u57fa\u4e8e Apache Doris \u7814\u53d1\u7684\u65b0\u4e00\u4ee3\u4e91\u539f\u751f\u5b9e\u65f6\u6570\u4ed3 SelectDB\uff0c\u8fd0\u884c\u4e8e\u591a\u5bb6\u4e91\u4e0a\uff0c\u4e3a\u7528\u6237\u548c\u5ba2\u6237\u63d0\u4f9b\u5f00\u7bb1\u5373\u7528\u7684\u80fd\u529b\u3002\\n\\n**\u76f8\u5173\u94fe\u63a5\uff1a**\\n\\nSelectDB \u5b98\u65b9\u7f51\u7ad9\uff1a\\n\\nhttps://selectdb.com \\n\\nApache Doris \u5b98\u65b9\u7f51\u7ad9\uff1a\\n\\nhttp://doris.apache.org\\n\\nApache Doris Github\uff1a\\n\\nhttps://github.com/apache/doris\\n\\nApache Doris \u5f00\u53d1\u8005\u90ae\u4ef6\u7ec4\uff1a\\n\\ndev@doris.apache.org"},{"id":"/NIO","metadata":{"permalink":"/zh-CN/blog/NIO","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/NIO.md","title":"Apache Doris \u5728\u851a\u6765\u6c7d\u8f66\u7684\u5e94\u7528","description":"\x3c!--","date":"2022-11-28T00:00:00.000Z","formattedDate":"2022\u5e7411\u670828\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u5510\u6000\u4e1c"}],"frontMatter":{"title":"Apache Doris \u5728\u851a\u6765\u6c7d\u8f66\u7684\u5e94\u7528","summary":"\u851a\u6765\uff08\u7ebd\u7ea6\u8bc1\u5238\u4ea4\u6613\u6240\u4ee3\u7801\uff1aNIO\uff09\u662f\u8bbe\u8ba1\u9ad8\u7aef\u667a\u80fd\u7535\u52a8\u6c7d\u8f66\u5e02\u573a\u7684\u9886\u5148\u516c\u53f8. NIO \u6210\u7acb\u4e8e 2014 \u5e74 11 \u6708\uff0c\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u8054\u5408\u5236\u9020\u548c\u9500\u552e\u9ad8\u7aef\u667a\u80fd\u7535\u52a8\u6c7d\u8f66\uff0c\u5e76\u4e0d\u65ad\u63a8\u52a8\u81ea\u52a8\u9a7e\u9a76\u3001\u6570\u5b57\u6280\u672f\u3001\u7535\u52a8\u52a8\u529b\u603b\u6210\u548c\u7535\u6c60\u9886\u57df\u7684\u521b\u65b0,Doris\u4f5c\u4e3a\u7edf\u4e00OLAP\u6570\u4ed3,Doris\u5728\u8fd0\u8425\u5e73\u53f0\u4e0a\u7684\u5b9e\u8df5","date":"2022-11-28","author":"\u5510\u6000\u4e1c","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"Apache Doris \u52a9\u529b\u7f51\u6613\u4e25\u9009\u6253\u9020\u7cbe\u7ec6\u5316\u8fd0\u8425 DMP \u6807\u7b7e\u7cfb\u7edf","permalink":"/zh-CN/blog/Netease"},"nextItem":{"title":"Apache Doris 1.2 Star-Schema-Benchmark \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","permalink":"/zh-CN/blog/ssb"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\\n# Apache Doris \u5728\u851a\u6765\u6c7d\u8f66\u7684\u5e94\u7528\\n\\n![NIO](/images/NIO_kv.png)\\n\\n>\u5bfc\u8bfb\uff1a\u672c\u6b21\u5206\u4eab\u7684\u9898\u76ee\u662fApache Doris\u5728\u851a\u6765\u6c7d\u8f66\u7684\u5e94\u7528\uff0c\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u5927\u90e8\u5206\uff1a\\n>1. \u851a\u6765\\n>2. OLAP\u5728\u851a\u6765\u7684\u53d1\u5c55\\n>3. Doris\u4f5c\u4e3a\u7edf\u4e00OLAP\u6570\u4ed3\\n>4. Doris\u5728\u8fd0\u8425\u5e73\u53f0\u4e0a\u7684\u5b9e\u8df5\\n>5. \u7ecf\u9a8c\u603b\u7ed3\\n\\n\u4f5c\u8005\uff1a\u5510\u6000\u4e1c\uff0c\u851a\u6765\u6c7d\u8f66 \u6570\u636e\u56e2\u961f\u8d1f\u8d23\u4eba\\n\\n## \u851a\u6765\\n\\n\u851a\u6765\uff08\u7ebd\u7ea6\u8bc1\u5238\u4ea4\u6613\u6240\u4ee3\u7801\uff1aNIO\uff09\u662f\u8bbe\u8ba1\u9ad8\u7aef\u667a\u80fd\u7535\u52a8\u6c7d\u8f66\u5e02\u573a\u7684\u9886\u5148\u516c\u53f8\u3002 NIO \u6210\u7acb\u4e8e 2014 \u5e74 11 \u6708\uff0c\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u8054\u5408\u5236\u9020\u548c\u9500\u552e\u9ad8\u7aef\u667a\u80fd\u7535\u52a8\u6c7d\u8f66\uff0c\u5e76\u4e0d\u65ad\u63a8\u52a8\u81ea\u52a8\u9a7e\u9a76\u3001\u6570\u5b57\u6280\u672f\u3001\u7535\u52a8\u52a8\u529b\u603b\u6210\u548c\u7535\u6c60\u9886\u57df\u7684\u521b\u65b0\u3002\\n\\n## OLAP\u5728\u851a\u6765\u7684\u53d1\u5c55\\n\\n\u9996\u5148\uff0c\u8ba9\u6211\u4eec\u6765\u4e00\u8d77\u56de\u987eOLAP\u5728\u851a\u6765\u6c7d\u8f66\u7684\u53d1\u5c55\u3002\\n\\n### 1. 2017\u5e74\u5f15\u5165Apache Druid\\n\\n\u5728\u5f53\u65f6\u53ef\u9009\u62e9\u7684OLAP\u5b58\u50a8\u548c\u67e5\u8be2\u5f15\u64ce\u5e76\u4e0d\u591a\uff0c\u6bd4\u8f83\u5e38\u89c1\u7684\u6709Apache Druid\u3001Apache Kylin\u3002\u6211\u4eec\u4f18\u5148\u5f15\u5165Druid\u7684\u539f\u56e0\u662f\u4ee5\u524d\u6709\u4f7f\u7528\u7ecf\u9a8c\uff0c\u800cKylin\u9884\u8ba1\u7b97\u867d\u7136\u5177\u6709\u6781\u9ad8\u7684\u67e5\u8be2\u6548\u7387\u4f18\u52bf\uff0c\u4f46\u662f\uff1a\\n\\n- Kylin\u5e95\u5c42\u6700\u5408\u9002\u548c\u6700\u4f18\u7684\u5b58\u50a8\u662fHBase\uff0c\u4e4b\u524d\u516c\u53f8\u5e76\u672a\u5f15\u5165\uff0c\u4f1a\u989d\u5916\u589e\u52a0\u8fd0\u7ef4\u7684\u5de5\u4f5c\u3002\\n\\n- Kylin\u5bf9\u5404\u79cd\u7ef4\u5ea6\u548c\u6307\u6807\u8fdb\u884c\u9884\u8ba1\u7b97\uff0c\u5982\u679c\u7ef4\u5ea6\u548c\u7ef4\u5ea6\u53d6\u503c\u975e\u5e38\u591a\uff0c\u4f1a\u6709\u7ef4\u5ea6\u7206\u70b8\u7684\u95ee\u9898\uff0c\u5bf9\u5b58\u50a8\u9020\u6210\u975e\u5e38\u5927\u7684\u538b\u529b\u3002\\n\\nDruid\u7684\u4f18\u52bf\u5f88\u660e\u663e\uff0c\u652f\u6301\u5b9e\u65f6\u548c\u79bb\u7ebf\u6570\u636e\u63a5\u5165\uff0c\u5217\u5f0f\u5b58\u50a8\uff0c\u9ad8\u5e76\u53d1\uff0c\u67e5\u8be2\u6548\u7387\u975e\u5e38\u9ad8\u3002\u5176\u7f3a\u70b9\u4e5f\u6bd4\u8f83\u660e\u663e\uff1a\\n\\n- \u672a\u4f7f\u7528\u6807\u51c6\u534f\u8bae\u4f8b\u5982JDBC\uff0c\u4f7f\u7528\u95e8\u69db\u9ad8\\n- Join\u7684\u652f\u6301\u8f83\u5f31\\n- \u7cbe\u786e\u53bb\u91cd\u7684\u6548\u7387\u4f4e\uff0c\u6027\u80fd\u4f1a\u968f\u4e4b\u4e0b\u964d\u3002\u6574\u4f53\u6027\u80fd\u8981\u5206\u573a\u666f\u53bb\u8003\u8651\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u540e\u671f\u53bb\u9009\u578b\u5176\u4ed6OLAP\u7684\u539f\u56e0\\n- \u8fd0\u7ef4\u6210\u672c\u9ad8\uff0c\u4e0d\u540c\u7684\u7ec4\u4ef6\u6709\u4e0d\u540c\u7684\u5b89\u88c5\u65b9\u5f0f\u548c\u4e0d\u540c\u7684\u4f9d\u8d56\uff1b\u6570\u636e\u5bfc\u5165\u8fd8\u8981\u8003\u8651\u548cHadoop\u96c6\u6210\u4ee5\u53caJAR\u5305\u7684\u4f9d\u8d56\\n\\n### 2. 2019\u5e74\u5f15\u5165TiDB\\n\\n**TiDB\u662f\u4e00\u4e2aOLTP+OLAP\u7684\u6210\u719f\u5f15\u64ce\uff0c\u540c\u6837\u662f\u4f18\u70b9\u3001\u7f3a\u70b9\u5206\u660e\uff1a**\\n\\n\u4f18\u52bf\uff1a\\n\\n- OLTP\u6570\u636e\u5e93\uff0c\u66f4\u65b0\u53cb\u597d\u3002\\n- \u652f\u6301\u660e\u7ec6\u548c\u805a\u5408\uff0c\u6709\u6307\u6807\u8ba1\u7b97\u548c\u6570\u636e\u770b\u677f\u5c55\u793a\uff0c\u8fd8\u652f\u6301\u660e\u7ec6\u6570\u636e\u67e5\u8be2\\n- \u652f\u6301\u6807\u51c6SQL\uff0c\u4f7f\u7528\u6210\u672c\u4f4e\\n- \u8fd0\u7ef4\u6210\u672c\u4f4e\\n\\n\u52a3\u52bf\uff1a\\n- \u5b83\u4e0d\u662f\u4e00\u4e2a\u72ec\u7acb\u7684OLAP\u3002TiFlash\u4f9d\u8d56\u4e8eOLTP\uff0c\u4f1a\u589e\u52a0\u5b58\u50a8\u3002\u5176OLAP\u80fd\u529b\u7a0d\u663e\u4e0d\u8db3\\n- \u6574\u4f53\u6027\u80fd\u8981\u5206\u573a\u666f\u53bb\u8861\u91cf\\n\\n### 3. 2021\u5e74\u5f15\u5165Doris\\n\\n\u81ea2021\u5e74\u8d77\uff0c\u6211\u4eec\u6b63\u5f0f\u5f15\u5165\u4e86Apache Doris\u3002\u5728\u7cfb\u7edf\u9009\u578b\u8fc7\u7a0b\u4e2d\uff0c\u4ea7\u54c1\u7684\u6027\u80fd\u3001SQL\u8bed\u6cd5\u3001\u7cfb\u7edf\u517c\u5bb9\u6027\u3001\u5b66\u4e60\u4ee5\u53ca\u8fd0\u7ef4\u6210\u672c\u7b49\u591a\u65b9\u9762\u56e0\u7d20\u662f\u6211\u4eec\u6700\u4e3a\u5173\u5fc3\u7684\u90e8\u5206\u3002\u7ecf\u8fc7\u6df1\u5165\u8c03\u7814\u3001\u5c42\u5c42\u5bf9\u6bd4\u4ee5\u4e0b\u51e0\u4e2a\u7cfb\u7edf\u540e\uff0c\u6211\u4eec\u5f97\u51fa\u4e86\u5982\u4e0b\u7ed3\u8bba\uff1a\\n\\n**\u6211\u4eec\u91cd\u70b9\u5173\u6ce8\u7684Doris\uff0c\u5176\u4f18\u70b9\u5b8c\u5168\u6ee1\u8db3\u6211\u4eec\u7684\u8bc9\u6c42\uff1a**\\n\\n- \u652f\u6301\u9ad8\u5e76\u53d1\u67e5\u8be2\uff08\u6211\u4eec\u6700\u5173\u5fc3\u7684\u4e00\u70b9\uff09\\n- \u540c\u65f6\u652f\u6301\u5b9e\u65f6\u548c\u79bb\u7ebf\u6570\u636e\\n- \u652f\u6301\u660e\u7ec6\u548c\u805a\u5408\\n- Uniq\u6a21\u578b\u652f\u6301\u66f4\u65b0\\n- \u7269\u5316\u89c6\u56fe\u7684\u80fd\u529b\u80fd\u6781\u5927\u7684\u52a0\u901f\u67e5\u8be2\u6548\u7387\\n- \u517c\u5bb9MySQL\u534f\u8bae\uff0c\u6240\u4ee5\u5f00\u53d1\u548c\u4f7f\u7528\u6210\u672c\u6bd4\u8f83\u4f4e\\n- \u6027\u80fd\u5b8c\u5168\u6ee1\u8db3\u6211\u4eec\u7684\u8981\u6c42\\n- \u8fd0\u7ef4\u6210\u672c\u6bd4\u8f83\u4f4e\\n\\n**Clickhouse\uff0c\u6211\u4eec\u4e4b\u524d\u4e5f\u8c03\u7814\u8fc7\uff0c\u4e5f\u5c1d\u8bd5\u60f3\u53bb\u4f7f\u7528\u5b83\u3002\u5176\u5355\u673a\u6027\u80fd\u6781\u5f3a\uff0c\u4f46\u662f\u7f3a\u70b9\u660e\u663e:**\\n\\n- \u6211\u4eec\u660e\u786e\u9700\u8981\u7684\u573a\u666f\u4e0b\uff0c\u5b83\u7684\u591a\u8868join\u652f\u6301\u7684\u7a0d\u5fae\u5dee\u4e00\u4e9b\\n- \u5e76\u53d1\u5ea6\u6bd4\u8f83\u4f4e\\n- \u8fd0\u7ef4\u6210\u672c\u6781\u9ad8\\n\\n\u51ed\u501f\u591a\u79cd\u6027\u80fd\u4f18\u52bf\uff0cApache Doris\u6bd4\u8f83\u7406\u60f3\u5730\u66ff\u4ee3\u4e86Druid\u548cTiDB\u3002\u800cClickhouse\u5728\u6211\u4eec\u7684\u4e1a\u52a1\u4e0a\u5e76\u4e0d\u80fd\u5f88\u597d\u7684\u9002\u914d\uff0c\u8ba9\u6211\u4eec\u6700\u7ec8\u8d70\u5411\u4e86Apache Doris\u3002\\n\\n## Doris\u4f5c\u4e3a\u7edf\u4e00OLAP\u6570\u4ed3\\n\\n![NIO](/images/olap.png)\\n\\n\u8fd9\u5f20\u56fe\u57fa\u672c\u4e0a\u5c31\u662f\u4ece\u6570\u636e\u6e90\u5230\u6570\u636e\u63a5\u5165\u3001\u6570\u636e\u8ba1\u7b97\u3001\u6570\u636e\u4ed3\u5e93\u3001\u6570\u636e\u670d\u52a1\u4ee5\u53ca\u5e94\u7528\u3002\\n\\n### 1. \u6570\u636e\u6e90\\n\\n\u851a\u6765\u7684\u573a\u666f\u4e0b\uff0c\u6570\u636e\u6e90\u4e0d\u4ec5\u4ec5\u6307\u4e1a\u52a1\u7cfb\u7edf\u7684\u6570\u636e\uff0c\u8fd8\u6709\u57cb\u70b9\u6570\u636e\u3001\u8bbe\u5907\u6570\u636e\u3001\u8f66\u8f86\u6570\u636e\u7b49\u7b49\u3002\u6570\u636e\u4f1a\u901a\u8fc7\u4e00\u79cd\u63a5\u5165\u65b9\u5f0f\u63a5\u5165\u5230\u5927\u6570\u636e\u5e73\u53f0\u3002\\n\\n### 2. \u6570\u636e\u63a5\u5165\\n\\n\u5bf9\u4e8e\u4e00\u4e9b\u4e1a\u52a1\u7cfb\u7edf\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u5f00\u542fCDC\u6355\u6349\u53d8\u5316\u7684\u6570\u636e\uff0c\u7136\u540e\u8f6c\u6362\u6210\u4e00\u4e2a\u6570\u636e\u6d41\u5b58\u50a8\u5230Kafka\uff0c\u63a5\u7eed\u518d\u8fdb\u884c\u6d41\u5f0f\u7684\u8ba1\u7b97\u3002\u67d0\u4e9b\u53ea\u80fd\u901a\u8fc7\u6279\u91cf\u7684\u65b9\u5f0f\u7684\u6570\u636e\u4f1a\u76f4\u63a5\u8fdb\u5165\u5230\u6211\u4eec\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u3002\\n\\n### 3. \u6570\u636e\u8ba1\u7b97\\n\\n\u6211\u4eec\u6ca1\u6709\u91c7\u7528\u6d41\u6279\u4e00\u4f53\uff0c\u91c7\u7528\u7684\u662fLambda\u67b6\u6784\u3002\\n\u6211\u4eec\u672c\u8eab\u7684\u4e1a\u52a1\u51b3\u5b9a\u4e86\u6211\u4eec\u7684Lambda\u67b6\u6784\u662f\u79bb\u7ebf\u548c\u5b9e\u65f6\u5206\u6210\u4e86\u4e24\u6761\u8def\u5f84\uff1a\\n- \u90e8\u5206\u6570\u636e\u662f\u6d41\u5f0f\u7684\u3002\\n- \u90e8\u5206\u6570\u636e\u80fd\u591f\u5b58\u50a8\u5230\u6570\u636e\u6d41\u91cc\uff0c\u4e00\u4e9b\u5386\u53f2\u6570\u636e\u4e0d\u4f1a\u5b58\u50a8\u5230Kafka\u3002\\n- \u6709\u4e9b\u573a\u666f\u6570\u636e\u8981\u6c42\u9ad8\u7cbe\u51c6\u5ea6\u3002\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u7684\u51c6\u786e\u6027\uff0c\u4e00\u4e2a\u79bb\u7ebf\u7684pipeline\u5c06\u4f1a\u628a\u6574\u4e2a\u6570\u636e\u91cd\u65b0\u8ba1\u7b97\u548c\u5237\u65b0\u3002\\n\\n### 4. \u6570\u636e\u4ed3\u5e93\\n\\n\u6570\u636e\u8ba1\u7b97\u5230\u6570\u4ed3\uff0c\u8fd9\u4e24\u6761\u7ebf\u8def\u6211\u4eec\u6ca1\u6709\u91c7\u7528Flink\u6216Spark Doris Connector\u3002\u6211\u4eec\u7528Routine Load\u6765\u8fde\u63a5Apache Doris\u548cFlink\uff0c\u7528Broker Load\u8fde\u63a5Doris\u548cSpark\u3002 \u7531Spark\u6279\u91cf\u751f\u6210\u7684\u6570\u636e\uff0c\u4f1a\u5907\u4efd\u5230Hive\u4f9b\u5176\u4ed6\u573a\u666f\u4f7f\u7528\u3002\u8fd9\u6837\u6bcf\u8ba1\u7b97\u4e00\u6b21\uff0c\u5c31\u540c\u65f6\u4f9b\u591a\u4e2a\u573a\u666f\u53bb\u4f7f\u7528\uff0c\u5927\u5927\u63d0\u5347\u4e86\u6548\u7387\u3002Flink\u7684\u60c5\u51b5\u4e5f\u8bf8\u5982\u6b64\u7c7b\u3002\\n\\n### 5. \u6570\u636e\u670d\u52a1\\n\\nDoris\u540e\u9762\u662fOne Service\u3002\u901a\u8fc7\u6ce8\u518c\u6570\u636e\u6e90\u6216\u7075\u6d3b\u914d\u7f6e\u7684\u65b9\u5f0f\uff0c\u81ea\u52a8\u751f\u6210API\uff0c\u5bf9API\u8fdb\u884c\u6d41\u91cf\u7684\u63a7\u5236\u548c\u6743\u9650\u7684\u63a7\u5236\uff0c\u7075\u6d3b\u6027\u5927\u5927\u63d0\u9ad8\u3002\u5e76\u501f\u52a9\u4e8ek8s serverless\u65b9\u6848\uff0c\u6574\u4e2a\u670d\u52a1\u975e\u5e38\u7075\u6d3b\u548c\u4e30\u5bcc\u3002\\n\\n### 6. \u6570\u636e\u5e94\u7528\\n\\n\u5e94\u7528\u5c42\u4e2d\u6211\u4eec\u4e3b\u8981\u662f\u90e8\u7f72\u4e00\u4e9b\u62a5\u8868\u5e94\u7528\u548c\u5176\u4ed6\u7684\u4e00\u4e9b\u670d\u52a1\u3002\\n\\n\u6211\u4eec\u4e3b\u8981\u6709\u4e24\u7c7b\u4f7f\u7528\u573a\u666f\uff1a\\n- \u9762\u5411\u7528\u6237\uff0c\u7c7b\u4f3c\u4e8e\u4e92\u8054\u7f51\uff0c\u6211\u4eec\u6709\u5f88\u591a\u7528\u6237\u7684\u573a\u666f\uff0c\u5305\u62ec\u770b\u677f\u548c\u6307\u6807\\n- \u9762\u5411\u8f66\uff0c\u8f66\u7684\u6570\u636e\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u8fdb\u5165\u5230Doris\uff0c\u901a\u8fc7\u4e00\u5b9a\u7684\u805a\u5408\u4e4b\u540e\uff0cDoris\u6570\u636e\u4f53\u91cf\u5728\u51e0\u5341\u4ebf\u7ea7\u522b\u3002\u4f46\u603b\u4f53\u6027\u80fd\u4ecd\u7136\u53ef\u4ee5\u6ee1\u8db3\u6211\u4eec\u7684\u8981\u6c42\u3002\\n\\n## Doris\u5728\u8fd0\u8425\u5e73\u53f0\u4e0a\u7684\u5b9e\u8df5\\n\\n### 1. CDP Architecture\\n\\n![NIO](/images/cdp.png)\\n\\n\u63a5\u4e0b\u6765\u6211\u6765\u4ecb\u7ecdDoris\u5728\u8fd0\u8425\u5e73\u53f0\u4e0a\u7684\u5b9e\u8df5\u3002\u8fd9\u662f\u6211\u4eec\u7684\u771f\u5b9e\u4f7f\u7528\u573a\u666f\u3002\u5982\u4eca\u4e92\u8054\u7f51\u516c\u53f8\u666e\u904d\u4f1a\u505a\u81ea\u5df1\u7684CDP\uff0c\u5b83\u4e00\u822c\u5305\u62ec\u51e0\u4e2a\u6a21\u5757\uff1a\\n- \u6807\u7b7e\uff0c\u662f\u6700\u57fa\u7840\u7684\u90e8\u5206\u3002\\n- \u5708\u4eba\uff0c\u57fa\u4e8e\u6807\u7b7e\uff0c\u6309\u7167\u4e00\u5b9a\u903b\u8f91\u5c06\u4eba\u5708\u9009\u51fa\u6765\u3002\\n- \u6d1e\u5bdf\uff0c\u9488\u5bf9\u5708\u5b9a\u7684\u4eba\u7fa4\uff0c\u4e86\u89e3\u4eba\u7fa4\u5206\u5e03\u3001\u7279\u70b9\u3002\\n- \u89e6\u8fbe\uff0c\u5229\u7528\u4f8b\u5982\u77ed\u4fe1\u3001\u7535\u8bdd\u3001\u58f0\u97f3\u3001APP\u901a\u77e5\u3001IM\u7b49\u65b9\u5f0f\u89e6\u8fbe\u5230\u7528\u6237\uff0c\u5e76\u914d\u5408\u6d41\u91cf\u63a7\u5236\u3002\\n- \u6548\u679c\u5206\u6790\uff0c\u63d0\u5347\u8fd0\u8425\u5e73\u53f0\u7684\u5b8c\u6574\u6027\uff0c\u6709\u52a8\u4f5c\u3001\u6709\u6548\u679c\u3001\u6709\u53cd\u9988\u3002\\n\\nDoris\u5728\u8fd9\u91cc\u9762\u8d77\u5230\u4e86\u6700\u91cd\u8981\u7684\u4f5c\u7528\uff0c\u5305\u62ec\uff1a\u6807\u7b7e\u5b58\u50a8\u3001\u4eba\u7fa4\u5b58\u50a8\u3001\u6548\u679c\u5206\u6790\u3002\\n\u6807\u7b7e\u5206\u4e3a\u57fa\u7840\u6807\u7b7e\u548c\u7528\u6237\u884c\u4e3a\u7684\u57fa\u7840\u6570\u636e\uff0c\u5728\u6b64\u57fa\u7840\u4e4b\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u7075\u6d3b\u81ea\u5b9a\u4e49\u5176\u4ed6\u6807\u7b7e\u3002\u4ece\u5b9e\u6548\u6027\u6765\u770b\uff0c\u6807\u7b7e\u8fd8\u5206\u4e3a\u5b9e\u65f6\u7684\u6807\u7b7e\u548c\u79bb\u7ebf\u7684\u6807\u7b7e\u3002\\n\\n### 2. CDP\u5b58\u50a8\u9009\u578b\u7684\u8003\u91cf\u70b9\\n\u6211\u4eec\u4ece5\u4e2a\u7ef4\u5ea6\u53bb\u8003\u91cfCDP\u5b58\u50a8\u7684\u9009\u578b\u3002\\n\\n**(1) \u79bb\u7ebf\u548c\u5b9e\u65f6\u7edf\u4e00\\n\u5982\u524d\u6240\u8ff0\u6807\u7b7e\u6709\u79bb\u7ebf\u6807\u7b7e\uff0c\u6709\u5b9e\u65f6\u6807\u7b7e\u3002\u76ee\u524d\u6211\u4eec\u662f\u51c6\u5b9e\u65f6\u7684\u573a\u666f\u3002\u5bf9\u4e8e\u6709\u4e9b\u6570\u636e\uff0c\u51c6\u5b9e\u65f6\u5df2\u8db3\u591f\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff0c\u5927\u91cf\u7684\u6807\u7b7e\u8fd8\u662f\u79bb\u7ebf\u7684\u6807\u7b7e\uff0c\u91c7\u7528\u7684\u65b9\u5f0f\u5c31\u662fDoris\u7684Routine Load\u548cBroker Load\u3002\\n\\n| **\u573a\u666f** | **\u9700\u6c42** | **Apache Doris\u529f\u80fd\u70b9** |\\n| --- | --- | --- |\\n| \u5b9e\u65f6\u6807\u7b7e | \u6570\u636e\u5b9e\u65f6\u66f4\u65b0 | Routine Load |\\n| \u79bb\u7ebf\u6807\u7b7e | \u9ad8\u6548\u5927\u6279\u91cf\u5bfc\u5165 | Broker Load |\\n| \u6d41\u6279\u7edf\u4e00 | \u5b9e\u65f6\u5386\u9669\u6570\u636e\u5b58\u50a8\u7edf\u4e00 | Routine Load \u548c Broker Load \u66f4\u65b0\u540c\u4e00\u5f20\u8868\u7684\u4e0d\u540c\u5217 |\\n\\n\u53e6\u5916\u540c\u4e00\u5f20\u8868\u4e0a\uff0c\u4e0d\u540c\u5217\u66f4\u65b0\u7684\u9891\u7387\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4f8b\u5982\u7528\u6237\u7684\u57fa\u7840\u6807\u7b7e\uff0c\u6211\u4eec\u5bf9\u7528\u6237\u7684\u8eab\u4efd\u9700\u8981\u5b9e\u65f6\u7684\u66f4\u65b0\uff0c\u56e0\u4e3a\u7528\u6237\u7684\u8eab\u4efd\u662f\u65f6\u523b\u53d8\u5316\u7684\u3002T+1\u7684\u66f4\u65b0\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\u3002\u6709\u4e9b\u6807\u7b7e\u79bb\u7ebf\uff0c\u4f8b\u5982\u7528\u6237\u7684\u6027\u522b\u3001\u5e74\u9f84\u7b49\u57fa\u7840\u6807\u7b7e\uff0cT+1\u66f4\u65b0\u8db3\u4ee5\u6ee1\u8db3\u6211\u4eec\u7684\u6807\u51c6\u3002\u57fa\u7840\u7528\u6237\u7684\u539f\u5b50\u6807\u7b7e\u653e\u5728\u4e00\u5f20\u8868\u4e2d\u5e26\u6765\u7684\u7ef4\u62a4\u6210\u672c\u5f88\u4f4e\u3002\u5f53\u540e\u671f\u81ea\u5b9a\u4e49\u6807\u7b7e\u65f6\uff0c\u8868\u7684\u6570\u91cf\u4f1a\u5927\u5927\u51cf\u5c11\uff0c\u8fd9\u6837\u5bf9\u4e8e\u6574\u4f53\u6027\u80fd\u7684\u63d0\u5347\u6709\u6781\u5927\u597d\u5904\u3002\\n\\n**(2) \u9ad8\u6548\u5708\u9009**\\n\\n\u7528\u6237\u8fd0\u8425\u6709\u4e86\u6807\u7b7e\uff0c\u7b2c\u4e8c\u6b65\u5c31\u662f\u5708\u4eba\uff0c\u5708\u9009\u5c31\u662f\u6839\u636e\u6807\u7b7e\u7684\u4e0d\u540c\u7ec4\u5408\uff0c\u628a\u7b26\u5408\u6807\u7b7e\u6761\u4ef6\u7684\u6240\u6709\u4eba\u7b5b\u9009\u51fa\u6765\uff0c\u8fd9\u65f6\u4f1a\u6709\u4e0d\u540c\u6807\u7b7e\u6761\u4ef6\u7ec4\u5408\u7684\u67e5\u8be2\u3001\u8fd9\u4e2a\u67e5\u8be2\u5728Doris\u5f15\u5165\u5411\u91cf\u5316\u4e4b\u540e\u6709\u6bd4\u8f83\u660e\u663e\u7684\u63d0\u5347\u3002\\n\\n| **\u573a\u666f** | **\u9700\u6c42** | **Apache Doris\u529f\u80fd\u70b9** |\\n| --- | --- | --- |\\n| \u590d\u6742\u6761\u4ef6\u5708\u9009 | \u9ad8\u6548\u7684\u652f\u6301\u591a\u6761\u4ef6\u5708\u9009 | SIMD\u7684\u4f18\u5316 |\\n\\n**(3) \u9ad8\u6548\u805a\u5408**\\n\\n\u524d\u9762\u63d0\u5230\u7684\u7528\u6237\u6d1e\u5bdf\u6216\u7fa4\u4f53\u6d1e\u5bdf\u4ee5\u53ca\u6548\u679c\u5206\u6790\u7edf\u8ba1\uff0c\u9700\u8981\u5bf9\u6570\u636e\u505a\u7edf\u8ba1\u5206\u6790\uff0c\u5e76\u4e0d\u662f\u5355\u4e00\u7684\u6309\u7528\u6237ID\u83b7\u53d6\u6807\u7b7e\u7684\u8fd9\u79cd\u7b80\u5355\u573a\u666f\u3002\u5176\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u548c\u67e5\u8be2\u6548\u7387\uff0c\u5bf9\u6211\u4eec\u8fd9\u4e2a\u6807\u7b7e\u7684\u5206\u5e03\u3001\u7fa4\u4f53\u7684\u5206\u5e03\u3001\u6548\u679c\u5206\u6790\u7684\u7edf\u8ba1\u90fd\u6709\u5f88\u5927\u7684\u5f71\u54cd\u3002\u5728\u8fd9\u91cc\uff0c\u4f53\u73b0\u5230\u7684Doris\u7684\u529f\u80fd\u7279\u70b9\u662f\uff1a\\n- \u7b2c\u4e00\u662f\u6570\u636e\u5206\u7247\uff0c\u6211\u4eec\u6309\u65f6\u95f4\u628a\u6570\u636e\u5206\u7247\uff0c\u5206\u6790\u7edf\u8ba1\u5c31\u4f1a\u6781\u5927\u7684\u51cf\u5c11\u6570\u636e\u91cf\uff0c\u53ef\u4ee5\u6781\u5927\u7684\u52a0\u901f\u67e5\u8be2\u548c\u5206\u6790\u7684\u6548\u7387\u3002\\n- \u7b2c\u4e8c\u662f\u8282\u70b9\u805a\u5408\uff0c\u7136\u540e\u518d\u6536\u96c6\u505a\u7edf\u4e00\u7684\u805a\u5408\u3002\\n- \u7b2c\u4e09\u662f\u5411\u91cf\u5316\u52a0\u901f\uff0c\u5411\u91cf\u5316\u5f15\u64ce\u5bf9\u6027\u80fd\u63d0\u5347\u975e\u5e38\u663e\u8457\u3002\\n\\n| **\u573a\u666f** | **\u9700\u6c42** | **Apache Doris\u529f\u80fd\u70b9** |\\n| --- | --- | --- |\\n| \u6807\u7b7e\u503c\u7684\u5206\u5e03 | \u6bcf\u5929\u90fd\u9700\u8981\u66f4\u65b0\u6240\u6709\u6807\u7b7e\uff0c\u9700\u8981\u5feb\u901f\u9ad8\u6548\u7edf\u8ba1  | \u6570\u636e\u5206\u7247\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u548c\u8ba1\u7b97 |\\n| \u7fa4\u4f53\u7684\u5206\u5e03 | \u540c\u4e0a | \u5b58\u7b97\u7edf\u4e00\uff0c\u6bcf\u4e2a\u8282\u70b9\u5148\u805a\u5408 |\\n| \u6548\u679c\u5206\u6790\u7684\u7edf\u8ba1\u503c | \u540c\u4e0a | SIMD\u63d0\u901f  |\\n\\n**(4) \u591a\u8868\u5173\u8054**\\n\\n\u6211\u4eec\u7684CDP\u53ef\u80fd\u548c\u4e1a\u5185\u5e38\u89c1\u7684CDP\u573a\u666f\u4e0d\u592a\u4e00\u6837\uff0c\u56e0\u4e3a\u6709\u4e9b\u573a\u666f\u7684CDP\u6807\u7b7e\u662f\u63d0\u524d\u9884\u4f30\u5b8c\u6210\u7684\uff0c\u4e0d\u5b58\u5728\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002\u53ea\u505a\u539f\u5b50\u6807\u7b7e\uff0c\u6216\u8005\u8bf4\u7528\u6237\u57fa\u7840\u884c\u4e3a\u6570\u636e\u7684\u7edf\u8ba1\uff0c\u8fd9\u6837\u53ef\u4ee5\u628a\u7075\u6d3b\u6027\u7559\u7ed9\u4f7f\u7528CDP\u7684\u7528\u6237\uff0c\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\u53bb\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002\u5e95\u5c42\u7684\u6570\u636e\u662f\u5206\u6563\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u8868\u91cc\uff0c\u5982\u679c\u505a\u81ea\u5b9a\u4e49\u7684\u6807\u7b7e\u7684\u5efa\u8bbe\uff0c\u52bf\u5fc5\u9700\u8981\u505a\u8868\u7684\u5173\u8054\u3002\\n\u6211\u4eec\u9009\u62e9Doris\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u539f\u56e0\uff0c\u5c31\u662f\u591a\u8868\u5173\u8054\u7684\u80fd\u529b\u3002\u901a\u8fc7\u6027\u80fd\u6d4b\u8bd5\uff0cDoris\u76ee\u524d\u80fd\u591f\u6ee1\u8db3\u6211\u4eec\u7684\u8981\u6c42\u3002\u800c\u4e14Doris\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u975e\u5e38\u5f3a\u5927\u7684\u80fd\u529b\u3002\u56e0\u4e3a\u6807\u7b7e\u662f\u52a8\u6001\u7684\u3002\\n\\n| **\u573a\u666f** | **\u9700\u6c42** | **Apache Doris\u529f\u80fd\u70b9** |\\n| --- | --- | --- |\\n| \u7fa4\u4f53\u7684\u7279\u5f81\u5206\u5e03 | \u7edf\u8ba1\u7fa4\u4f53\u5728\u67d0\u4e2a\u7279\u5f81\u4e0b\u7684\u5206\u5e03 | \u591a\u8868\u5173\u8054 |\\n| Single Tag | Display tags |  |\\n\\n**(5) \u8054\u90a6\u67e5\u8be2**\\n\\n\u7528\u6237\u89e6\u8fbe\u6210\u529f\u4e0e\u5426\u6211\u4eec\u4f1a\u8bb0\u5f55\u5230TiDB\u3002\u7528\u6237\u8fd0\u8425\u4e2d\u7684\u901a\u77e5\uff0c\u53ef\u80fd\u53ea\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\uff0c\u5982\u679c\u6d89\u53ca\u5230\u94b1\u4f8b\u5982\u53d1\u653e\u79ef\u5206\u6216\u4f18\u60e0\u5238\uff0c\u4efb\u52a1\u6267\u884c\u5c31\u8981\u505a\u5230\u4e0d\u91cd\u4e0d\u6f0f\uff0c\u8fd9\u79cdOLTP\u573a\u666f\u7528TiDB\u6bd4\u8f83\u5408\u9002\u3002\\n\u505a\u6548\u679c\u5206\u6790\uff0c\u9700\u8981\u4e86\u89e3\u8fd0\u8425\u8ba1\u5212\u6267\u884c\u5230\u4ec0\u4e48\u7a0b\u5ea6\uff0c\u662f\u5426\u8fbe\u6210\u76ee\u6807\uff0c\u5176\u5206\u5e03\u60c5\u51b5\u7b49\u7b49\u3002\u9700\u8981\u628a\u4efb\u52a1\u6267\u884c\u60c5\u51b5\u548c\u4eba\u7fa4\u5708\u9009\u76f8\u7ed3\u5408\u624d\u80fd\u8fdb\u884c\u5206\u6790\uff0c\u5c31\u4f1a\u7528\u5230Doris\u548cTiDB\u7684\u5173\u8054\uff0c\u5916\u8868\u5173\u8054\u8fdb\u884c\u67e5\u8be2\u3002\\n\u6211\u4eec\u8bbe\u60f3\u6807\u7b7e\u4f53\u91cf\u6bd4\u8f83\u5c0f\uff0c\u4fdd\u5b58\u5230es\u53ef\u80fd\u6bd4\u8f83\u5408\u9002\uff0c\u7136\u800cES\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff0c\u540e\u9762\u4f1a\u89e3\u91ca\u5176\u539f\u56e0\u3002\\n\\n| **\u573a\u666f** | **\u9700\u6c42** | **Apache Doris\u529f\u80fd\u70b9** |\\n| --- | --- | --- |\\n| \u6548\u679c\u5206\u6790\u5173\u8054\u4efb\u52a1\u6267\u884c\u660e\u7ec6 | Doris\u6570\u636e\u5173\u8054TiDB\u6570\u636e | \u5173\u8054\u5916\u8868\u8fdb\u884c\u67e5\u8be2 |\\n| \u4eba\u7fa4\u6807\u7b7e\u5173\u8054\u884c\u4e3a\u805a\u5408\u6570\u636e | Doris\u6570\u636e\u5173\u8054Elasticsearch\u6570\u636e |\\n\\n## \u7ecf\u9a8c\u548c\u603b\u7ed3\\n\\n1. **bitmap**. \u6211\u4eec\u7684\u4f53\u91cf\u65e0\u6cd5\u5145\u5206\u53d1\u6325\u5176\u6548\u7387\u3002\u5982\u679c\u4f53\u91cf\u8fbe\u5230\u4e00\u5b9a\u7a0b\u5ea6\uff0c\u7528bitmap\u4f1a\u6709\u5f88\u597d\u7684\u6027\u80fd\u63d0\u5347\u3002\u4f8b\u5982\u8ba1\u7b97UV\u573a\u666f\uff0cId\u5168\u96c6\u5927\u4e8e5000\u4e07\uff0c\u53ef\u4ee5\u8003\u8651bitmap\u805a\u5408\u3002\\n\\n2. **ES\u5916\u8868\u3002\u5355\u8868\u67e5\u8be2\u4e0b\u6548\u7387\u6bd4\u8f83\u7406\u60f3\u3002** \\n\\n3. **\u5206\u6279\u66f4\u65b0\u5217**. \u4e3a\u4e86\u51cf\u5c11\u8868\u7684\u6570\u91cf\u548c\u63d0\u5347join\u8868\u7684\u6027\u80fd\uff0c\u8bbe\u8ba1\u8868\u5c3d\u91cf\u7cbe\u7b80\u5c3d\u91cf\u805a\u5408\uff0c\u76f8\u540c\u7c7b\u578b\u7684\u4e8b\u5b9e\u90fd\u653e\u5728\u4e00\u8d77\u3002\u4f46\u76f8\u540c\u7c7b\u578b\u7684\u5b57\u6bb5\u53ef\u80fd\u66f4\u65b0\u9891\u7387\u4e0d\u540c\uff0c\u6709\u4e9b\u5b57\u6bb5\u9700\u8981\u5929\u7ea7\u66f4\u65b0\uff0c\u6709\u4e9b\u5b57\u6bb5\u53ef\u80fd\u9700\u8981\u5c0f\u65f6\u7ea7\u66f4\u65b0\uff0c\u5355\u72ec\u66f4\u65b0\u67d0\u4e00\u5217\u5c31\u662f\u4e00\u4e2a\u660e\u663e\u7684\u8bc9\u6c42\u3002Doris\u805a\u5408\u6a21\u578b\u5355\u72ec\u66f4\u65b0\u67d0\u4e9b\u5217\u7684\u89e3\u51b3\u65b9\u6848\u662f\u4f7f\u7528REPLACE_IF_NOT_NULL\u3002\u6ce8\u610f:\u7528null\u66ff\u6362\u539f\u6765\u7684\u975enull\u503c\u662f\u505a\u4e0d\u5230\u7684,\u53ef\u4ee5\u628a\u6240\u6709\u7684null\u66ff\u6362\u6210\u6709\u610f\u4e49\u7684\u9ed8\u8ba4\u503c\uff0c\u4f8b\u5982unknown\u3002\\n\\n4. **\u5728\u7ebf\u670d\u52a1**. Doris\u540c\u4e00\u4efd\u6570\u636e\u540c\u65f6\u670d\u52a1\u5728\u7ebf\u79bb\u7ebf\u573a\u666f\uff0c\u5bf9\u8d44\u6e90\u9694\u79bb\u7684\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u76ee\u524d\u8fd8\u5b58\u5728\u8fdb\u4e00\u6b65\u4f18\u5316\u7684\u7a7a\u95f4\u3002"},{"id":"/ssb","metadata":{"permalink":"/zh-CN/blog/ssb","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/ssb.md","title":"Apache Doris 1.2 Star-Schema-Benchmark \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","description":"\x3c!--","date":"2022-11-22T00:00:00.000Z","formattedDate":"2022\u5e7411\u670822\u65e5","tags":[{"label":"\u6280\u672f\u89e3\u6790","permalink":"/zh-CN/blog/tags/\u6280\u672f\u89e3\u6790"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris 1.2 Star-Schema-Benchmark \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","summary":"Doris 1.2 \u7248\u672c\u5728 SSB FlAT \u5bbd\u8868\u4e0a\uff0c Apache Doris 1.2.0-rc01\u4e0a\u76f8\u5bf9 Apache Doris 1.1.3 \u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd14\u500d\uff0c\u76f8\u5bf9\u4e8e Apache Doris 0.15.0 RC04 ,\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd110\u500d\uff0c\u5728\u6807\u51c6\u7684 SSB \u6d4b\u8bd5SQL\u4e0a\uff0c Apache Doris 1.2.0-rc01 \u4e0a\u76f8\u5bf9 Apache Doris 1.1.3 \u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd12\u500d\uff0c\u76f8\u5bf9\u4e8e Apache Doris 0.15.0 RC04 ,\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd1 31 \u500d ","date":"2022-11-22","author":"Apache Doris","tags":["\u6280\u672f\u89e3\u6790"]},"prevItem":{"title":"Apache Doris \u5728\u851a\u6765\u6c7d\u8f66\u7684\u5e94\u7528","permalink":"/zh-CN/blog/NIO"},"nextItem":{"title":"Apache Doris 1.2 TPC-H \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","permalink":"/zh-CN/blog/tpch"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# Star Schema Benchmark\\n\\n[Star Schema Benchmark(SSB)](https://www.cs.umb.edu/~poneil/StarSchemaB.PDF) \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u6570\u4ed3\u573a\u666f\u4e0b\u7684\u6027\u80fd\u6d4b\u8bd5\u96c6\u3002SSB \u57fa\u4e8e [TPC-H](http://www.tpc.org/tpch/) \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5316\u7248\u7684\u661f\u578b\u6a21\u578b\u6570\u636e\u96c6\uff0c\u4e3b\u8981\u7528\u4e8e\u6d4b\u8bd5\u5728\u661f\u578b\u6a21\u578b\u4e0b\uff0c\u591a\u8868\u5173\u8054\u67e5\u8be2\u7684\u6027\u80fd\u8868\u73b0\u3002\u53e6\u5916\uff0c\u4e1a\u754c\u5185\u901a\u5e38\u4e5f\u4f1a\u5c06 SSB \u6253\u5e73\u4e3a\u5bbd\u8868\u6a21\u578b\uff08\u4ee5\u4e0b\u7b80\u79f0\uff1aSSB flat\uff09\uff0c\u6765\u6d4b\u8bd5\u67e5\u8be2\u5f15\u64ce\u7684\u6027\u80fd\uff0c\u53c2\u8003[Clickhouse](https://clickhouse.com/docs/zh/getting-started/example-datasets/star-schema)\u3002\\n\\n\u672c\u6587\u6863\u4e3b\u8981\u4ecb\u7ecdApache Doris \u5728 SSB 100G \u6d4b\u8bd5\u96c6\u4e0a\u7684\u6027\u80fd\u8868\u73b0\u3002\\n\\n> \u6ce8 1\uff1a\u5305\u62ec SSB \u5728\u5185\u7684\u6807\u51c6\u6d4b\u8bd5\u96c6\u901a\u5e38\u548c\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u5dee\u8ddd\u8f83\u5927\uff0c\u5e76\u4e14\u90e8\u5206\u6d4b\u8bd5\u4f1a\u9488\u5bf9\u6d4b\u8bd5\u96c6\u8fdb\u884c\u53c2\u6570\u8c03\u4f18\u3002\u6240\u4ee5\u6807\u51c6\u6d4b\u8bd5\u96c6\u7684\u6d4b\u8bd5\u7ed3\u679c\u4ec5\u80fd\u53cd\u6620\u6570\u636e\u5e93\u5728\u7279\u5b9a\u573a\u666f\u4e0b\u7684\u6027\u80fd\u8868\u73b0\u3002\u5efa\u8bae\u7528\u6237\u4f7f\u7528\u5b9e\u9645\u4e1a\u52a1\u6570\u636e\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u6d4b\u8bd5\u3002\\n>\\n> \u6ce8 2\uff1a\u672c\u6587\u6863\u6d89\u53ca\u7684\u64cd\u4f5c\u90fd\u5728 Ubuntu Server 20.04 \u73af\u5883\u8fdb\u884c\uff0cCentOS 7 \u4e5f\u53ef\u6d4b\u8bd5\u3002\\n\\n\u5728 SSB \u6807\u51c6\u6d4b\u8bd5\u6570\u636e\u96c6\u4e0a\u7684 13 \u4e2a\u67e5\u8be2\u4e0a\uff0c\u6211\u4eec\u57fa\u4e8e Apache Doris 1.2.0-rc01\uff0c Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04 \u7248\u672c\u8fdb\u884c\u4e86\u5bf9\u522b\u6d4b\u8bd5\u3002\\n\\n\u5728 SSB FlAT \u5bbd\u8868\u4e0a\uff0c Apache Doris 1.2.0-rc01\u4e0a\u76f8\u5bf9 Apache Doris 1.1.3 \u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd14\u500d\uff0c\u76f8\u5bf9\u4e8e Apache Doris 0.15.0 RC04 ,\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd110\u500d \u3002\\n\\n![ssb_v11_v015_compare](/images/ssb_flat.png)\\n\\n\u5728\u6807\u51c6\u7684 SSB \u6d4b\u8bd5SQL\u4e0a\uff0c Apache Doris 1.2.0-rc01 \u4e0a\u76f8\u5bf9 Apache Doris 1.1.3 \u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd12\u500d\uff0c\u76f8\u5bf9\u4e8e Apache Doris 0.15.0 RC04 ,\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd1 31 \u500d \u3002\\n\\n![ssb_12_11_015](/images/ssb.png)\\n\\n## 1. \u786c\u4ef6\u73af\u5883\\n\\n| \u673a\u5668\u6570\u91cf | 4 \u53f0\u817e\u8baf\u4e91\u4e3b\u673a\uff081\u4e2aFE\uff0c3\u4e2aBE\uff09       |\\n| -------- | ------------------------------------ |\\n| CPU      | AMD EPYC\u2122 Milan(2.55GHz/3.5GHz) 16\u6838 |\\n| \u5185\u5b58     | 64G                                  |\\n| \u7f51\u7edc\u5e26\u5bbd  | 7Gbps                               |\\n| \u78c1\u76d8     | \u9ad8\u6027\u80fd\u4e91\u786c\u76d8                         |\\n\\n## 2. \u8f6f\u4ef6\u73af\u5883\\n\\n- Doris \u90e8\u7f72 3BE 1FE\uff1b\\n- \u5185\u6838\u7248\u672c\uff1aLinux version 5.4.0-96-generic (buildd@lgw01-amd64-051)\\n- \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\uff1aUbuntu Server 20.04 LTS 64\u4f4d\\n- Doris \u8f6f\u4ef6\u7248\u672c\uff1a Apache Doris 1.2.0-rc01\u3001Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04\\n- JDK\uff1aopenjdk version \\"11.0.14\\" 2022-01-18\\n\\n## 3. \u6d4b\u8bd5\u6570\u636e\u91cf\\n\\n| SSB\u8868\u540d        | \u884c\u6570       | \u5907\u6ce8             |\\n| :------------- | :--------- | :--------------- |\\n| lineorder      | 600,037,902 | \u5546\u54c1\u8ba2\u5355\u660e\u7ec6\u8868\u8868 |\\n| customer       | 3,000,000    | \u5ba2\u6237\u4fe1\u606f\u8868       |\\n| part           | 1,400,000    | \u96f6\u4ef6\u4fe1\u606f\u8868       |\\n| supplier       | 200,000     | \u4f9b\u5e94\u5546\u4fe1\u606f\u8868     |\\n| date           | 2,556       | \u65e5\u671f\u8868           |\\n| lineorder_flat | 600,037,902 | \u6570\u636e\u5c55\u5e73\u540e\u7684\u5bbd\u8868 |\\n\\n## 4. SSB \u5bbd\u8868\u6d4b\u8bd5\u7ed3\u679c\\n\\n\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 Apache Doris 1.2.0-rc01\u3001 Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04 \u7248\u672c\u8fdb\u884c\u5bf9\u6bd4\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n\\n| Query | Apache Doris 1.2.0-rc01(ms) | Apache Doris 1.1.3(ms) | Apache Doris 0.15.0 RC04(ms) |\\n| ----- | ------------- | ------------- | ----------------- |\\n| Q1.1  | 20            | 90            | 250               |\\n| Q1.2  | 10            | 10            | 30                |\\n| Q1.3  | 30            | 70            | 120               |\\n| Q2.1  | 90            | 360           | 900               |\\n| Q2.2  | 90            | 340           | 1020              |\\n| Q2.3  | 60            | 260           | 770               |\\n| Q3.1  | 160           | 550           | 1710              |\\n| Q3.2  | 80            | 290           | 670               |\\n| Q3.3  | 90            | 240           | 550               |\\n| Q3.4  | 20            | 20            | 30                |\\n| Q4.1  | 140           | 480           | 1250              |\\n| Q4.2  | 50            | 240           | 400               |\\n| Q4.3  | 30            | 200           | 330               |\\n| \u5408\u8ba1  | 880           | 3150          | 8030              |\\n\\n**\u7ed3\u679c\u8bf4\u660e**\\n\\n- \u6d4b\u8bd5\u7ed3\u679c\u5bf9\u5e94\u7684\u6570\u636e\u96c6\u4e3a scale 100, \u7ea6 6 \u4ebf\u6761\u3002\\n- \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e\u4e3a\u7528\u6237\u5e38\u7528\u914d\u7f6e\uff0c\u4e91\u670d\u52a1\u5668 4 \u53f0\uff0c16 \u6838 64G SSD\uff0c1 FE 3 BE \u90e8\u7f72\u3002\\n- \u9009\u7528\u7528\u6237\u5e38\u89c1\u914d\u7f6e\u6d4b\u8bd5\u4ee5\u964d\u4f4e\u7528\u6237\u9009\u578b\u8bc4\u4f30\u6210\u672c\uff0c\u4f46\u6574\u4e2a\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u6d88\u8017\u5982\u6b64\u591a\u7684\u786c\u4ef6\u8d44\u6e90\u3002\\n\\n## 5. \u6807\u51c6 SSB \u6d4b\u8bd5\u7ed3\u679c\\n\\n\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 Apache Doris 1.2.0-rc01\u3001Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04 \u7248\u672c\u8fdb\u884c\u5bf9\u6bd4\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n| Query | Apache Doris 1.2.0-rc01(ms) | Apache Doris 1.1.3 (ms) |  Apache Doris 0.15.0 RC04(ms) |\\n| ----- | ------- | ---------------------- | ------------------------------- |\\n| Q1.1  | 40      | 18                    | 350                           |\\n| Q1.2  | 30      | 100                    | 80                             |\\n| Q1.3  | 20      | 70                     | 80                            |\\n| Q2.1  | 350     | 940                  | 20680                     |\\n| Q2.2  | 320     | 750                  | 18250                    |\\n| Q2.3  | 300     | 720                  | 14760                   |\\n| Q3.1  | 650     | 2150                 | 22190                   |\\n| Q3.2  | 260     | 510                 | 8360                          |\\n| Q3.3  | 220     | 450                  | 6200                        |\\n| Q3.4  | 60      | 70                   | 160                            |\\n| Q4.1  | 840     | 1480                   | 24320                      |\\n| Q4.2  | 460     | 560                 | 6310                          |\\n| Q4.3  | 610     | 660                  | 10170                    |\\n| \u5408\u8ba1  | 4160    | 8478                | 131910 |\\n\\n**\u7ed3\u679c\u8bf4\u660e**\\n\\n- \u6d4b\u8bd5\u7ed3\u679c\u5bf9\u5e94\u7684\u6570\u636e\u96c6\u4e3ascale 100, \u7ea66\u4ebf\u6761\u3002\\n- \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e\u4e3a\u7528\u6237\u5e38\u7528\u914d\u7f6e\uff0c\u4e91\u670d\u52a1\u56684\u53f0\uff0c16\u6838 64G SSD\uff0c1 FE 3 BE \u90e8\u7f72\u3002\\n- \u9009\u7528\u7528\u6237\u5e38\u89c1\u914d\u7f6e\u6d4b\u8bd5\u4ee5\u964d\u4f4e\u7528\u6237\u9009\u578b\u8bc4\u4f30\u6210\u672c\uff0c\u4f46\u6574\u4e2a\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u6d88\u8017\u5982\u6b64\u591a\u7684\u786c\u4ef6\u8d44\u6e90\u3002\\n\\n\\n## 6. \u73af\u5883\u51c6\u5907\\n\\n\u8bf7\u5148\u53c2\u7167 [\u5b98\u65b9\u6587\u6863](../install/install-deploy.md) \u8fdb\u884c Apache Doris \u7684\u5b89\u88c5\u90e8\u7f72\uff0c\u4ee5\u83b7\u5f97\u4e00\u4e2a\u6b63\u5e38\u8fd0\u884c\u4e2d\u7684 Doris \u96c6\u7fa4\uff08\u81f3\u5c11\u5305\u542b 1 FE 1 BE\uff0c\u63a8\u8350 1 FE 3 BE\uff09\u3002\\n\\n\u4ee5\u4e0b\u6587\u6863\u4e2d\u6d89\u53ca\u7684\u811a\u672c\u90fd\u5b58\u653e\u5728 Apache Doris \u4ee3\u7801\u5e93\uff1a[ssb-tools](https://github.com/apache/doris/tree/master/tools/ssb-tools)\\n\\n## 7. \u6570\u636e\u51c6\u5907\\n\\n### 7.1 \u4e0b\u8f7d\u5b89\u88c5 SSB \u6570\u636e\u751f\u6210\u5de5\u5177\u3002\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u4e0b\u8f7d\u5e76\u7f16\u8bd1 [ssb-dbgen](https://github.com/electrum/ssb-dbgen.git) \u5de5\u5177\u3002\\n\\n```shell\\nsh build-ssb-dbgen.sh\\n```\\n\\n\u5b89\u88c5\u6210\u529f\u540e\uff0c\u5c06\u5728 `ssb-dbgen/` \u76ee\u5f55\u4e0b\u751f\u6210 `dbgen` \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\\n\\n### 7.2 \u751f\u6210 SSB \u6d4b\u8bd5\u96c6\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u751f\u6210 SSB \u6570\u636e\u96c6\uff1a\\n\\n```shell\\nsh gen-ssb-data.sh -s 100 -c 100\\n```\\n\\n> \u6ce81\uff1a\u901a\u8fc7 `sh gen-ssb-data.sh -h` \u67e5\u770b\u811a\u672c\u5e2e\u52a9\u3002\\n>\\n> \u6ce82\uff1a\u6570\u636e\u4f1a\u4ee5 `.tbl` \u4e3a\u540e\u7f00\u751f\u6210\u5728  `ssb-data/` \u76ee\u5f55\u4e0b\u3002\u6587\u4ef6\u603b\u5927\u5c0f\u7ea660GB\u3002\u751f\u6210\u65f6\u95f4\u53ef\u80fd\u5728\u6570\u5206\u949f\u52301\u5c0f\u65f6\u4e0d\u7b49\u3002\\n>\\n> \u6ce83\uff1a`-s 100` \u8868\u793a\u6d4b\u8bd5\u96c6\u5927\u5c0f\u7cfb\u6570\u4e3a 100\uff0c`-c 100` \u8868\u793a\u5e76\u53d1100\u4e2a\u7ebf\u7a0b\u751f\u6210 lineorder \u8868\u7684\u6570\u636e\u3002`-c` \u53c2\u6570\u4e5f\u51b3\u5b9a\u4e86\u6700\u7ec8 lineorder \u8868\u7684\u6587\u4ef6\u6570\u91cf\u3002\u53c2\u6570\u8d8a\u5927\uff0c\u6587\u4ef6\u6570\u8d8a\u591a\uff0c\u6bcf\u4e2a\u6587\u4ef6\u8d8a\u5c0f\u3002\\n\\n\u5728 `-s 100` \u53c2\u6570\u4e0b\uff0c\u751f\u6210\u7684\u6570\u636e\u96c6\u5927\u5c0f\u4e3a\uff1a\\n\\n| Table     | Rows             | Size | File Number |\\n| --------- | ---------------- | ---- | ----------- |\\n| lineorder | 6\u4ebf\uff08600037902\uff09 | 60GB | 100         |\\n| customer  | 300\u4e07\uff083000000\uff09 | 277M | 1           |\\n| part      | 140\u4e07\uff081400000\uff09 | 116M | 1           |\\n| supplier  | 20\u4e07\uff08200000\uff09   | 17M  | 1           |\\n| date      | 2556             | 228K | 1           |\\n\\n### 7.3 \u5efa\u8868\\n\\n#### 7.3.1 \u51c6\u5907 `doris-cluster.conf` \u6587\u4ef6\u3002\\n\\n\u5728\u8c03\u7528\u5bfc\u5165\u811a\u672c\u524d\uff0c\u9700\u8981\u5c06 FE \u7684 ip \u7aef\u53e3\u7b49\u4fe1\u606f\u5199\u5728 `doris-cluster.conf` \u6587\u4ef6\u4e2d\u3002\\n\\n\u6587\u4ef6\u4f4d\u7f6e\u548c `load-ssb-dimension-data.sh` \u5e73\u7ea7\u3002\\n\\n\u6587\u4ef6\u5185\u5bb9\u5305\u62ec FE \u7684 ip\uff0cHTTP \u7aef\u53e3\uff0c\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4ee5\u53ca\u5f85\u5bfc\u5165\u6570\u636e\u7684 DB \u540d\u79f0\uff1a\\n\\n```shell\\nexport FE_HOST=\\"xxx\\"\\nexport FE_HTTP_PORT=\\"8030\\"\\nexport FE_QUERY_PORT=\\"9030\\"\\nexport USER=\\"root\\"\\nexport PASSWORD=\'xxx\'\\nexport DB=\\"ssb\\"\\n```\\n\\n#### 7.3.2 \u6267\u884c\u4ee5\u4e0b\u811a\u672c\u751f\u6210\u521b\u5efa SSB \u8868\uff1a\\n\\n```shell\\nsh create-ssb-tables.sh\\n```\\n\u6216\u8005\u590d\u5236 [create-ssb-tables.sql](https://github.com/apache/incubator-doris/tree/master/tools/ssb-tools/ddl/create-ssb-tables.sql)  \u548c [create-ssb-flat-table.sql](https://github.com/apache/incubator-doris/tree/master/tools/ssb-tools/ddl/create-ssb-flat-table.sql)  \u4e2d\u7684\u5efa\u8868\u8bed\u53e5\uff0c\u5728 MySQL \u5ba2\u6237\u7aef\u4e2d\u6267\u884c\u3002\\n\\n\u4e0b\u9762\u662f `lineorder_flat` \u8868\u5efa\u8868\u8bed\u53e5\u3002\u5728\u4e0a\u9762\u7684 `create-ssb-flat-table.sh`  \u811a\u672c\u4e2d\u521b\u5efa `lineorder_flat` \u8868\uff0c\u5e76\u8fdb\u884c\u4e86\u9ed8\u8ba4\u5206\u6876\u6570\uff0848\u4e2a\u6876)\u3002\u60a8\u53ef\u4ee5\u5220\u9664\u8be5\u8868\uff0c\u6839\u636e\u60a8\u7684\u96c6\u7fa4\u89c4\u6a21\u8282\u70b9\u914d\u7f6e\u5bf9\u8fd9\u4e2a\u5206\u6876\u6570\u8fdb\u884c\u8c03\u6574\uff0c\u8fd9\u6837\u53ef\u4ee5\u83b7\u53d6\u5230\u66f4\u597d\u7684\u4e00\u4e2a\u6d4b\u8bd5\u6548\u679c\u3002\\n\\n```sql\\nCREATE TABLE `lineorder_flat` (\\n  `LO_ORDERDATE` date NOT NULL COMMENT \\"\\",\\n  `LO_ORDERKEY` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_LINENUMBER` tinyint(4) NOT NULL COMMENT \\"\\",\\n  `LO_CUSTKEY` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_PARTKEY` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_SUPPKEY` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_ORDERPRIORITY` varchar(100) NOT NULL COMMENT \\"\\",\\n  `LO_SHIPPRIORITY` tinyint(4) NOT NULL COMMENT \\"\\",\\n  `LO_QUANTITY` tinyint(4) NOT NULL COMMENT \\"\\",\\n  `LO_EXTENDEDPRICE` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_ORDTOTALPRICE` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_DISCOUNT` tinyint(4) NOT NULL COMMENT \\"\\",\\n  `LO_REVENUE` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_SUPPLYCOST` int(11) NOT NULL COMMENT \\"\\",\\n  `LO_TAX` tinyint(4) NOT NULL COMMENT \\"\\",\\n  `LO_COMMITDATE` date NOT NULL COMMENT \\"\\",\\n  `LO_SHIPMODE` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_NAME` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_ADDRESS` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_CITY` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_NATION` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_REGION` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_PHONE` varchar(100) NOT NULL COMMENT \\"\\",\\n  `C_MKTSEGMENT` varchar(100) NOT NULL COMMENT \\"\\",\\n  `S_NAME` varchar(100) NOT NULL COMMENT \\"\\",\\n  `S_ADDRESS` varchar(100) NOT NULL COMMENT \\"\\",\\n  `S_CITY` varchar(100) NOT NULL COMMENT \\"\\",\\n  `S_NATION` varchar(100) NOT NULL COMMENT \\"\\",\\n  `S_REGION` varchar(100) NOT NULL COMMENT \\"\\",\\n  `S_PHONE` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_NAME` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_MFGR` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_CATEGORY` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_BRAND` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_COLOR` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_TYPE` varchar(100) NOT NULL COMMENT \\"\\",\\n  `P_SIZE` tinyint(4) NOT NULL COMMENT \\"\\",\\n  `P_CONTAINER` varchar(100) NOT NULL COMMENT \\"\\"\\n) ENGINE=OLAP\\nDUPLICATE KEY(`LO_ORDERDATE`, `LO_ORDERKEY`)\\nCOMMENT \\"OLAP\\"\\nPARTITION BY RANGE(`LO_ORDERDATE`)\\n(PARTITION p1 VALUES [(\'0000-01-01\'), (\'1993-01-01\')),\\nPARTITION p2 VALUES [(\'1993-01-01\'), (\'1994-01-01\')),\\nPARTITION p3 VALUES [(\'1994-01-01\'), (\'1995-01-01\')),\\nPARTITION p4 VALUES [(\'1995-01-01\'), (\'1996-01-01\')),\\nPARTITION p5 VALUES [(\'1996-01-01\'), (\'1997-01-01\')),\\nPARTITION p6 VALUES [(\'1997-01-01\'), (\'1998-01-01\')),\\nPARTITION p7 VALUES [(\'1998-01-01\'), (\'1999-01-01\')))\\nDISTRIBUTED BY HASH(`LO_ORDERKEY`) BUCKETS 48\\nPROPERTIES (\\n\\"replication_num\\" = \\"1\\",\\n\\"colocate_with\\" = \\"groupxx1\\",\\n\\"in_memory\\" = \\"false\\",\\n\\"storage_format\\" = \\"DEFAULT\\"\\n);\\n```\\n\\n### 7.4 \u5bfc\u5165\u6570\u636e\\n\\n\u6211\u4eec\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b8c\u6210 SSB \u6d4b\u8bd5\u96c6\u6240\u6709\u6570\u636e\u5bfc\u5165\u53ca SSB FLAT \u5bbd\u8868\u6570\u636e\u5408\u6210\u5e76\u5bfc\u5165\u5230\u8868\u91cc\u3002\\n\\n\\n```shell\\nsh bin/load-ssb-data.sh -c 10\\n```\\n\\n`-c 5` \u8868\u793a\u542f\u52a8 10 \u4e2a\u5e76\u53d1\u7ebf\u7a0b\u5bfc\u5165\uff08\u9ed8\u8ba4\u4e3a 5\uff09\u3002\u5728\u5355 BE \u8282\u70b9\u60c5\u51b5\u4e0b\uff0c\u7531 `sh gen-ssb-data.sh -s 100 -c 100` \u751f\u6210\u7684 lineorder \u6570\u636e\uff0c\u540c\u65f6\u4f1a\u5728\u6700\u540e\u751f\u6210ssb-flat\u8868\u7684\u6570\u636e\uff0c\u5982\u679c\u5f00\u542f\u66f4\u591a\u7ebf\u7a0b\uff0c\u53ef\u4ee5\u52a0\u5feb\u5bfc\u5165\u901f\u5ea6\uff0c\u4f46\u4f1a\u589e\u52a0\u989d\u5916\u7684\u5185\u5b58\u5f00\u9500\u3002\\n\\n> \u6ce8\uff1a\\n>\\n> 1. \u4e3a\u83b7\u5f97\u66f4\u5feb\u7684\u5bfc\u5165\u901f\u5ea6\uff0c\u4f60\u53ef\u4ee5\u5728 be.conf \u4e2d\u6dfb\u52a0 `flush_thread_num_per_store=5` \u540e\u91cd\u542fBE\u3002\u8be5\u914d\u7f6e\u8868\u793a\u6bcf\u4e2a\u6570\u636e\u76ee\u5f55\u7684\u5199\u76d8\u7ebf\u7a0b\u6570\uff0c\u9ed8\u8ba4\u4e3a2\u3002\u8f83\u5927\u7684\u6570\u636e\u53ef\u4ee5\u63d0\u5347\u5199\u6570\u636e\u541e\u5410\uff0c\u4f46\u53ef\u80fd\u4f1a\u589e\u52a0 IO Util\u3002\uff08\u53c2\u8003\u503c\uff1a1\u5757\u673a\u68b0\u78c1\u76d8\uff0c\u5728\u9ed8\u8ba4\u4e3a2\u7684\u60c5\u51b5\u4e0b\uff0c\u5bfc\u5165\u8fc7\u7a0b\u4e2d\u7684 IO Util \u7ea6\u4e3a12%\uff0c\u8bbe\u7f6e\u4e3a5\u65f6\uff0cIO Util \u7ea6\u4e3a26%\u3002\u5982\u679c\u662f SSD \u76d8\uff0c\u5219\u51e0\u4e4e\u4e3a 0\uff09\u3002\\n>\\n> 2. flat \u8868\u6570\u636e\u91c7\u7528 \'INSERT INTO ... SELECT ... \' \u7684\u65b9\u5f0f\u5bfc\u5165\u3002\\n\\n\\n### 7.5 \u68c0\u67e5\u5bfc\u5165\u6570\u636e\\n\\n```sql\\nselect count(*) from part;\\nselect count(*) from customer;\\nselect count(*) from supplier;\\nselect count(*) from date;\\nselect count(*) from lineorder;\\nselect count(*) from lineorder_flat;\\n```\\n\\n\u6570\u636e\u91cf\u5e94\u548c\u751f\u6210\u6570\u636e\u7684\u884c\u6570\u4e00\u81f4\u3002\\n\\n| Table          | Rows             | Origin Size | Compacted Size(1 Replica) |\\n| -------------- | ---------------- | ----------- | ------------------------- |\\n| lineorder_flat | 6\u4ebf\uff08600037902\uff09 |             | 59.709 GB                 |\\n| lineorder      | 6\u4ebf\uff08600037902\uff09 | 60 GB       | 14.514 GB                 |\\n| customer       | 300\u4e07\uff083000000\uff09 | 277 MB      | 138.247 MB                |\\n| part           | 140\u4e07\uff081400000\uff09 | 116 MB      | 12.759 MB                 |\\n| supplier       | 20\u4e07\uff08200000\uff09   | 17 MB       | 9.143 MB                  |\\n| date           | 2556             | 228 KB      | 34.276 KB                 |\\n\\n### 7.6 \u67e5\u8be2\u6d4b\u8bd5\\n\\nSSB-FlAT \u67e5\u8be2\u8bed\u53e5 \uff1a[ssb-flat-queries](https://github.com/apache/doris/tree/master/tools/ssb-tools/ssb-flat-queries)\\n\\n\\n\u6807\u51c6 SSB \u67e5\u8be2\u8bed\u53e5 \uff1a[ssb-queries](https://github.com/apache/doris/tree/master/tools/ssb-tools/ssb-queries)\\n\\n#### 7.6.1 SSB FLAT \u6d4b\u8bd5 SQL\\n\\n\\n```sql\\n--Q1.1\\nSELECT SUM(LO_EXTENDEDPRICE * LO_DISCOUNT) AS revenue\\nFROM lineorder_flat\\nWHERE  LO_ORDERDATE >= 19930101  AND LO_ORDERDATE <= 19931231 AND LO_DISCOUNT BETWEEN 1 AND 3  AND LO_QUANTITY < 25;\\n--Q1.2\\nSELECT SUM(LO_EXTENDEDPRICE * LO_DISCOUNT) AS revenue\\nFROM lineorder_flat\\nWHERE LO_ORDERDATE >= 19940101 AND LO_ORDERDATE <= 19940131  AND LO_DISCOUNT BETWEEN 4 AND 6 AND LO_QUANTITY BETWEEN 26 AND 35;\\n\\n--Q1.3\\nSELECT SUM(LO_EXTENDEDPRICE * LO_DISCOUNT) AS revenue\\nFROM lineorder_flat\\nWHERE  weekofyear(LO_ORDERDATE) = 6 AND LO_ORDERDATE >= 19940101  AND LO_ORDERDATE <= 19941231 AND LO_DISCOUNT BETWEEN 5 AND 7  AND LO_QUANTITY BETWEEN 26 AND 35;\\n\\n--Q2.1\\nSELECT SUM(LO_REVENUE), (LO_ORDERDATE DIV 10000) AS YEAR, P_BRAND\\nFROM lineorder_flat WHERE P_CATEGORY = \'MFGR#12\' AND S_REGION = \'AMERICA\'\\nGROUP BY YEAR, P_BRAND\\nORDER BY YEAR, P_BRAND;\\n\\n--Q2.2\\nSELECT  SUM(LO_REVENUE), (LO_ORDERDATE DIV 10000) AS YEAR, P_BRAND\\nFROM lineorder_flat\\nWHERE P_BRAND >= \'MFGR#2221\' AND P_BRAND <= \'MFGR#2228\'  AND S_REGION = \'ASIA\'\\nGROUP BY YEAR, P_BRAND\\nORDER BY YEAR, P_BRAND;\\n\\n--Q2.3\\nSELECT SUM(LO_REVENUE), (LO_ORDERDATE DIV 10000) AS YEAR, P_BRAND\\nFROM lineorder_flat\\nWHERE P_BRAND = \'MFGR#2239\' AND S_REGION = \'EUROPE\'\\nGROUP BY YEAR, P_BRAND\\nORDER BY YEAR, P_BRAND;\\n\\n--Q3.1\\nSELECT C_NATION, S_NATION, (LO_ORDERDATE DIV 10000) AS YEAR, SUM(LO_REVENUE) AS revenue\\nFROM lineorder_flat\\nWHERE C_REGION = \'ASIA\' AND S_REGION = \'ASIA\' AND LO_ORDERDATE >= 19920101  AND LO_ORDERDATE <= 19971231\\nGROUP BY C_NATION, S_NATION, YEAR\\nORDER BY YEAR ASC, revenue DESC;\\n\\n--Q3.2\\nSELECT C_CITY, S_CITY, (LO_ORDERDATE DIV 10000) AS YEAR, SUM(LO_REVENUE) AS revenue\\nFROM lineorder_flat\\nWHERE C_NATION = \'UNITED STATES\' AND S_NATION = \'UNITED STATES\' AND LO_ORDERDATE >= 19920101 AND LO_ORDERDATE <= 19971231\\nGROUP BY C_CITY, S_CITY, YEAR\\nORDER BY YEAR ASC, revenue DESC;\\n\\n--Q3.3\\nSELECT C_CITY, S_CITY, (LO_ORDERDATE DIV 10000) AS YEAR, SUM(LO_REVENUE) AS revenue\\nFROM lineorder_flat\\nWHERE C_CITY IN (\'UNITED KI1\', \'UNITED KI5\') AND S_CITY IN (\'UNITED KI1\', \'UNITED KI5\') AND LO_ORDERDATE >= 19920101 AND LO_ORDERDATE <= 19971231\\nGROUP BY C_CITY, S_CITY, YEAR\\nORDER BY YEAR ASC, revenue DESC;\\n\\n--Q3.4\\nSELECT C_CITY, S_CITY, (LO_ORDERDATE DIV 10000) AS YEAR, SUM(LO_REVENUE) AS revenue\\nFROM lineorder_flat\\nWHERE C_CITY IN (\'UNITED KI1\', \'UNITED KI5\') AND S_CITY IN (\'UNITED KI1\', \'UNITED KI5\') AND LO_ORDERDATE >= 19971201  AND LO_ORDERDATE <= 19971231\\nGROUP BY C_CITY, S_CITY, YEAR\\nORDER BY YEAR ASC, revenue DESC;\\n\\n--Q4.1\\nSELECT (LO_ORDERDATE DIV 10000) AS YEAR, C_NATION, SUM(LO_REVENUE - LO_SUPPLYCOST) AS profit\\nFROM lineorder_flat\\nWHERE C_REGION = \'AMERICA\' AND S_REGION = \'AMERICA\' AND P_MFGR IN (\'MFGR#1\', \'MFGR#2\')\\nGROUP BY YEAR, C_NATION\\nORDER BY YEAR ASC, C_NATION ASC;\\n\\n--Q4.2\\nSELECT (LO_ORDERDATE DIV 10000) AS YEAR,S_NATION, P_CATEGORY, SUM(LO_REVENUE - LO_SUPPLYCOST) AS profit\\nFROM lineorder_flat\\nWHERE C_REGION = \'AMERICA\' AND S_REGION = \'AMERICA\' AND LO_ORDERDATE >= 19970101 AND LO_ORDERDATE <= 19981231 AND P_MFGR IN (\'MFGR#1\', \'MFGR#2\')\\nGROUP BY YEAR, S_NATION, P_CATEGORY\\nORDER BY YEAR ASC, S_NATION ASC, P_CATEGORY ASC;\\n\\n--Q4.3\\nSELECT (LO_ORDERDATE DIV 10000) AS YEAR, S_CITY, P_BRAND, SUM(LO_REVENUE - LO_SUPPLYCOST) AS profit\\nFROM lineorder_flat\\nWHERE S_NATION = \'UNITED STATES\' AND LO_ORDERDATE >= 19970101 AND LO_ORDERDATE <= 19981231 AND P_CATEGORY = \'MFGR#14\'\\nGROUP BY YEAR, S_CITY, P_BRAND\\nORDER BY YEAR ASC, S_CITY ASC, P_BRAND ASC;\\n```\\n\\n\\n\\n#### **7.6.2 SSB \u6807\u51c6\u6d4b\u8bd5 SQL**\\n\\n```sql\\n--Q1.1\\nSELECT SUM(lo_extendedprice * lo_discount) AS REVENUE\\nFROM lineorder, dates\\nWHERE\\n    lo_orderdate = d_datekey\\n    AND d_year = 1993\\n    AND lo_discount BETWEEN 1 AND 3\\n    AND lo_quantity < 25;\\n--Q1.2\\nSELECT SUM(lo_extendedprice * lo_discount) AS REVENUE\\nFROM lineorder, dates\\nWHERE\\n    lo_orderdate = d_datekey\\n    AND d_yearmonth = \'Jan1994\'\\n    AND lo_discount BETWEEN 4 AND 6\\n    AND lo_quantity BETWEEN 26 AND 35;\\n    \\n--Q1.3\\nSELECT\\n    SUM(lo_extendedprice * lo_discount) AS REVENUE\\nFROM lineorder, dates\\nWHERE\\n    lo_orderdate = d_datekey\\n    AND d_weeknuminyear = 6\\n    AND d_year = 1994\\n    AND lo_discount BETWEEN 5 AND 7\\n    AND lo_quantity BETWEEN 26 AND 35;\\n    \\n--Q2.1\\nSELECT SUM(lo_revenue), d_year, p_brand\\nFROM lineorder, dates, part, supplier\\nWHERE\\n    lo_orderdate = d_datekey\\n    AND lo_partkey = p_partkey\\n    AND lo_suppkey = s_suppkey\\n    AND p_category = \'MFGR#12\'\\n    AND s_region = \'AMERICA\'\\nGROUP BY d_year, p_brand\\nORDER BY p_brand;\\n\\n--Q2.2\\nSELECT SUM(lo_revenue), d_year, p_brand\\nFROM lineorder, dates, part, supplier\\nWHERE\\n    lo_orderdate = d_datekey\\n    AND lo_partkey = p_partkey\\n    AND lo_suppkey = s_suppkey\\n    AND p_brand BETWEEN \'MFGR#2221\' AND \'MFGR#2228\'\\n    AND s_region = \'ASIA\'\\nGROUP BY d_year, p_brand\\nORDER BY d_year, p_brand;\\n\\n--Q2.3\\nSELECT SUM(lo_revenue), d_year, p_brand\\nFROM lineorder, dates, part, supplier\\nWHERE\\n    lo_orderdate = d_datekey\\n    AND lo_partkey = p_partkey\\n    AND lo_suppkey = s_suppkey\\n    AND p_brand = \'MFGR#2239\'\\n    AND s_region = \'EUROPE\'\\nGROUP BY d_year, p_brand\\nORDER BY d_year, p_brand;\\n\\n--Q3.1\\nSELECT\\n    c_nation,\\n    s_nation,\\n    d_year,\\n    SUM(lo_revenue) AS REVENUE\\nFROM customer, lineorder, supplier, dates\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_orderdate = d_datekey\\n    AND c_region = \'ASIA\'\\n    AND s_region = \'ASIA\'\\n    AND d_year >= 1992\\n    AND d_year <= 1997\\nGROUP BY c_nation, s_nation, d_year\\nORDER BY d_year ASC, REVENUE DESC;\\n\\n--Q3.2\\nSELECT\\n    c_city,\\n    s_city,\\n    d_year,\\n    SUM(lo_revenue) AS REVENUE\\nFROM customer, lineorder, supplier, dates\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_orderdate = d_datekey\\n    AND c_nation = \'UNITED STATES\'\\n    AND s_nation = \'UNITED STATES\'\\n    AND d_year >= 1992\\n    AND d_year <= 1997\\nGROUP BY c_city, s_city, d_year\\nORDER BY d_year ASC, REVENUE DESC;\\n\\n--Q3.3\\nSELECT\\n    c_city,\\n    s_city,\\n    d_year,\\n    SUM(lo_revenue) AS REVENUE\\nFROM customer, lineorder, supplier, dates\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_orderdate = d_datekey\\n    AND (\\n        c_city = \'UNITED KI1\'\\n        OR c_city = \'UNITED KI5\'\\n    )\\n    AND (\\n        s_city = \'UNITED KI1\'\\n        OR s_city = \'UNITED KI5\'\\n    )\\n    AND d_year >= 1992\\n    AND d_year <= 1997\\nGROUP BY c_city, s_city, d_year\\nORDER BY d_year ASC, REVENUE DESC;\\n\\n--Q3.4\\nSELECT\\n    c_city,\\n    s_city,\\n    d_year,\\n    SUM(lo_revenue) AS REVENUE\\nFROM customer, lineorder, supplier, dates\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_orderdate = d_datekey\\n    AND (\\n        c_city = \'UNITED KI1\'\\n        OR c_city = \'UNITED KI5\'\\n    )\\n    AND (\\n        s_city = \'UNITED KI1\'\\n        OR s_city = \'UNITED KI5\'\\n    )\\n    AND d_yearmonth = \'Dec1997\'\\nGROUP BY c_city, s_city, d_year\\nORDER BY d_year ASC, REVENUE DESC;\\n\\n--Q4.1\\nSELECT /*+SET_VAR(parallel_fragment_exec_instance_num=4, enable_vectorized_engine=true, batch_size=4096, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    d_year,\\n    c_nation,\\n    SUM(lo_revenue - lo_supplycost) AS PROFIT\\nFROM dates, customer, supplier, part, lineorder\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_partkey = p_partkey\\n    AND lo_orderdate = d_datekey\\n    AND c_region = \'AMERICA\'\\n    AND s_region = \'AMERICA\'\\n    AND (\\n        p_mfgr = \'MFGR#1\'\\n        OR p_mfgr = \'MFGR#2\'\\n    )\\nGROUP BY d_year, c_nation\\nORDER BY d_year, c_nation;\\n\\n--Q4.2\\nSELECT /*+SET_VAR(parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, enable_cost_based_join_reorder=true, enable_projection=true) */  \\n    d_year,\\n    s_nation,\\n    p_category,\\n    SUM(lo_revenue - lo_supplycost) AS PROFIT\\nFROM dates, customer, supplier, part, lineorder\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_partkey = p_partkey\\n    AND lo_orderdate = d_datekey\\n    AND c_region = \'AMERICA\'\\n    AND s_region = \'AMERICA\'\\n    AND (\\n        d_year = 1997\\n        OR d_year = 1998\\n    )\\n    AND (\\n        p_mfgr = \'MFGR#1\'\\n        OR p_mfgr = \'MFGR#2\'\\n    )\\nGROUP BY d_year, s_nation, p_category\\nORDER BY d_year, s_nation, p_category;\\n\\n--Q4.3\\nSELECT /*+SET_VAR(parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    d_year,\\n    s_city,\\n    p_brand,\\n    SUM(lo_revenue - lo_supplycost) AS PROFIT\\nFROM dates, customer, supplier, part, lineorder\\nWHERE\\n    lo_custkey = c_custkey\\n    AND lo_suppkey = s_suppkey\\n    AND lo_partkey = p_partkey\\n    AND lo_orderdate = d_datekey\\n    AND s_nation = \'UNITED STATES\'\\n    AND (\\n        d_year = 1997\\n        OR d_year = 1998\\n    )\\n    AND p_category = \'MFGR#14\'\\nGROUP BY d_year, s_city, p_brand\\nORDER BY d_year, s_city, p_brand;\\n```"},{"id":"/tpch","metadata":{"permalink":"/zh-CN/blog/tpch","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/tpch.md","title":"Apache Doris 1.2 TPC-H \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","description":"\x3c!--","date":"2022-11-22T00:00:00.000Z","formattedDate":"2022\u5e7411\u670822\u65e5","tags":[{"label":"\u6280\u672f\u89e3\u6790","permalink":"/zh-CN/blog/tags/\u6280\u672f\u89e3\u6790"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris 1.2 TPC-H \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","summary":"\u5728 TPC-H \u6807\u51c6\u6d4b\u8bd5\u6570\u636e\u96c6\u4e0a\u7684 22 \u4e2a\u67e5\u8be2\u4e0a\uff0c\u6211\u4eec\u57fa\u4e8e Apache Doris 1.2.0-rc01\uff0c Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04 \u7248\u672c\u8fdb\u884c\u4e86\u5bf9\u522b\u6d4b\u8bd5\uff0c Apache Doris 1.2.0-rc01\u4e0a\u76f8\u5bf9 Apache Doris 1.1.3 \u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd1 3 \u500d\uff0c\u76f8\u5bf9\u4e8e Apache Doris 0.15.0 RC04 ,\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd1 11 \u500d","date":"2022-11-22","author":"Apache Doris","tags":["\u6280\u672f\u89e3\u6790"]},"prevItem":{"title":"Apache Doris 1.2 Star-Schema-Benchmark \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","permalink":"/zh-CN/blog/ssb"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.4 Release","permalink":"/zh-CN/blog/release-1.1.4"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# TPC-H Benchmark\\n\\nTPC-H\u662f\u4e00\u4e2a\u51b3\u7b56\u652f\u6301\u57fa\u51c6\uff08Decision Support Benchmark\uff09\uff0c\u5b83\u7531\u4e00\u5957\u9762\u5411\u4e1a\u52a1\u7684\u7279\u522b\u67e5\u8be2\u548c\u5e76\u53d1\u6570\u636e\u4fee\u6539\u7ec4\u6210\u3002\u67e5\u8be2\u548c\u586b\u5145\u6570\u636e\u5e93\u7684\u6570\u636e\u5177\u6709\u5e7f\u6cdb\u7684\u884c\u4e1a\u76f8\u5173\u6027\u3002\u8fd9\u4e2a\u57fa\u51c6\u6d4b\u8bd5\u6f14\u793a\u4e86\u68c0\u67e5\u5927\u91cf\u6570\u636e\u3001\u6267\u884c\u9ad8\u5ea6\u590d\u6742\u7684\u67e5\u8be2\u5e76\u56de\u7b54\u5173\u952e\u4e1a\u52a1\u95ee\u9898\u7684\u51b3\u7b56\u652f\u6301\u7cfb\u7edf\u3002TPC-H\u62a5\u544a\u7684\u6027\u80fd\u6307\u6807\u79f0\u4e3aTPC-H\u6bcf\u5c0f\u65f6\u590d\u5408\u67e5\u8be2\u6027\u80fd\u6307\u6807(QphH@Size)\uff0c\u53cd\u6620\u4e86\u7cfb\u7edf\u5904\u7406\u67e5\u8be2\u80fd\u529b\u7684\u591a\u4e2a\u65b9\u9762\u3002\u8fd9\u4e9b\u65b9\u9762\u5305\u62ec\u6267\u884c\u67e5\u8be2\u65f6\u6240\u9009\u62e9\u7684\u6570\u636e\u5e93\u5927\u5c0f\uff0c\u7531\u5355\u4e2a\u6d41\u63d0\u4ea4\u67e5\u8be2\u65f6\u7684\u67e5\u8be2\u5904\u7406\u80fd\u529b\uff0c\u4ee5\u53ca\u7531\u591a\u4e2a\u5e76\u53d1\u7528\u6237\u63d0\u4ea4\u67e5\u8be2\u65f6\u7684\u67e5\u8be2\u541e\u5410\u91cf\u3002\\n\\n\u672c\u6587\u6863\u4e3b\u8981\u4ecb\u7ecd Doris \u5728 TPC-H 100G \u6d4b\u8bd5\u96c6\u4e0a\u7684\u6027\u80fd\u8868\u73b0\u3002\\n\\n> \u6ce81\uff1a\u5305\u62ec TPC-H \u5728\u5185\u7684\u6807\u51c6\u6d4b\u8bd5\u96c6\u901a\u5e38\u548c\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u5dee\u8ddd\u8f83\u5927\uff0c\u5e76\u4e14\u90e8\u5206\u6d4b\u8bd5\u4f1a\u9488\u5bf9\u6d4b\u8bd5\u96c6\u8fdb\u884c\u53c2\u6570\u8c03\u4f18\u3002\u6240\u4ee5\u6807\u51c6\u6d4b\u8bd5\u96c6\u7684\u6d4b\u8bd5\u7ed3\u679c\u4ec5\u80fd\u53cd\u6620\u6570\u636e\u5e93\u5728\u7279\u5b9a\u573a\u666f\u4e0b\u7684\u6027\u80fd\u8868\u73b0\u3002\u5efa\u8bae\u7528\u6237\u4f7f\u7528\u5b9e\u9645\u4e1a\u52a1\u6570\u636e\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u6d4b\u8bd5\u3002\\n>\\n> \u6ce82\uff1a\u672c\u6587\u6863\u6d89\u53ca\u7684\u64cd\u4f5c\u90fd\u5728 CentOS 7.x \u4e0a\u8fdb\u884c\u6d4b\u8bd5\u3002\\n\\n\u5728 TPC-H \u6807\u51c6\u6d4b\u8bd5\u6570\u636e\u96c6\u4e0a\u7684 22 \u4e2a\u67e5\u8be2\u4e0a\uff0c\u6211\u4eec\u57fa\u4e8e Apache Doris 1.2.0-rc01\uff0c Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04 \u7248\u672c\u8fdb\u884c\u4e86\u5bf9\u522b\u6d4b\u8bd5\uff0c Apache Doris 1.2.0-rc01\u4e0a\u76f8\u5bf9 Apache Doris 1.1.3 \u6574\u4f53\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd1 3 \u500d\uff0c\u76f8\u5bf9\u4e8e Apache Doris 0.15.0 RC04 ,\u6027\u80fd\u63d0\u5347\u4e86\u5c06\u8fd1 11 \u500d \u3002\\n\\n![image-20220614114351241](/images/tpch.png)\\n\\n## 1. \u786c\u4ef6\u73af\u5883\\n\\n| \u786c\u4ef6     | \u914d\u7f6e\u8bf4\u660e                                                     |\\n| -------- | ------------------------------------ |\\n| \u673a\u5668\u6570\u91cf | 4 \u53f0\u817e\u8baf\u4e91\u4e3b\u673a\uff081\u4e2aFE\uff0c3\u4e2aBE\uff09       |\\n| CPU      | Intel Xeon(Cascade Lake) Platinum 8269CY  16\u6838  (2.5 GHz/3.2 GHz) |\\n| \u5185\u5b58     | 64G                                  |\\n| \u7f51\u7edc\u5e26\u5bbd  | 5Gbps                              |\\n| \u78c1\u76d8     | ESSD\u4e91\u786c\u76d8                      |\\n\\n## 2. \u8f6f\u4ef6\u73af\u5883\\n\\n- Doris\u90e8\u7f72 3BE 1FE\uff1b\\n- \u5185\u6838\u7248\u672c\uff1aLinux version 5.4.0-96-generic (buildd@lgw01-amd64-051)\\n- \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\uff1aCentOS 7.8\\n- Doris \u8f6f\u4ef6\u7248\u672c\uff1a Apache Doris 1.2.0-rc01\u3001 Apache Doris 1.1.3 \u3001 Apache Doris 0.15.0 RC04\\n- JDK\uff1aopenjdk version \\"11.0.14\\" 2022-01-18\\n\\n## 3. \u6d4b\u8bd5\u6570\u636e\u91cf\\n\\n\u6574\u4e2a\u6d4b\u8bd5\u6a21\u62df\u751f\u6210 TPCH 100G \u7684\u6570\u636e\u5206\u522b\u5bfc\u5165\u5230 Apache Doris 1.2.0-rc01\uff0c Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04  \u7248\u672c\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4e0b\u9762\u662f\u8868\u7684\u76f8\u5173\u8bf4\u660e\u53ca\u6570\u636e\u91cf\u3002\\n\\n| TPC-H\u8868\u540d | \u884c\u6570   | \u5bfc\u5165\u540e\u5927\u5c0f | \u5907\u6ce8         |\\n| :-------- | :----- | ---------- | :----------- |\\n| REGION    | 5      | 400KB      | \u533a\u57df\u8868       |\\n| NATION    | 25     | 7.714 KB   | \u56fd\u5bb6\u8868       |\\n| SUPPLIER  | 100\u4e07  | 85.528 MB  | \u4f9b\u5e94\u5546\u8868     |\\n| PART      | 2000\u4e07 | 752.330 MB | \u96f6\u90e8\u4ef6\u8868     |\\n| PARTSUPP  | 8000\u4e07 | 4.375 GB   | \u96f6\u90e8\u4ef6\u4f9b\u5e94\u8868 |\\n| CUSTOMER  | 1500\u4e07 | 1.317 GB   | \u5ba2\u6237\u8868       |\\n| ORDERS    | 1.5\u4ebf  | 6.301 GB   | \u8ba2\u5355\u8868       |\\n| LINEITEM  | 6\u4ebf    | 20.882 GB  | \u8ba2\u5355\u660e\u7ec6\u8868   |\\n\\n## 4. \u6d4b\u8bd5SQL\\n\\nTPCH 22 \u4e2a\u6d4b\u8bd5\u67e5\u8be2\u8bed\u53e5 \uff1a [TPCH-Query-SQL](https://github.com/apache/incubator-doris/tree/master/tools/tpch-tools/queries)\\n\\n**\u6ce8\u610f\uff1a**\\n\\n\u4ee5\u4e0a SQL \u4e2d\u7684\u4ee5\u4e0b\u56db\u4e2a\u53c2\u6570\u5728 Apache Doris 0.15.0 RC04 \u4e2d\u4e0d\u5b58\u5728\uff0c\u5728\u6267\u884c\u7684\u65f6\u5019\uff0c\u53bb\u6389\uff1a\\n\\n```\\n1. enable_vectorized_engine=true,\\n2. batch_size=4096,\\n3. disable_join_reorder=false\\n4. enable_projection=true\\n```\\n\\n## 5. \u6d4b\u8bd5\u7ed3\u679c\\n\\n\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 Apache Doris 1.2.0-rc01\uff0c Apache Doris 1.1.3 \u53ca Apache Doris 0.15.0 RC04 \u7248\u672c\u8fdb\u884c\u5bf9\u6bd4\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n| Query    | Apache Doris 1.2.0-rc01 (s) | Apache Doris 1.1.3 (s) | Apache Doris 0.15.0 RC04 (s) |\\n| -------- | --------------------------- | ---------------------- | ---------------------------- |\\n| Q1       | 2.12                        | 3.75                   | 28.63                        |\\n| Q2       | 0.20                        | 4.22                   | 7.88                         |\\n| Q3       | 0.62                        | 2.64                   | 9.39                         |\\n| Q4       | 0.61                        | 1.5                    | 9.3                          |\\n| Q5       | 1.05                        | 2.15                   | 4.11                         |\\n| Q6       | 0.08                        | 0.19                   | 0.43                         |\\n| Q7       | 0.58                        | 1.04                   | 1.61                         |\\n| Q8       | 0.72                        | 1.75                   | 50.35                        |\\n| Q9       | 3.61                        | 7.94                   | 16.34                        |\\n| Q10      | 1.26                        | 1.41                   | 5.21                         |\\n| Q11      | 0.15                        | 0.35                   | 1.72                         |\\n| Q12      | 0.21                        | 0.57                   | 5.39                         |\\n| Q13      | 2.62                        | 8.15                   | 20.88                        |\\n| Q14      | 0.16                        | 0.3                    |                              |\\n| Q15      | 0.30                        | 0.66                   | 1.86                         |\\n| Q16      | 0.38                        | 0.79                   | 1.32                         |\\n| Q17      | 0.65                        | 1.51                   | 26.67                        |\\n| Q18      | 2.28                        | 3.364                  | 11.77                        |\\n| Q19      | 0.20                        | 0.829                  | 1.71                         |\\n| Q20      | 0.21                        | 2.77                   | 5.2                          |\\n| Q21      | 1.17                        | 4.47                   | 10.34                        |\\n| Q22      | 0.46                        | 0.9                    | 3.22                         |\\n| **\u5408\u8ba1** | **19.64**                   | **51.253**             | **223.33**                   |\\n\\n**\u7ed3\u679c\u8bf4\u660e**\\n\\n- \u6d4b\u8bd5\u7ed3\u679c\u5bf9\u5e94\u7684\u6570\u636e\u96c6\u4e3ascale 100, \u7ea66\u4ebf\u6761\u3002\\n- \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e\u4e3a\u7528\u6237\u5e38\u7528\u914d\u7f6e\uff0c\u4e91\u670d\u52a1\u56684\u53f0\uff0c16\u6838 64G SSD\uff0c1 FE 3 BE \u90e8\u7f72\u3002\\n- \u9009\u7528\u7528\u6237\u5e38\u89c1\u914d\u7f6e\u6d4b\u8bd5\u4ee5\u964d\u4f4e\u7528\u6237\u9009\u578b\u8bc4\u4f30\u6210\u672c\uff0c\u4f46\u6574\u4e2a\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u6d88\u8017\u5982\u6b64\u591a\u7684\u786c\u4ef6\u8d44\u6e90\u3002\\n- Apache Doris 0.15 RC04 \u5728 TPC-H \u6d4b\u8bd5\u4e2d Q14 \u6267\u884c\u5931\u8d25\uff0c\u65e0\u6cd5\u5b8c\u6210\u67e5\u8be2\u3002\\n\\n## 6. \u73af\u5883\u51c6\u5907\\n\\n\u8bf7\u5148\u53c2\u7167 [\u5b98\u65b9\u6587\u6863](../install/install-deploy.md) \u8fdb\u884c Doris \u7684\u5b89\u88c5\u90e8\u7f72\uff0c\u4ee5\u83b7\u5f97\u4e00\u4e2a\u6b63\u5e38\u8fd0\u884c\u4e2d\u7684 Doris \u96c6\u7fa4\uff08\u81f3\u5c11\u5305\u542b 1 FE 1 BE\uff0c\u63a8\u8350 1 FE 3 BE\uff09\u3002\\n\\n## 7. \u6570\u636e\u51c6\u5907\\n\\n### 7.1 \u4e0b\u8f7d\u5b89\u88c5 TPC-H \u6570\u636e\u751f\u6210\u5de5\u5177\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u4e0b\u8f7d\u5e76\u7f16\u8bd1  [tpch-tools](https://github.com/apache/incubator-doris/tree/master/tools/tpch-tools)  \u5de5\u5177\u3002\\n\\n```shell\\nsh build-tpch-dbgen.sh\\n```\\n\\n\u5b89\u88c5\u6210\u529f\u540e\uff0c\u5c06\u5728 `TPC-H_Tools_v3.0.0/` \u76ee\u5f55\u4e0b\u751f\u6210 `dbgen` \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\\n\\n### 7.2 \u751f\u6210 TPC-H \u6d4b\u8bd5\u96c6\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u751f\u6210 TPC-H \u6570\u636e\u96c6\uff1a\\n\\n```shell\\nsh gen-tpch-data.sh\\n```\\n\\n> \u6ce81\uff1a\u901a\u8fc7 `sh gen-tpch-data.sh -h` \u67e5\u770b\u811a\u672c\u5e2e\u52a9\u3002\\n>\\n> \u6ce82\uff1a\u6570\u636e\u4f1a\u4ee5 `.tbl` \u4e3a\u540e\u7f00\u751f\u6210\u5728  `tpch-data/` \u76ee\u5f55\u4e0b\u3002\u6587\u4ef6\u603b\u5927\u5c0f\u7ea6100GB\u3002\u751f\u6210\u65f6\u95f4\u53ef\u80fd\u5728\u6570\u5206\u949f\u52301\u5c0f\u65f6\u4e0d\u7b49\u3002\\n>\\n> \u6ce83\uff1a\u9ed8\u8ba4\u751f\u6210 100G \u7684\u6807\u51c6\u6d4b\u8bd5\u6570\u636e\u96c6\\n\\n### 7.3 \u5efa\u8868\\n\\n#### 7.3.1 \u51c6\u5907 `doris-cluster.conf` \u6587\u4ef6\\n\\n\u5728\u8c03\u7528\u5bfc\u5165\u811a\u672c\u524d\uff0c\u9700\u8981\u5c06 FE \u7684 ip \u7aef\u53e3\u7b49\u4fe1\u606f\u5199\u5728 `doris-cluster.conf` \u6587\u4ef6\u4e2d\u3002\\n\\n\u6587\u4ef6\u4f4d\u7f6e\u548c `load-tpch-data.sh` \u5e73\u7ea7\u3002\\n\\n\u6587\u4ef6\u5185\u5bb9\u5305\u62ec FE \u7684 ip\uff0cHTTP \u7aef\u53e3\uff0c\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4ee5\u53ca\u5f85\u5bfc\u5165\u6570\u636e\u7684 DB \u540d\u79f0\uff1a\\n\\n```shell\\n# Any of FE host\\nexport FE_HOST=\'127.0.0.1\'\\n# http_port in fe.conf\\nexport FE_HTTP_PORT=8030\\n# query_port in fe.conf\\nexport FE_QUERY_PORT=9030\\n# Doris username\\nexport USER=\'root\'\\n# Doris password\\nexport PASSWORD=\'\'\\n# The database where TPC-H tables located\\nexport DB=\'tpch1\'\\n```\\n\\n#### 7.3.2 \u6267\u884c\u4ee5\u4e0b\u811a\u672c\u751f\u6210\u521b\u5efa TPC-H \u8868\\n\\n```shell\\nsh create-tpch-tables.sh\\n```\\n\u6216\u8005\u590d\u5236 [create-tpch-tables.sql](https://github.com/apache/incubator-doris/blob/master/tools/tpch-tools/create-tpch-tables.sql) \u4e2d\u7684\u5efa\u8868\u8bed\u53e5\uff0c\u5728 Doris \u4e2d\u6267\u884c\u3002\\n\\n\\n### 7.4 \u5bfc\u5165\u6570\u636e\\n\\n\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6267\u884c\u6570\u636e\u5bfc\u5165\uff1a\\n\\n```shell\\nsh ./load-tpch-data.sh\\n```\\n\\n### 7.5 \u68c0\u67e5\u5bfc\u5165\u6570\u636e\\n\\n\u6267\u884c\u4e0b\u9762\u7684 SQL \u8bed\u53e5\u68c0\u67e5\u5bfc\u5165\u7684\u6570\u636e\u4e0e\u4e0a\u9762\u7684\u6570\u636e\u91cf\u662f\u4e00\u81f4\u3002\\n\\n```sql\\nselect count(*)  from  lineitem;\\nselect count(*)  from  orders;\\nselect count(*)  from  partsupp;\\nselect count(*)  from  part;\\nselect count(*)  from  customer;\\nselect count(*)  from  supplier;\\nselect count(*)  from  nation;\\nselect count(*)  from  region;\\nselect count(*)  from  revenue0;\\n```\\n\\n### 7.6 \u67e5\u8be2\u6d4b\u8bd5\\n\\n## 7.6.1 \u6267\u884c\u67e5\u8be2\u811a\u672c\\n\\n\u6267\u884c\u4e0a\u9762\u7684\u6d4b\u8bd5 SQL \u6216\u8005 \u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\\n\\n```\\n./run-tpch-queries.sh\\n```\\n\\n>\u6ce8\u610f\uff1a\\n>\\n>1. \u76ee\u524dDoris\u7684\u67e5\u8be2\u4f18\u5316\u5668\u548c\u7edf\u8ba1\u4fe1\u606f\u529f\u80fd\u8fd8\u4e0d\u5b8c\u5584\uff0c\u6240\u4ee5\u6211\u4eec\u5728TPC-H\u4e2d\u91cd\u5199\u4e86\u4e00\u4e9b\u67e5\u8be2\u4ee5\u9002\u5e94Doris\u7684\u6267\u884c\u6846\u67b6\uff0c\u4f46\u4e0d\u5f71\u54cd\u7ed3\u679c\u7684\u6b63\u786e\u6027\\n>\\n>2. Doris \u65b0\u7684\u67e5\u8be2\u4f18\u5316\u5668\u5c06\u5728\u540e\u7eed\u7684\u7248\u672c\u4e2d\u53d1\u5e03\\n>3. \u6267\u884c\u67e5\u8be2\u4e4b\u524d\u8bbe\u7f6e `set mem_exec_limit=8G`\\n\\n## 7.6.2 \u5355\u4e2a SQL \u6267\u884c\\n\\n\u4e0b\u9762\u662f\u6d4b\u8bd5\u65f6\u4f7f\u7528\u7684 SQL \u8bed\u53e5\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4ece\u4ee3\u7801\u5e93\u91cc\u83b7\u53d6\u6700\u65b0\u7684 SQL \u3002\u6700\u65b0\u6d4b\u8bd5\u67e5\u8be2\u8bed\u53e5\u5730\u5740\uff1a[TPC-H \u6d4b\u8bd5\u67e5\u8be2\u8bed\u53e5](https://github.com/apache/doris/tree/master/tools/tpch-tools/queries)\\n\\n```sql\\n--Q1\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=false, enable_projection=false) */\\n    l_returnflag,\\n    l_linestatus,\\n    sum(l_quantity) as sum_qty,\\n    sum(l_extendedprice) as sum_base_price,\\n    sum(l_extendedprice * (1 - l_discount)) as sum_disc_price,\\n    sum(l_extendedprice * (1 - l_discount) * (1 + l_tax)) as sum_charge,\\n    avg(l_quantity) as avg_qty,\\n    avg(l_extendedprice) as avg_price,\\n    avg(l_discount) as avg_disc,\\n    count(*) as count_order\\nfrom\\n    lineitem\\nwhere\\n    l_shipdate <= date \'1998-12-01\' - interval \'90\' day\\ngroup by\\n    l_returnflag,\\n    l_linestatus\\norder by\\n    l_returnflag,\\n    l_linestatus;\\n\\n--Q2\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=1, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    s_acctbal,\\n    s_name,\\n    n_name,\\n    p_partkey,\\n    p_mfgr,\\n    s_address,\\n    s_phone,\\n    s_comment\\nfrom\\n    partsupp join\\n    (\\n        select\\n            ps_partkey as a_partkey,\\n            min(ps_supplycost) as a_min\\n        from\\n            partsupp,\\n            part,\\n            supplier,\\n            nation,\\n            region\\n        where\\n            p_partkey = ps_partkey\\n            and s_suppkey = ps_suppkey\\n            and s_nationkey = n_nationkey\\n            and n_regionkey = r_regionkey\\n            and r_name = \'EUROPE\'\\n            and p_size = 15\\n            and p_type like \'%BRASS\'\\n        group by a_partkey\\n    ) A on ps_partkey = a_partkey and ps_supplycost=a_min ,\\n    part,\\n    supplier,\\n    nation,\\n    region\\nwhere\\n    p_partkey = ps_partkey\\n    and s_suppkey = ps_suppkey\\n    and p_size = 15\\n    and p_type like \'%BRASS\'\\n    and s_nationkey = n_nationkey\\n    and n_regionkey = r_regionkey\\n    and r_name = \'EUROPE\'\\n\\norder by\\n    s_acctbal desc,\\n    n_name,\\n    s_name,\\n    p_partkey\\nlimit 100;\\n\\n--Q3\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=false, enable_projection=true, runtime_filter_wait_time_ms=10000) */\\n    l_orderkey,\\n    sum(l_extendedprice * (1 - l_discount)) as revenue,\\n    o_orderdate,\\n    o_shippriority\\nfrom\\n    (\\n        select l_orderkey, l_extendedprice, l_discount, o_orderdate, o_shippriority, o_custkey from\\n        lineitem join orders\\n        where l_orderkey = o_orderkey\\n        and o_orderdate < date \'1995-03-15\'\\n        and l_shipdate > date \'1995-03-15\'\\n    ) t1 join customer c \\n    on c.c_custkey = t1.o_custkey\\n    where c_mktsegment = \'BUILDING\'\\ngroup by\\n    l_orderkey,\\n    o_orderdate,\\n    o_shippriority\\norder by\\n    revenue desc,\\n    o_orderdate\\nlimit 10;\\n\\n--Q4\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=4, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    o_orderpriority,\\n    count(*) as order_count\\nfrom\\n    (\\n        select\\n            *\\n        from\\n            lineitem\\n        where l_commitdate < l_receiptdate\\n    ) t1\\n    right semi join orders\\n    on t1.l_orderkey = o_orderkey\\nwhere\\n    o_orderdate >= date \'1993-07-01\'\\n    and o_orderdate < date \'1993-07-01\' + interval \'3\' month\\ngroup by\\n    o_orderpriority\\norder by\\n    o_orderpriority;\\n\\n--Q5\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    n_name,\\n    sum(l_extendedprice * (1 - l_discount)) as revenue\\nfrom\\n    customer,\\n    orders,\\n    lineitem,\\n    supplier,\\n    nation,\\n    region\\nwhere\\n    c_custkey = o_custkey\\n    and l_orderkey = o_orderkey\\n    and l_suppkey = s_suppkey\\n    and c_nationkey = s_nationkey\\n    and s_nationkey = n_nationkey\\n    and n_regionkey = r_regionkey\\n    and r_name = \'ASIA\'\\n    and o_orderdate >= date \'1994-01-01\'\\n    and o_orderdate < date \'1994-01-01\' + interval \'1\' year\\ngroup by\\n    n_name\\norder by\\n    revenue desc;\\n\\n--Q6\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=1, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    sum(l_extendedprice * l_discount) as revenue\\nfrom\\n    lineitem\\nwhere\\n    l_shipdate >= date \'1994-01-01\'\\n    and l_shipdate < date \'1994-01-01\' + interval \'1\' year\\n    and l_discount between .06 - 0.01 and .06 + 0.01\\n    and l_quantity < 24;\\n\\n--Q7\\nselect /*+SET_VAR(exec_mem_limit=458589934592, parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    supp_nation,\\n    cust_nation,\\n    l_year,\\n    sum(volume) as revenue\\nfrom\\n    (\\n        select\\n            n1.n_name as supp_nation,\\n            n2.n_name as cust_nation,\\n            extract(year from l_shipdate) as l_year,\\n            l_extendedprice * (1 - l_discount) as volume\\n        from\\n            supplier,\\n            lineitem,\\n            orders,\\n            customer,\\n            nation n1,\\n            nation n2\\n        where\\n            s_suppkey = l_suppkey\\n            and o_orderkey = l_orderkey\\n            and c_custkey = o_custkey\\n            and s_nationkey = n1.n_nationkey\\n            and c_nationkey = n2.n_nationkey\\n            and (\\n                (n1.n_name = \'FRANCE\' and n2.n_name = \'GERMANY\')\\n                or (n1.n_name = \'GERMANY\' and n2.n_name = \'FRANCE\')\\n            )\\n            and l_shipdate between date \'1995-01-01\' and date \'1996-12-31\'\\n    ) as shipping\\ngroup by\\n    supp_nation,\\n    cust_nation,\\n    l_year\\norder by\\n    supp_nation,\\n    cust_nation,\\n    l_year;\\n\\n--Q8\\n\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    o_year,\\n    sum(case\\n        when nation = \'BRAZIL\' then volume\\n        else 0\\n    end) / sum(volume) as mkt_share\\nfrom\\n    (\\n        select\\n            extract(year from o_orderdate) as o_year,\\n            l_extendedprice * (1 - l_discount) as volume,\\n            n2.n_name as nation\\n        from\\n            lineitem,\\n            orders,\\n            customer,\\n            supplier,\\n            part,\\n            nation n1,\\n            nation n2,\\n            region\\n        where\\n            p_partkey = l_partkey\\n            and s_suppkey = l_suppkey\\n            and l_orderkey = o_orderkey\\n            and o_custkey = c_custkey\\n            and c_nationkey = n1.n_nationkey\\n            and n1.n_regionkey = r_regionkey\\n            and r_name = \'AMERICA\'\\n            and s_nationkey = n2.n_nationkey\\n            and o_orderdate between date \'1995-01-01\' and date \'1996-12-31\'\\n            and p_type = \'ECONOMY ANODIZED STEEL\'\\n    ) as all_nations\\ngroup by\\n    o_year\\norder by\\n    o_year;\\n\\n--Q9\\nselect/*+SET_VAR(exec_mem_limit=37179869184, parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=false, enable_projection=true, enable_remove_no_conjuncts_runtime_filter_policy=true, runtime_filter_wait_time_ms=100000) */\\n    nation,\\n    o_year,\\n    sum(amount) as sum_profit\\nfrom\\n    (\\n        select\\n            n_name as nation,\\n            extract(year from o_orderdate) as o_year,\\n            l_extendedprice * (1 - l_discount) - ps_supplycost * l_quantity as amount\\n        from\\n            lineitem join orders on o_orderkey = l_orderkey\\n            join[shuffle] part on p_partkey = l_partkey\\n            join[shuffle] partsupp on ps_partkey = l_partkey\\n            join[shuffle] supplier on s_suppkey = l_suppkey\\n            join[broadcast] nation on s_nationkey = n_nationkey\\n        where\\n            ps_suppkey = l_suppkey and \\n            p_name like \'%green%\'\\n    ) as profit\\ngroup by\\n    nation,\\n    o_year\\norder by\\n    nation,\\n    o_year desc;\\n\\n--Q10\\n\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=4, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    c_custkey,\\n    c_name,\\n    sum(t1.l_extendedprice * (1 - t1.l_discount)) as revenue,\\n    c_acctbal,\\n    n_name,\\n    c_address,\\n    c_phone,\\n    c_comment\\nfrom\\n    customer,\\n    (\\n        select o_custkey,l_extendedprice,l_discount from lineitem, orders\\n        where l_orderkey = o_orderkey\\n        and o_orderdate >= date \'1993-10-01\'\\n        and o_orderdate < date \'1993-10-01\' + interval \'3\' month\\n        and l_returnflag = \'R\'\\n    ) t1,\\n    nation\\nwhere\\n    c_custkey = t1.o_custkey\\n    and c_nationkey = n_nationkey\\ngroup by\\n    c_custkey,\\n    c_name,\\n    c_acctbal,\\n    c_phone,\\n    n_name,\\n    c_address,\\n    c_comment\\norder by\\n    revenue desc\\nlimit 20;\\n\\n--Q11\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    ps_partkey,\\n    sum(ps_supplycost * ps_availqty) as value\\nfrom\\n    partsupp,\\n    (\\n    select s_suppkey\\n    from supplier, nation\\n    where s_nationkey = n_nationkey and n_name = \'GERMANY\'\\n    ) B\\nwhere\\n    ps_suppkey = B.s_suppkey\\ngroup by\\n    ps_partkey having\\n        sum(ps_supplycost * ps_availqty) > (\\n            select\\n                sum(ps_supplycost * ps_availqty) * 0.000002\\n            from\\n                partsupp,\\n                (select s_suppkey\\n                 from supplier, nation\\n                 where s_nationkey = n_nationkey and n_name = \'GERMANY\'\\n                ) A\\n            where\\n                ps_suppkey = A.s_suppkey\\n        )\\norder by\\n    value desc;\\n\\n--Q12\\n\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    l_shipmode,\\n    sum(case\\n        when o_orderpriority = \'1-URGENT\'\\n            or o_orderpriority = \'2-HIGH\'\\n            then 1\\n        else 0\\n    end) as high_line_count,\\n    sum(case\\n        when o_orderpriority <> \'1-URGENT\'\\n            and o_orderpriority <> \'2-HIGH\'\\n            then 1\\n        else 0\\n    end) as low_line_count\\nfrom\\n    orders,\\n    lineitem\\nwhere\\n    o_orderkey = l_orderkey\\n    and l_shipmode in (\'MAIL\', \'SHIP\')\\n    and l_commitdate < l_receiptdate\\n    and l_shipdate < l_commitdate\\n    and l_receiptdate >= date \'1994-01-01\'\\n    and l_receiptdate < date \'1994-01-01\' + interval \'1\' year\\ngroup by\\n    l_shipmode\\norder by\\n    l_shipmode;\\n\\n--Q13\\nselect /*+SET_VAR(exec_mem_limit=45899345920, parallel_fragment_exec_instance_num=16, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    c_count,\\n    count(*) as custdist\\nfrom\\n    (\\n        select\\n            c_custkey,\\n            count(o_orderkey) as c_count\\n        from\\n            orders right outer join customer on\\n                c_custkey = o_custkey\\n                and o_comment not like \'%special%requests%\'\\n        group by\\n            c_custkey\\n    ) as c_orders\\ngroup by\\n    c_count\\norder by\\n    custdist desc,\\n    c_count desc;\\n\\n--Q14\\n\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=true, enable_projection=true, runtime_filter_mode=OFF) */\\n    100.00 * sum(case\\n        when p_type like \'PROMO%\'\\n            then l_extendedprice * (1 - l_discount)\\n        else 0\\n    end) / sum(l_extendedprice * (1 - l_discount)) as promo_revenue\\nfrom\\n    part,\\n    lineitem\\nwhere\\n    l_partkey = p_partkey\\n    and l_shipdate >= date \'1995-09-01\'\\n    and l_shipdate < date \'1995-09-01\' + interval \'1\' month;\\n\\n--Q15\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    s_suppkey,\\n    s_name,\\n    s_address,\\n    s_phone,\\n    total_revenue\\nfrom\\n    supplier,\\n    revenue0\\nwhere\\n    s_suppkey = supplier_no\\n    and total_revenue = (\\n        select\\n            max(total_revenue)\\n        from\\n            revenue0\\n    )\\norder by\\n    s_suppkey;\\n\\n--Q16\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=8, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    p_brand,\\n    p_type,\\n    p_size,\\n    count(distinct ps_suppkey) as supplier_cnt\\nfrom\\n    partsupp,\\n    part\\nwhere\\n    p_partkey = ps_partkey\\n    and p_brand <> \'Brand#45\'\\n    and p_type not like \'MEDIUM POLISHED%\'\\n    and p_size in (49, 14, 23, 45, 19, 3, 36, 9)\\n    and ps_suppkey not in (\\n        select\\n            s_suppkey\\n        from\\n            supplier\\n        where\\n            s_comment like \'%Customer%Complaints%\'\\n    )\\ngroup by\\n    p_brand,\\n    p_type,\\n    p_size\\norder by\\n    supplier_cnt desc,\\n    p_brand,\\n    p_type,\\n    p_size;\\n\\n--Q17\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=1, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    sum(l_extendedprice) / 7.0 as avg_yearly\\nfrom\\n    lineitem join [broadcast]\\n    part p1 on p1.p_partkey = l_partkey\\nwhere\\n    p1.p_brand = \'Brand#23\'\\n    and p1.p_container = \'MED BOX\'\\n    and l_quantity < (\\n        select\\n            0.2 * avg(l_quantity)\\n        from\\n            lineitem join [broadcast]\\n            part p2 on p2.p_partkey = l_partkey\\n        where\\n            l_partkey = p1.p_partkey\\n            and p2.p_brand = \'Brand#23\'\\n            and p2.p_container = \'MED BOX\'\\n    );\\n\\n--Q18\\n\\nselect /*+SET_VAR(exec_mem_limit=45899345920, parallel_fragment_exec_instance_num=4, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=true, enable_projection=true) */\\n    c_name,\\n    c_custkey,\\n    t3.o_orderkey,\\n    t3.o_orderdate,\\n    t3.o_totalprice,\\n    sum(t3.l_quantity)\\nfrom\\ncustomer join\\n(\\n  select * from\\n  lineitem join\\n  (\\n    select * from\\n    orders left semi join\\n    (\\n      select\\n          l_orderkey\\n      from\\n          lineitem\\n      group by\\n          l_orderkey having sum(l_quantity) > 300\\n    ) t1\\n    on o_orderkey = t1.l_orderkey\\n  ) t2\\n  on t2.o_orderkey = l_orderkey\\n) t3\\non c_custkey = t3.o_custkey\\ngroup by\\n    c_name,\\n    c_custkey,\\n    t3.o_orderkey,\\n    t3.o_orderdate,\\n    t3.o_totalprice\\norder by\\n    t3.o_totalprice desc,\\n    t3.o_orderdate\\nlimit 100;\\n\\n--Q19\\n\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=false, enable_cost_based_join_reorder=false, enable_projection=true) */\\n    sum(l_extendedprice* (1 - l_discount)) as revenue\\nfrom\\n    lineitem,\\n    part\\nwhere\\n    (\\n        p_partkey = l_partkey\\n        and p_brand = \'Brand#12\'\\n        and p_container in (\'SM CASE\', \'SM BOX\', \'SM PACK\', \'SM PKG\')\\n        and l_quantity >= 1 and l_quantity <= 1 + 10\\n        and p_size between 1 and 5\\n        and l_shipmode in (\'AIR\', \'AIR REG\')\\n        and l_shipinstruct = \'DELIVER IN PERSON\'\\n    )\\n    or\\n    (\\n        p_partkey = l_partkey\\n        and p_brand = \'Brand#23\'\\n        and p_container in (\'MED BAG\', \'MED BOX\', \'MED PKG\', \'MED PACK\')\\n        and l_quantity >= 10 and l_quantity <= 10 + 10\\n        and p_size between 1 and 10\\n        and l_shipmode in (\'AIR\', \'AIR REG\')\\n        and l_shipinstruct = \'DELIVER IN PERSON\'\\n    )\\n    or\\n    (\\n        p_partkey = l_partkey\\n        and p_brand = \'Brand#34\'\\n        and p_container in (\'LG CASE\', \'LG BOX\', \'LG PACK\', \'LG PKG\')\\n        and l_quantity >= 20 and l_quantity <= 20 + 10\\n        and p_size between 1 and 15\\n        and l_shipmode in (\'AIR\', \'AIR REG\')\\n        and l_shipinstruct = \'DELIVER IN PERSON\'\\n    );\\n\\n--Q20\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=2, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=true, enable_projection=true, runtime_bloom_filter_size=551943) */\\ns_name, s_address from\\nsupplier left semi join\\n(\\n    select * from\\n    (\\n        select l_partkey,l_suppkey, 0.5 * sum(l_quantity) as l_q\\n        from lineitem\\n        where l_shipdate >= date \'1994-01-01\'\\n            and l_shipdate < date \'1994-01-01\' + interval \'1\' year\\n        group by l_partkey,l_suppkey\\n    ) t2 join\\n    (\\n        select ps_partkey, ps_suppkey, ps_availqty\\n        from partsupp left semi join part\\n        on ps_partkey = p_partkey and p_name like \'forest%\'\\n    ) t1\\n    on t2.l_partkey = t1.ps_partkey and t2.l_suppkey = t1.ps_suppkey\\n    and t1.ps_availqty > t2.l_q\\n) t3\\non s_suppkey = t3.ps_suppkey\\njoin nation\\nwhere s_nationkey = n_nationkey\\n    and n_name = \'CANADA\'\\norder by s_name;\\n\\n--Q21\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=4, enable_vectorized_engine=true, batch_size=4096, disable_join_reorder=true, enable_cost_based_join_reorder=true, enable_projection=true) */\\ns_name, count(*) as numwait\\nfrom\\n  lineitem l2 right semi join\\n  (\\n    select * from\\n    lineitem l3 right anti join\\n    (\\n      select * from\\n      orders join lineitem l1 on l1.l_orderkey = o_orderkey and o_orderstatus = \'F\'\\n      join\\n      (\\n        select * from\\n        supplier join nation\\n        where s_nationkey = n_nationkey\\n          and n_name = \'SAUDI ARABIA\'\\n      ) t1\\n      where t1.s_suppkey = l1.l_suppkey and l1.l_receiptdate > l1.l_commitdate\\n    ) t2\\n    on l3.l_orderkey = t2.l_orderkey and l3.l_suppkey <> t2.l_suppkey  and l3.l_receiptdate > l3.l_commitdate\\n  ) t3\\n  on l2.l_orderkey = t3.l_orderkey and l2.l_suppkey <> t3.l_suppkey \\n\\ngroup by\\n    t3.s_name\\norder by\\n    numwait desc,\\n    t3.s_name\\nlimit 100;\\n\\n--Q22\\n\\nwith tmp as (select\\n                    avg(c_acctbal) as av\\n                from\\n                    customer\\n                where\\n                    c_acctbal > 0.00\\n                    and substring(c_phone, 1, 2) in\\n                        (\'13\', \'31\', \'23\', \'29\', \'30\', \'18\', \'17\'))\\n\\nselect /*+SET_VAR(exec_mem_limit=8589934592, parallel_fragment_exec_instance_num=4,runtime_bloom_filter_size=4194304) */\\n    cntrycode,\\n    count(*) as numcust,\\n    sum(c_acctbal) as totacctbal\\nfrom\\n    (\\n\\tselect\\n            substring(c_phone, 1, 2) as cntrycode,\\n            c_acctbal\\n        from\\n             orders right anti join customer c on  o_custkey = c.c_custkey join tmp on c.c_acctbal > tmp.av\\n        where\\n            substring(c_phone, 1, 2) in\\n                (\'13\', \'31\', \'23\', \'29\', \'30\', \'18\', \'17\')\\n    ) as custsale\\ngroup by\\n    cntrycode\\norder by\\n    cntrycode;\\n\\n```"},{"id":"/release-1.1.4","metadata":{"permalink":"/zh-CN/blog/release-1.1.4","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.1.4.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.4 Release","description":"\x3c!--","date":"2022-11-11T00:00:00.000Z","formattedDate":"2022\u5e7411\u670811\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.4 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.4 Release","date":"2022-11-11","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"Apache Doris 1.2 TPC-H \u6027\u80fd\u6d4b\u8bd5\u62a5\u544a","permalink":"/zh-CN/blog/tpch"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.3 Release","permalink":"/zh-CN/blog/release-1.1.3"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\\n\\n\\n\u4f5c\u4e3a 1.1 LTS\uff08Long-term Support\uff0c\u957f\u5468\u671f\u652f\u6301\uff09\u7248\u672c\u57fa\u7840\u4e4b\u4e0a\u7684 Bugfix \u7248\u672c\uff0c\u5728 Apache Doris 1.1.4 \u7248\u672c\u4e2d\uff0cDoris \u56e2\u961f\u4fee\u590d\u4e86\u81ea 1.1.3 \u7248\u672c\u4ee5\u6765\u7684\u7ea6 60 \u4e2a Issue \u6216\u6027\u80fd\u4f18\u5316\u9879\u3002\u6539\u8fdb\u4e86 Spark Load \u7684\u4f7f\u7528\u4f53\u9a8c\uff0c\u4f18\u5316\u4e86\u8bf8\u591a\u5185\u5b58\u4ee5\u53ca BE \u5f02\u5e38\u5b95\u673a\u7684\u95ee\u9898\uff0c\u7cfb\u7edf\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u5f97\u4ee5\u8fdb\u4e00\u6b65\u52a0\u5f3a\uff0c\u63a8\u8350\u6240\u6709\u7528\u6237\u4e0b\u8f7d\u548c\u4f7f\u7528\u3002\\n\\n# \u65b0\u589e\u529f\u80fd\\n\\n- Broker Load \u652f\u6301 \u534e\u4e3a\u4e91 OBS \u5bf9\u8c61\u5b58\u50a8\u3002[#13523](https://github.com/apache/doris/pull/13523)\\n\\n- Spark Load \u652f\u6301 Parquet \u548c Orc \u6587\u4ef6\u3002[#13438](https://github.com/apache/doris/pull/13438)\\n\\n\\n# \u4f18\u5316\u6539\u8fdb\\n\\n- \u7981\u7528 Metric Hook \u4e2d\u7684\u4e92\u65a5\u91cf\uff0c\u5176\u5c06\u5f71\u54cd\u6570\u636e\u5bfc\u5165\u8fc7\u7a0b\u4e2d\u7684\u67e5\u8be2\u6027\u80fd\u3002 [#10941](https://github.com/apache/doris/pull/10941)\\n\\n\\n# Bug \u4fee\u590d\\n\\n- \u4fee\u590d\u4e86\u5f53 Spark Load \u52a0\u8f7d\u6587\u4ef6\u65f6 Where \u6761\u4ef6\u4e0d\u751f\u6548\u7684\u95ee\u9898\u3002 [#13804](https://github.com/apache/doris/pull/13804)\\n\\n- \u4fee\u590d\u4e86 If \u51fd\u6570\u5b58\u5728 Nullable \u5217\u65f6\u5f00\u542f\u5411\u91cf\u5316\u8fd4\u56de\u9519\u8bef\u7ed3\u679c\u7684\u95ee\u9898\u3002 [#13779](https://github.com/apache/doris/pull/13779)\\n\\n- \u4fee\u590d\u4e86\u5728\u4f7f\u7528 Anti Join \u548c\u5176\u4ed6 Join \u8c13\u8bcd\u65f6\u4ea7\u751f\u9519\u8bef\u7ed3\u679c\u7684\u95ee\u9898\u3002 [#13743](https://github.com/apache/doris/pull/13743)\\n\\n- \u4fee\u590d\u4e86\u5f53\u8c03\u7528\u51fd\u6570 concat(ifnull)\u65f6 BE \u5b95\u673a\u7684\u95ee\u9898\u3002 [#13693](https://github.com/apache/doris/pull/13693)\\n\\n- \u4fee\u590d\u4e86 group by \u8bed\u53e5\u4e2d\u5b58\u5728\u51fd\u6570\u65f6 planner \u9519\u8bef\u7684\u95ee\u9898\u3002 [#13613](https://github.com/apache/doris/pull/13613)\\n\\n- \u4fee\u590d\u4e86 lateral view \u8bed\u53e5\u4e0d\u80fd\u6b63\u786e\u8bc6\u522b\u8868\u540d\u548c\u5217\u540d\u7684\u95ee\u9898\u3002 [#13600](https://github.com/apache/doris/pull/13600)\\n\\n- \u4fee\u590d\u4e86\u4f7f\u7528\u7269\u5316\u89c6\u56fe\u548c\u8868\u522b\u540d\u65f6\u51fa\u73b0\u672a\u77e5\u5217\u7684\u95ee\u9898\u3002 [#13605](https://github.com/apache/doris/pull/13605)\\n\\n- \u4fee\u590d\u4e86 JSONReader \u65e0\u6cd5\u91ca\u653e\u503c\u548c\u89e3\u6790 allocator \u5185\u5b58\u7684\u95ee\u9898\u3002 [#13513](https://github.com/apache/doris/pull/13513)\\n\\n- \u4fee\u590d\u4e86\u5f53 enable_vectorized_alter_table \u4e3a true \u65f6\u5141\u8bb8\u4f7f\u7528 to_bitmap() \u5bf9\u8d1f\u503c\u5217\u521b\u5efa\u7269\u5316\u89c6\u56fe\u7684\u95ee\u9898\u3002 [#13448](https://github.com/apache/doris/pull/13448)\\n\\n- \u4fee\u590d\u4e86\u51fd\u6570 from_date_format_str \u4e2d\u5fae\u79d2\u6570\u4e22\u5931\u7684\u95ee\u9898\u3002 [#13446](https://github.com/apache/doris/pull/13446)\\n\\n- \u4fee\u590d\u4e86\u6392\u5e8f exprs \u7684 nullability \u5c5e\u6027\u5728\u4f7f\u7528\u5b50 smap \u4fe1\u606f\u8fdb\u884c\u66ff\u6362\u540e\u53ef\u80fd\u4e0d\u6b63\u786e\u7684\u95ee\u9898\u3002 [#13328](https://github.com/apache/doris/pull/13328)\\n\\n- \u4fee\u590d\u4e86 case when \u6709 1000 \u4e2a\u6761\u4ef6\u65f6\u51fa\u73b0 Core \u7684\u95ee\u9898\u3002 [#13315](https://github.com/apache/doris/pull/13315)\\n\\n- \u4fee\u590d\u4e86 Stream Load \u5bfc\u5165\u6570\u636e\u65f6\u6700\u540e\u4e00\u884c\u6570\u636e\u4e22\u5931\u7684\u95ee\u9898\u3002 [#13066](https://github.com/apache/doris/pull/13066)\\n\\n- \u6062\u590d\u8868\u6216\u5206\u533a\u7684\u526f\u672c\u6570\u4e0e\u5907\u4efd\u524d\u76f8\u540c\u3002 [#11942](https://github.com/apache/doris/pull/11942)"},{"id":"/release-1.1.3","metadata":{"permalink":"/zh-CN/blog/release-1.1.3","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.1.3.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.3 Release","description":"\x3c!--","date":"2022-10-17T00:00:00.000Z","formattedDate":"2022\u5e7410\u670817\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.3 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.3 Release","date":"2022-10-17","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.4 Release","permalink":"/zh-CN/blog/release-1.1.4"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.2 Release","permalink":"/zh-CN/blog/release-1.1.2"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\\n\\n\u4f5c\u4e3a 1.1.2 LTS\uff08Long-term Support\uff0c\u957f\u5468\u671f\u652f\u6301\uff09\u7248\u672c\u57fa\u7840\u4e4b\u4e0a\u7684 Bugfix \u7248\u672c\uff0c\u5728 Apache Doris 1.1.3 \u7248\u672c\u4e2d\uff0c\u6709\u8d85\u8fc7 80 \u4e2a Issue \u6216\u6027\u80fd\u4f18\u5316\u9879\u88ab\u5408\u5165\uff0c\u4f18\u5316\u4e86\u5728\u5bfc\u5165\u6216\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u7684\u5185\u5b58\u63a7\u5236\uff0c\u4fee\u590d\u4e86\u8bb8\u591a\u5bfc\u81f4 BE Core \u4ee5\u53ca\u4ea7\u751f\u9519\u8bef\u67e5\u8be2\u7ed3\u679c\u7684\u95ee\u9898\uff0c\u7cfb\u7edf\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u5f97\u4ee5\u8fdb\u4e00\u6b65\u52a0\u5f3a\uff0c\u63a8\u8350\u6240\u6709\u7528\u6237\u4e0b\u8f7d\u548c\u4f7f\u7528\u3002\\n\\n# \u65b0\u589e\u529f\u80fd\\n\\n- \u5728 ODBC \u8868\u4e2d\u652f\u6301 SQLServer \u548c PostgreSQL \u7684\u8f6c\u4e49\u6807\u8bc6\u7b26\u3002\\n\\n- \u652f\u6301\u4f7f\u7528 Parquet \u4f5c\u4e3a\u5bfc\u51fa\u6587\u4ef6\u683c\u5f0f\u3002\\n\\n# \u4f18\u5316\u6539\u8fdb\\n\\n- \u4f18\u5316\u4e86 Flush \u7b56\u7565\u4ee5\u53ca\u907f\u514d\u8fc7\u591a Segment \u5c0f\u6587\u4ef6\u3002 [#12706](https://github.com/apache/doris/pull/12706) [#12716](https://github.com/apache/doris/pull/12716)\\n\\n- \u91cd\u6784 Runtime Filter \u4ee5\u51cf\u5c11\u521d\u59cb\u51c6\u5907\u65f6\u95f4\u3002 [#13127](https://github.com/apache/doris/pull/13127)\\n\\n- \u4fee\u590d\u4e86\u82e5\u5e72\u4e2a\u5728\u67e5\u8be2\u6216\u5bfc\u5165\u8fc7\u7a0b\u4e2d\u7684\u5185\u5b58\u63a7\u5236\u95ee\u9898\u3002 [#12682](https://github.com/apache/doris/pull/12682) [#12688](https://github.com/apache/doris/pull/12688) [#12708](https://github.com/apache/doris/pull/12708) [#12776](https://github.com/apache/doris/pull/12776) [#12782](https://github.com/apache/doris/pull/12782) [#12791](https://github.com/apache/doris/pull/12791) [#12794](https://github.com/apache/doris/pull/12794) [#12820](https://github.com/apache/doris/pull/12820) [#12932](https://github.com/apache/doris/pull/12932) [#12954](https://github.com/apache/doris/pull/12954) [#12951](https://github.com/apache/doris/pull/12951)\\n\\n# Bug \u4fee\u590d\\n\\n- \u4fee\u590d\u4e86 largeint \u7c7b\u578b\u5728 Compaction \u8fc7\u7a0b\u4e2d\u5bfc\u81f4 Core \u7684\u95ee\u9898\u3002 [#10094](https://github.com/apache/doris/pull/10094)\\n\\n- \u4fee\u590d\u4e86 Grouping set \u5bfc\u81f4 BE Core \u6216\u8005\u8fd4\u56de\u9519\u8bef\u7ed3\u679c\u7684\u95ee\u9898\u3002 [#12313](https://github.com/apache/doris/pull/12313)\\n\\n- \u4fee\u590d\u4e86\u4f7f\u7528 orthogonal_bitmap_union_count \u51fd\u6570\u65f6\u6267\u884c\u8ba1\u5212 PREAGGREGATION \u663e\u793a\u9519\u8bef\u7684\u95ee\u9898\u3002 [#12581](https://github.com/apache/doris/pull/12581)\\n\\n- \u4fee\u590d\u4e86 Level1Iterator \u672a\u88ab\u91ca\u653e\u5bfc\u81f4\u7684\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\u3002 [#12592](https://github.com/apache/doris/pull/12592)\\n\\n- \u4fee\u590d\u4e86\u5f53 2 BE \u4e14\u5b58\u5728 Colocation \u8868\u65f6\u901a\u8fc7 Decommission \u4e0b\u7ebf\u8282\u70b9\u5931\u8d25\u7684\u95ee\u9898\u3002 [#12644](https://github.com/apache/doris/pull/12644)\\n\\n- \u4fee\u590d\u4e86 TBrokerOpenReaderResponse \u8fc7\u5927\u65f6\u5bfc\u81f4\u5806\u6808\u7f13\u51b2\u533a\u6ea2\u51fa\u800c\u5bfc\u81f4\u7684 BE Core \u95ee\u9898\u3002 [#12658](https://github.com/apache/doris/pull/12658)\\n\\n- \u4fee\u590d\u4e86\u51fa\u73b0 -238\u9519\u8bef\u65f6 BE \u8282\u70b9\u53ef\u80fd OOM \u7684\u95ee\u9898\u3002 [#12666](https://github.com/apache/doris/pull/12666)\\n\\n- \u4fee\u590d\u4e86 LEAD() \u51fd\u6570\u9519\u8bef\u5b50\u8868\u8fbe\u5f0f\u7684\u95ee\u9898\u3002 [#12587](https://github.com/apache/doris/pull/12587)\\n\\n- \u4fee\u590d\u4e86\u884c\u5b58\u4ee3\u7801\u4e2d\u76f8\u5173\u67e5\u8be2\u5931\u8d25\u7684\u95ee\u9898\u3002 [#12712](https://github.com/apache/doris/pull/12712)\\n\\n- \u4fee\u590d\u4e86 curdate()/current_date() \u51fd\u6570\u4ea7\u751f\u9519\u8bef\u7ed3\u679c\u7684\u95ee\u9898\u3002 [#12720](https://github.com/apache/doris/pull/12720)\\n\\n- \u4fee\u590d\u4e86 lateral View explode_split \u51fd\u6570\u51fa\u73b0\u9519\u8bef\u7ed3\u679c\u7684\u95ee\u9898\u3002 [#13643](https://github.com/apache/doris/pull/13643)\\n\\n- \u4fee\u590d\u4e86\u4e24\u5f20\u76f8\u540c\u8868\u4e2d Bucket Shuffle Join \u8ba1\u5212\u9519\u8bef\u7684\u95ee\u9898\u3002 [#12930](https://github.com/apache/doris/pull/12930)\\n\\n- \u4fee\u590d\u4e86\u66f4\u65b0\u6216\u5bfc\u5165\u8fc7\u7a0b\u4e2d Tablet \u7248\u672c\u53ef\u80fd\u9519\u8bef\u7684\u95ee\u9898\u3002 [#13070](https://github.com/apache/doris/pull/13070)\\n\\n- \u4fee\u590d\u4e86\u5728\u52a0\u5bc6\u51fd\u6570\u4e0b\u4f7f\u7528 Broker \u5bfc\u5165\u6570\u636e\u65f6 BE \u53ef\u80fd\u53d1\u751f Core \u7684\u95ee\u9898\u3002 [#13009](https://github.com/apache/doris/pull/13009)\\n\\n# \u5347\u7ea7\u8bf4\u660e\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7981\u7528 PageCache \u548c ChunkAllocator \u4ee5\u51cf\u5c11\u5185\u5b58\u4f7f\u7528\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u914d\u7f6e\u9879 `disable_storage_page_cache` \u548c `chunk_reserved_bytes_limit` \u6765\u91cd\u65b0\u542f\u7528\u3002\\n\\nStorage Page Cache \u548c Chunk Allocator \u5206\u522b\u7f13\u5b58\u7528\u6237\u6570\u636e\u5757\u548c\u5185\u5b58\u9884\u5206\u914d\u3002\\n\\n\u8fd9\u4e24\u4e2a\u529f\u80fd\u4f1a\u5360\u7528\u4e00\u5b9a\u6bd4\u4f8b\u7684\u5185\u5b58\uff0c\u5e76\u4e14\u4e0d\u4f1a\u91ca\u653e\u3002 \u8fd9\u90e8\u5206\u5185\u5b58\u5360\u7528\u65e0\u6cd5\u7075\u6d3b\u8c03\u914d\uff0c\u5bfc\u81f4\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u56e0\u8fd9\u90e8\u5206\u5185\u5b58\u5360\u7528\u800c\u5bfc\u81f4\u5176\u4ed6\u4efb\u52a1\u5185\u5b58\u4e0d\u8db3\uff0c\u5f71\u54cd\u7cfb\u7edf\u7a33\u5b9a\u6027\u548c\u53ef\u7528\u6027\u3002\u56e0\u6b64\u6211\u4eec\u5728 1.1.3 \u7248\u672c\u4e2d\u9ed8\u8ba4\u5173\u95ed\u4e86\u8fd9\u4e24\u4e2a\u529f\u80fd\u3002\\n\\n\u4f46\u5728\u67d0\u4e9b\u5ef6\u8fdf\u654f\u611f\u7684\u62a5\u8868\u573a\u666f\u4e0b\uff0c\u5173\u95ed\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67e5\u8be2\u5ef6\u8fdf\u589e\u52a0\u3002\u5982\u7528\u6237\u62c5\u5fc3\u5347\u7ea7\u540e\u8be5\u529f\u80fd\u5bf9\u4e1a\u52a1\u9020\u6210\u5f71\u54cd\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 be.conf \u4e2d\u589e\u52a0\u4ee5\u4e0b\u53c2\u6570\u4ee5\u4fdd\u6301\u548c\u4e4b\u524d\u7248\u672c\u884c\u4e3a\u4e00\u81f4\u3002\\n\\n```\\ndisable_storage_page_cache=false\\nchunk_reserved_bytes_limit=10%\\n```\\n\\n* `disable_storage_page_cache`\uff1a\u662f\u5426\u5173\u95ed Storage Page Cache\u3002 1.1.2\uff08\u542b\uff09\u4e4b\u524d\u7684\u7248\u672c\uff0c\u9ed8\u8ba4\u662ffalse\uff0c\u5373\u6253\u5f00\u30021.1.3 \u7248\u672c\u9ed8\u8ba4\u4e3a true\uff0c\u5373\u5173\u95ed\u3002\\n* `chunk_reserved_bytes_limit`\uff1aChunk allocator \u9884\u7559\u5185\u5b58\u5927\u5c0f\u30021.1.2\uff08\u542b\uff09\u4e4b\u524d\u7684\u7248\u672c\uff0c\u9ed8\u8ba4\u662f\u6574\u4f53\u5185\u5b58\u7684 10%\u30021.1.3 \u7248\u672c\u9ed8\u8ba4\u4e3a 209715200\uff08200MB\uff09\u3002"},{"id":"/release-1.1.2","metadata":{"permalink":"/zh-CN/blog/release-1.1.2","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.1.2.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.2 Release","description":"\x3c!--","date":"2022-09-13T00:00:00.000Z","formattedDate":"2022\u5e749\u670813\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.2 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.2 Release","date":"2022-09-13","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.3 Release","permalink":"/zh-CN/blog/release-1.1.3"},"nextItem":{"title":"Doris Stream Load\u539f\u7406\u89e3\u6790","permalink":"/zh-CN/blog/principle-of-Doris-Stream-Load"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\\n\u5728 Apache Doris 1.1.2 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u65b0\u7684 Memtracker\u3001\u6781\u5927\u7a0b\u5ea6\u4e0a\u907f\u514d OOM \u7c7b\u95ee\u9898\u7684\u53d1\u751f\uff0c\u63d0\u5347\u4e86\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u5728\u591a\u6570\u67e5\u8be2\u573a\u666f\u7684\u6027\u80fd\u8868\u73b0\uff0c\u4fee\u590d\u4e86\u8bf8\u591a\u5bfc\u81f4 BE \u548c FE \u53d1\u751f\u5f02\u5e38\u7684\u95ee\u9898\uff0c\u4f18\u5316\u4e86\u5728\u6e56\u4ed3\u8054\u90a6\u67e5\u8be2\u573a\u666f\u7684\u90e8\u5206\u4f53\u9a8c\u95ee\u9898\u5e76\u63d0\u5347\u8bbf\u95ee\u5916\u90e8\u6570\u636e\u7684\u6027\u80fd\u3002\\n\\n\u76f8\u8f83\u4e8e 1.1.1 \u7248\u672c\uff0c\u5728 1.1.2 \u7248\u672c\u4e2d\u6709\u8d85\u8fc7 170 \u4e2a Issue \u548c\u6027\u80fd\u4f18\u5316\u9879\u88ab\u5408\u5165\uff0c\u7cfb\u7edf\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u90fd\u5f97\u5230\u8fdb\u4e00\u6b65\u52a0\u5f3a\u3002\u4e0e\u6b64\u540c\u65f6\uff0c1.1.2 \u7248\u672c\u8fd8\u5c06\u4f5c\u4e3a Apache Doris \u9996\u4e2a LTS \uff08Long-term Support\uff09\u957f\u5468\u671f\u652f\u6301\u7248\u672c\uff0c\u540e\u7eed\u957f\u671f\u7ef4\u62a4\u548c\u652f\u6301\uff0c\u63a8\u8350\u6240\u6709\u7528\u6237\u4e0b\u8f7d\u548c\u5347\u7ea7\u3002\\n\\n# \u65b0\u589e\u529f\u80fd\\n\\n### MemTracker\\n\\nMemTracker \u662f\u4e00\u4e2a\u7528\u4e8e\u5206\u6790\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u7684\u7edf\u8ba1\u5de5\u5177\uff0c\u5728 1.1.1 \u7248\u672c\u4e2d\u6211\u4eec\u5f15\u5165\u4e86\u7b80\u6613\u7248 Memtracker \u7528\u4ee5\u63a7\u5236 BE \u4fa7\u5185\u5b58\u3002\u5728 1.1.2 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u65b0\u7684 MemTracker\uff0c\u5728\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u548c\u975e\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4e2d\u90fd\u66f4\u4e3a\u51c6\u786e\u3002\\n\\n### \u589e\u52a0\u5c55\u793a\u548c\u53d6\u6d88\u6b63\u5728\u6267\u884c Query \u7684 API\\n\\n`GET /rest/v2/manager/query/current_queries`\\n\\n`GET /rest/v2/manager/query/kill/{query_id}`\\n\\n\u5177\u4f53\u4f7f\u7528\u53c2\u8003\u6587\u6863 [Query Profile Action](https://doris.apache.org/zh-CN/docs/dev/admin-manual/http-actions/fe/manager/query-profile-action?_highlight=current&_highlight=query#request)\\n\\n### \u652f\u6301\u8bfb\u5199 Emoji \u8868\u60c5\u901a\u8fc7 ODBC \u5916\u8868\\n\\n\\n# \u4f18\u5316\u6539\u8fdb\\n\\n### \u6570\u636e\u6e56\u76f8\u5173\u6539\u8fdb\\n\\n- \u626b\u63cf HDFS ORC \u6587\u4ef6\u65f6\u6027\u80fd\u63d0\u5347\u7ea6 300%\u3002[#11501](https://github.com/apache/doris/pull/11501)\\n\\n- \u67e5\u8be2 Iceberg \u8868\u652f\u6301 HDFS \u7684 HA \u6a21\u5f0f\u3002\\n\\n- \u652f\u6301\u67e5\u8be2\u7531 [Apache Tez](https://tez.apache.org/) \u521b\u5efa\u7684 Hive \u6570\u636e\\n\\n- \u6dfb\u52a0\u963f\u91cc\u4e91 OSS \u4f5c\u4e3a Hive \u5916\u90e8\u652f\u6301\\n\\n### \u5728 Spark Load \u4e2d\u589e\u52a0\u5bf9 String \u5b57\u7b26\u4e32\u7c7b\u578b\u548c Text \u6587\u672c\u7c7b\u578b\u7684\u652f\u6301\\n\\n\\n### \u5728\u975e\u5411\u91cf\u5316\u5f15\u64ce\u652f\u6301\u590d\u7528 Block\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e2d\u6709 50%\u6027\u80fd\u63d0\u5347\u3002[#11392](https://github.com/apache/doris/pull/11392)\\n\\n### \u63d0\u5347 Like \u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6027\u80fd\\n\\n### \u7981\u7528 TCMalloc \u7684 aggressive_memory_decommit\u3002\\n\\n\u5728\u67e5\u8be2\u6216\u5bfc\u5165\u65f6\u5c06\u4f1a\u6709 40% \u6027\u80fd\u63d0\u5347\uff0c\u4e5f\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u901a\u8fc7 `tc_enable_aggressive_memory_decommit`\u6765\u4fee\u6539\\n\\n# Bug Fix\\n\\n### \u4fee\u590d\u90e8\u5206\u53ef\u80fd\u5bfc\u81f4 FE \u5931\u8d25\u6216\u8005\u6570\u636e\u635f\u574f\u7684\u95ee\u9898\\n\\n- \u5728 HA \u73af\u5883\u4e2d\uff0cBDBJE \u5c06\u4fdd\u7559\u5c3d\u53ef\u80fd\u591a\u7684\u6587\u4ef6\uff0c\u901a\u8fc7\u589e\u52a0\u914d\u7f6e `bdbje_reserved_disk_bytes `\u4ee5\u907f\u514d\u4ea7\u751f\u592a\u591a\u7684 BDBJE \u6587\u4ef6\uff0cBDBJE \u65e5\u5fd7\u53ea\u6709\u5728\u63a5\u8fd1\u78c1\u76d8\u9650\u5236\u65f6\u624d\u4f1a\u5220\u9664\u3002\\n\\n- \u4fee\u590d\u4e86 BDBJE \u4e2d\u7684\u91cd\u8981\u9519\u8bef\uff0c\u8be5\u9519\u8bef\u5c06\u5bfc\u81f4 FE \u526f\u672c\u65e0\u6cd5\u6b63\u786e\u542f\u52a8\u6216\u6570\u636e\u635f\u574f\u3002\\n\\n### \u4fee\u590d FE \u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4f1a\u5728 waitFor_rpc \u4e0a Hang \u4f4f\u4ee5\u53ca BE \u5728\u9ad8\u5e76\u53d1\u60c5\u51b5\u4e0b\u4f1a Hang \u4f4f\u7684\u95ee\u9898\u3002\\n\\n[#12459](https://github.com/apache/doris/pull/12459) [#12458](https://github.com/apache/doris/pull/12458) [#12392](https://github.com/apache/doris/pull/12392)\\n\\n### \u4fee\u590d\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u67e5\u8be2\u65f6\u5f97\u5230\u9519\u8bef\u7ed3\u679c\u7684\u95ee\u9898\u3002\\n\\n[#11754](https://github.com/apache/doris/pull/11754) [#11694](https://github.com/apache/doris/pull/11694)\\n\\n### \u4fee\u590d\u8bb8\u591a Planner \u5bfc\u81f4 BE Core \u6216\u8005\u5904\u4e8e\u4e0d\u6b63\u5e38\u72b6\u6001\u7684\u95ee\u9898\u3002\\n\\n[#12080](https://github.com/apache/doris/pull/12080) [#12075](https://github.com/apache/doris/pull/12075) [#12040](https://github.com/apache/doris/pull/12040) [#12003](https://github.com/apache/doris/pull/12003) [#12007](https://github.com/apache/doris/pull/12007) [#11971](https://github.com/apache/doris/pull/11971) [#11933](https://github.com/apache/doris/pull/11933) [#11861](https://github.com/apache/doris/pull/11861) [#11859](https://github.com/apache/doris/pull/11859) [#11855](https://github.com/apache/doris/pull/11855) [#11837](https://github.com/apache/doris/pull/11837) [#11834](https://github.com/apache/doris/pull/11834) [#11821](https://github.com/apache/doris/pull/11821) [#11782](https://github.com/apache/doris/pull/11782) [#11723](https://github.com/apache/doris/pull/11723) [#11569](https://github.com/apache/doris/pull/11569)"},{"id":"/principle-of-Doris-Stream-Load","metadata":{"permalink":"/zh-CN/blog/principle-of-Doris-Stream-Load","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/principle-of-Doris-Stream-Load.md","title":"Doris Stream Load\u539f\u7406\u89e3\u6790","description":"\x3c!--","date":"2022-09-08T00:00:00.000Z","formattedDate":"2022\u5e749\u67088\u65e5","tags":[{"label":"\u6280\u672f\u89e3\u6790","permalink":"/zh-CN/blog/tags/\u6280\u672f\u89e3\u6790"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Doris Stream Load\u539f\u7406\u89e3\u6790","summary":"Stream Load\u662fDoris\u7528\u6237\u6700\u5e38\u7528\u7684\u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u4e4b\u4e00\uff0c\u5b83\u662f\u4e00\u79cd\u540c\u6b65\u7684\u5bfc\u5165\u65b9\u5f0f, \u5141\u8bb8\u7528\u6237\u901a\u8fc7Http\u8bbf\u95ee\u7684\u65b9\u5f0f\u6279\u91cf\u5730\u5c06\u6570\u636e\u5bfc\u5165Doris\uff0c\u5e76\u8fd4\u56de\u6570\u636e\u5bfc\u5165\u7684\u7ed3\u679c\u3002","date":"2022-09-08","author":"Apache Doris","tags":["\u6280\u672f\u89e3\u6790"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.2 Release","permalink":"/zh-CN/blog/release-1.1.2"},"nextItem":{"title":"Doris\u5168\u9762\u89e3\u6790\uff1aDoris SQL \u539f\u7406\u89e3\u6790","permalink":"/zh-CN/blog/principle-of-Doris-SQL-parsing"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n**\u5bfc\u8bfb\uff1a**\\n\\nStream Load\u662fDoris\u7528\u6237\u6700\u5e38\u7528\u7684\u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u4e4b\u4e00\uff0c\u5b83\u662f\u4e00\u79cd\u540c\u6b65\u7684\u5bfc\u5165\u65b9\u5f0f, \u5141\u8bb8\u7528\u6237\u901a\u8fc7Http\u8bbf\u95ee\u7684\u65b9\u5f0f\u6279\u91cf\u5730\u5c06\u6570\u636e\u5bfc\u5165Doris\uff0c\u5e76\u8fd4\u56de\u6570\u636e\u5bfc\u5165\u7684\u7ed3\u679c\u3002\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7Http\u8bf7\u6c42\u7684\u8fd4\u56de\u4f53\u5224\u65ad\u6570\u636e\u5bfc\u5165\u662f\u5426\u6210\u529f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u5ba2\u6237\u7aef\u6267\u884c\u67e5\u8be2SQL\u6765\u67e5\u8be2\u5386\u53f2\u4efb\u52a1\u7684\u7ed3\u679c\u3002\\n\\n#  **Stream Load\u7b80\u4ecb**\\n\\nDoris\u7684\u5bfc\u5165\uff08Load\uff09\u529f\u80fd\u5c31\u662f\u5c06\u7528\u6237\u7684\u539f\u59cb\u6570\u636e\u5bfc\u5165\u5230 Doris\u8868\u4e2d\u3002Doris\u5e95\u5c42\u5b9e\u73b0\u4e86\u7edf\u4e00\u7684\u6d41\u5f0f\u5bfc\u5165\u6846\u67b6\uff0c\u5728\u8fd9\u4e2a\u6846\u67b6\u4e4b\u4e0a\uff0cDoris\u63d0\u4f9b\u4e86\u975e\u5e38\u4e30\u5bcc\u7684\u5bfc\u5165\u65b9\u5f0f\u4ee5\u9002\u5e94\u4e0d\u540c\u7684\u6570\u636e\u6e90\u548c\u6570\u636e\u5bfc\u5165\u9700\u6c42\u3002Stream Load\u662fDoris\u7528\u6237\u6700\u5e38\u7528\u7684\u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u4e4b\u4e00\uff0c\u5b83\u662f\u4e00\u79cd\u540c\u6b65\u7684\u5bfc\u5165\u65b9\u5f0f, \u5141\u8bb8\u7528\u6237\u901a\u8fc7Http\u8bbf\u95ee\u7684\u65b9\u5f0f\u6279\u91cf\u5730\u5c06CSV\u683c\u5f0f\u6216JSON\u683c\u5f0f\u7684\u6570\u636e\u5bfc\u5165Doris\uff0c\u5e76\u8fd4\u56de\u6570\u636e\u5bfc\u5165\u7684\u7ed3\u679c\u3002\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7Http\u8bf7\u6c42\u7684\u8fd4\u56de\u4f53\u5224\u65ad\u6570\u636e\u5bfc\u5165\u662f\u5426\u6210\u529f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u5ba2\u6237\u7aef\u6267\u884c\u67e5\u8be2SQL\u6765\u67e5\u8be2\u5386\u53f2\u4efb\u52a1\u7684\u7ed3\u679c\u3002\u53e6\u5916\uff0cDoris\u8fd8\u4e3aStream Load\u63d0\u4f9b\u4e86\u64cd\u4f5c\u5ba1\u8ba1\u529f\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u5ba1\u8ba1\u65e5\u5fd7\u5bf9\u5386\u53f2\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u8fdb\u884c\u5ba1\u8ba1\u3002\u672c\u6587\u5c06\u4eceStream Load\u7684\u6267\u884c\u6d41\u7a0b\u3001\u4e8b\u52a1\u7ba1\u7406\u3001\u5bfc\u5165\u8ba1\u5212\u7684\u6267\u884c\u3001\u6570\u636e\u5199\u5165\u4ee5\u53ca\u64cd\u4f5c\u5ba1\u8ba1\u7b49\u65b9\u9762\u5bf9Stream Load\u7684\u5b9e\u73b0\u539f\u7406\u8fdb\u884c\u6df1\u5165\u5730\u89e3\u6790\u3002\\n\\n# 1 **\u6267\u884c\u6d41\u7a0b**\\n\\n\u7528\u6237\u5c06Stream Load\u7684Http\u8bf7\u6c42\u63d0\u4ea4\u7ed9FE\uff0cFE\u4f1a\u901a\u8fc7 Http \u91cd\u5b9a\u5411\uff08Redirect\uff09\u5c06\u6570\u636e\u5bfc\u5165\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u67d0\u4e00\u4e2aBE\u8282\u70b9\uff0c\u8be5BE\u8282\u70b9\u5c06\u4f5c\u4e3a\u672c\u6b21Stream Load\u4efb\u52a1\u7684Coordinator\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u63a5\u6536\u8bf7\u6c42\u7684FE\u8282\u70b9\u4ec5\u4ec5\u63d0\u4f9b\u8f6c\u53d1\u670d\u52a1\uff0c\u7531\u4f5c\u4e3a Coordinator\u7684BE\u8282\u70b9\u5b9e\u9645\u8d1f\u8d23\u6574\u4e2a\u5bfc\u5165\u4f5c\u4e1a\uff0c\u6bd4\u5982\u8d1f\u8d23\u5411Master FE\u53d1\u9001\u4e8b\u52a1\u8bf7\u6c42\u3001\u4eceFE\u83b7\u53d6\u5bfc\u5165\u6267\u884c\u8ba1\u5212\u3001\u63a5\u6536\u5b9e\u65f6\u6570\u636e\u3001\u5206\u53d1\u6570\u636e\u5230\u5176\u4ed6Executor BE\u8282\u70b9\u4ee5\u53ca\u6570\u636e\u5bfc\u5165\u7ed3\u675f\u540e\u8fd4\u56de\u7ed3\u679c\u7ed9\u7528\u6237\u3002\u7528\u6237\u4e5f\u53ef\u4ee5\u5c06Stream Load\u7684Http\u8bf7\u6c42\u76f4\u63a5\u63d0\u4ea4\u7ed9\u67d0\u4e00\u4e2a\u6307\u5b9a\u7684BE\u8282\u70b9\uff0c\u5e76\u7531\u8be5\u8282\u70b9\u4f5c\u4e3a\u672c\u6b21Stream Load\u4efb\u52a1\u7684Coordinator\u3002\u5728Stream Load\u8fc7\u7a0b\u4e2d\uff0cExecutor BE\u8282\u70b9\u8d1f\u8d23\u5c06\u6570\u636e\u5199\u5165\u5b58\u50a8\u5c42\u3002\\n\\n\u5728Coordinator BE\u4e2d\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u7a0b\u6c60\u6765\u5904\u7406\u6240\u6709\u7684Http\u8bf7\u6c42\uff0c\u5176\u4e2d\u5305\u62ecStream Load\u8bf7\u6c42\u3002\u4e00\u6b21Stream Load\u4efb\u52a1\u901a\u8fc7\u5bfc\u5165\u7684Label\u552f\u4e00\u6807\u8bc6\u3002Stream Load\u7684\u539f\u7406\u6846\u56fe\u5982\u56fe1\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_1_en.png)\\n\\nStream Load\u5b8c\u6574\u6267\u884c\u6d41\u7a0b\u5982\u56fe2\u6240\u793a\uff1a\\n\\n(1)\u7528\u6237\u63d0\u4ea4Stream Load\u7684Http\u8bf7\u6c42\u5230FE\uff08\u7528\u6237\u4e5f\u53ef\u4ee5\u76f4\u63a5\u63d0\u4ea4Stream Load\u7684Http\u8bf7\u6c42\u5230Coordinator BE\uff09\u3002\\n\\n(2)FE\u63a5\u6536\u5230\u7528\u6237\u63d0\u4ea4\u7684Stream Load\u8bf7\u6c42\u540e\uff0c\u4f1a\u8fdb\u884cHttp\u7684Header\u89e3\u6790\uff08\u5176\u4e2d\u5305\u62ec\u89e3\u6790\u6570\u636e\u5bfc\u5165\u7684\u5e93\u3001\u8868\u3001Label\u7b49\u4fe1\u606f\uff09\uff0c\u7136\u540e\u8fdb\u884c\u7528\u6237\u9274\u6743\u3002\u5982\u679cHttp\u7684Header\u89e3\u6790\u6210\u529f\u5e76\u4e14\u7528\u6237\u9274\u6743\u901a\u8fc7\uff0cFE\u4f1a\u5c06Stream Load\u7684Http\u8bf7\u6c42\u8f6c\u53d1\u5230\u4e00\u53f0BE\u8282\u70b9\uff0c\u8be5BE\u8282\u70b9\u5c06\u4f5c\u4e3a\u672c\u6b21Stream Load\u7684Coordinator\uff1b\u5426\u5219\uff0cFE\u4f1a\u76f4\u63a5\u5411\u7528\u6237\u8fd4\u56deStream Load\u7684\u5931\u8d25\u4fe1\u606f\u3002\\n\\n(3)Coordinator BE\u63a5\u6536\u5230Stream Load\u7684Http\u8bf7\u6c42\u540e\uff0c\u4f1a\u9996\u5148\u8fdb\u884cHttp\u7684Header\u89e3\u6790\u548c\u6570\u636e\u6821\u9a8c\uff0c\u5176\u4e2d\u5305\u62ec\u89e3\u6790\u6570\u636e\u7684\u6587\u4ef6\u683c\u5f0f\u3001\u6570\u636ebody\u7684\u5927\u5c0f\u3001Http\u8d85\u65f6\u65f6\u95f4\u3001\u8fdb\u884c\u7528\u6237\u9274\u6743\u7b49\u3002\u5982\u679cHeader\u6570\u636e\u6821\u9a8c\u5931\u8d25\uff0c\u4f1a\u76f4\u63a5\u5411\u7528\u6237\u8fd4\u56deStream Load\u7684\u5931\u8d25\u4fe1\u606f\u3002\\n\\n(4)Http Header\u6570\u636e\u6821\u9a8c\u901a\u8fc7\u4e4b\u540e\uff0cCoordinator BE\u4f1a\u901a\u8fc7Thrift RPC\u5411FE\u53d1\u9001Begin Transaction\u7684\u8bf7\u6c42\u3002\\n\\n(5)FE\u6536\u5230Coordinator BE\u53d1\u9001\u7684Begin Transaction\u7684\u8bf7\u6c42\u4e4b\u540e\uff0c\u4f1a\u5f00\u542f\u4e00\u4e2a\u4e8b\u52a1\uff0c\u5e76\u5411Coordinator BE\u8fd4\u56deTransaction Id\u3002\\n\\n(6)Coordinator BE\u6536\u5230Begin Transaction\u6210\u529f\u4fe1\u606f\u4e4b\u540e\uff0c\u4f1a\u901a\u8fc7Thrift RPC\u5411 FE\u53d1\u9001\u83b7\u53d6\u5bfc\u5165\u8ba1\u5212\u7684\u8bf7\u6c42\u3002\\n\\n(7)FE\u6536\u5230Coordinator BE\u53d1\u9001\u7684\u83b7\u53d6\u5bfc\u5165\u8ba1\u5212\u7684\u8bf7\u6c42\u4e4b\u540e\uff0c\u4f1a\u4e3aStream Load\u4efb\u52a1\u751f\u6210\u5bfc\u5165\u8ba1\u5212\uff0c\u5e76\u8fd4\u56de\u7ed9Coordinator BE\u3002\\n\\n(8)Coordinator BE\u63a5\u6536\u5230\u5bfc\u5165\u8ba1\u5212\u4e4b\u540e\uff0c\u5f00\u59cb\u6267\u884c\u5bfc\u5165\u8ba1\u5212\uff0c\u5176\u4e2d\u5305\u62ec\u63a5\u6536Http\u4f20\u6765\u7684\u5b9e\u65f6\u6570\u636e\u4ee5\u53ca\u5c06\u5b9e\u65f6\u6570\u636e\u901a\u8fc7BRPC\u5206\u53d1\u5230\u5176\u4ed6Executor BE\u3002\\n\\n(9)Executor BE\u63a5\u6536\u5230Coordinator BE\u5206\u53d1\u7684\u5b9e\u65f6\u6570\u636e\u4e4b\u540e\uff0c\u8d1f\u8d23\u5c06\u6570\u636e\u5199\u5165\u5b58\u50a8\u5c42\u3002\\n\\n(10)Executor BE\u5b8c\u6210\u6570\u636e\u5199\u5165\u4e4b\u540e\uff0cCoordinator BE\u901a\u8fc7Thrift RPC \u5411FE\u53d1\u9001Commit Transaction\u7684\u8bf7\u6c42\u3002\\n\\n(11)FE\u6536\u5230Coordinator BE\u53d1\u9001\u7684Commit Transaction\u7684\u8bf7\u6c42\u4e4b\u540e\uff0c\u4f1a\u5bf9\u4e8b\u52a1\u8fdb\u884c\u63d0\u4ea4\uff0c \u5e76\u5411Executor BE\u53d1\u9001 Publish Version\u7684\u4efb\u52a1\uff0c\u540c\u65f6\u7b49\u5f85Executor BE\u6267\u884cPublish Version\u5b8c\u6210\u3002\\n\\n(12)Executor BE\u5f02\u6b65\u6267\u884cPublish Version\uff0c\u5c06\u6570\u636e\u5bfc\u5165\u751f\u6210\u7684Rowset\u53d8\u4e3a\u53ef\u89c1\u6570\u636e\u7248\u672c\u3002\\n\\n(13)Publish Version\u6b63\u5e38\u5b8c\u6210\u6216\u6267\u884c\u8d85\u65f6\u4e4b\u540e\uff0cFE\u5411Coordinator BE\u8fd4\u56deCommit Transaction\u548cPublish Version\u7684\u7ed3\u679c\u3002\\n\\n(14)Coordinator BE\u5411\u7528\u6237\u8fd4\u56deStream Load\u7684\u6700\u7ec8\u7ed3\u679c\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_2_en.png)\\n\\n# 2 \u4e8b\u52a1\u7ba1\u7406\\n\\nDoris\u901a\u8fc7\u4e8b\u52a1\uff08Transaction\uff09\u6765\u4fdd\u8bc1\u6570\u636e\u5bfc\u5165\u7684\u539f\u5b50\u6027\uff0c\u4e00\u6b21Stream Load\u4efb\u52a1\u5bf9\u5e94\u4e00\u4e2a\u4e8b\u52a1\u3002Stream Load\u7684\u4e8b\u52a1\u7ba1\u7406\u7531FE\u8d1f\u8d23\uff0cFE\u901a\u8fc7FrontendService\u63a5\u6536Coordinator BE\u8282\u70b9\u53d1\u9001\u6765\u7684Thrift RPC\u4e8b\u52a1\u8bf7\u6c42\uff0c\u4e8b\u52a1\u8bf7\u6c42\u7c7b\u578b\u5305\u62ecBegin Transaction\u3001Commit Transaction\u548cRollback Transaction\u3002Doris\u7684\u4e8b\u52a1\u72b6\u6001\u5305\u62ec\uff1aPREPARE\u3001COMMITTED\u3001VISIBLE\u548cABORTED\u3002Stream Load\u4e8b\u52a1\u7684\u72b6\u6001\u6d41\u8f6c\u8fc7\u7a0b\u5982\u56fe3\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_3_en.png)\\n\\n\u6570\u636e\u5bfc\u5165\u5f00\u59cb\u4e4b\u524d\uff0cCoordinator BE\u8282\u70b9\u4f1a\u5411FE\u53d1\u9001Begin Transaction\u8bf7\u6c42\uff0cFE\u4f1a\u68c0\u67e5\u672c\u6b21Begin Transaction\u8bf7\u6c42\u7684label\u662f\u5426\u5df2\u7ecf\u5b58\u5728\uff0c\u5982\u679clabel\u5728\u7cfb\u7edf\u4e2d\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u4e3a\u5f53\u524dlabel\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\uff0c\u5e76\u4e3a\u4e8b\u52a1\u5206\u914dTransaction Id\uff0c\u540c\u65f6\u5c06\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3aPREPARE\uff0c\u7136\u540e\u5c06Transaction Id\u4ee5\u53caBegin Transaction\u6210\u529f\u7684\u4fe1\u606f\u8fd4\u56de\u7ed9Coordinator BE\uff1b\u5426\u5219\uff0c\u672c\u6b21\u4e8b\u52a1\u53ef\u80fd\u662f\u4e00\u6b21\u91cd\u590d\u7684\u6570\u636e\u5bfc\u5165\uff0cFE\u5411Coordinator BE\u8fd4\u56deBegin Transaction\u5931\u8d25\u7684\u4fe1\u606f\uff0cStream Load\u4efb\u52a1\u9000\u51fa\u3002\\n\\n\u5f53\u6570\u636e\u5728\u6240\u6709Executor BE\u8282\u70b9\u5b8c\u6210\u5199\u5165\u4e4b\u540e\uff0cCoordinator BE\u8282\u70b9\u4f1a\u5411FE\u53d1\u9001Commit Transaction\u8bf7\u6c42\uff0cFE\u6536\u5230Commit Transaction\u8bf7\u6c42\u4e4b\u540e\u4f1a\u6267\u884cCommit Transaction\u4ee5\u53caPublish Version\u4e24\u4e2a\u64cd\u4f5c\u3002\u9996\u5148\uff0cFE\u4f1a\u5224\u65ad\u6bcf\u4e00\u4e2aTablet\u6210\u529f\u5199\u5165\u6570\u636e\u7684\u526f\u672c\u6570\u91cf\u662f\u5426\u8d85\u8fc7\u4e86Tablet\u526f\u672c\u603b\u6570\u7684\u4e00\u534a\uff0c\u5982\u679c\u6bcf\u4e00\u4e2aTablet\u6210\u529f\u5199\u5165\u6570\u636e\u7684\u526f\u672c\u6570\u91cf\u90fd\u8d85\u8fc7Tablet\u526f\u672c\u603b\u6570\u7684\u4e00\u534a\uff08\u591a\u6570\u6210\u529f\uff09\uff0c\u5219Commit Transaction\u6210\u529f\uff0c\u5e76\u5c06\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3aCOMMITTED\uff1b\u5426\u5219\uff0c\u5411Coordinator BE\u8fd4\u56deCommit Transaction\u5931\u8d25\u7684\u4fe1\u606f\u3002COMMITTED\u72b6\u6001\u8868\u793a\u6570\u636e\u5df2\u7ecf\u6210\u529f\u5199\u5165\uff0c\u4f46\u662f\u6570\u636e\u8fd8\u4e0d\u53ef\u89c1\uff0c\u9700\u8981\u7ee7\u7eed\u6267\u884cPublish Version\u4efb\u52a1\uff0c\u6b64\u540e\uff0c\u4e8b\u52a1\u4e0d\u53ef\u88ab\u56de\u6eda\u3002\\n\\nFE\u4f1a\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u7ebf\u7a0b\u5bf9Commit\u6210\u529f\u7684Transaction\u6267\u884cPublish Version\uff0cFE\u6267\u884cPublish Version\u65f6\u4f1a\u901a\u8fc7Thrift RPC\u5411Transaction\u76f8\u5173\u7684\u6240\u6709Executor BE\u8282\u70b9\u4e0b\u53d1Publish Version\u8bf7\u6c42\uff0cPublish Version\u4efb\u52a1\u5728\u5404\u4e2aExecutor BE\u8282\u70b9\u5f02\u6b65\u6267\u884c\uff0c\u5c06\u6570\u636e\u5bfc\u5165\u751f\u6210\u7684Rowset\u53d8\u4e3a\u53ef\u89c1\u7684\u6570\u636e\u7248\u672c\u3002\u5f53Executor BE\u4e0a\u6240\u6709\u7684Publish Version\u4efb\u52a1\u6267\u884c\u6210\u529f\uff0cFE\u4f1a\u5c06\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3aVISIBLE\uff0c\u5e76\u5411Coordinator BE\u8fd4\u56deCommit Transaction\u4ee5\u53caPublish Version\u6210\u529f\u7684\u4fe1\u606f\u3002\u5982\u679c\u5b58\u5728\u67d0\u4e9bPublish Version\u4efb\u52a1\u5931\u8d25\uff0cFE\u4f1a\u5411Executor BE\u8282\u70b9\u91cd\u590d\u4e0b\u53d1Publish Version\u8bf7\u6c42\u76f4\u5230\u4e4b\u524d\u5931\u8d25\u7684Publish Version\u4efb\u52a1\u6210\u529f\u3002\u5982\u679c\u5728\u4e00\u5b9a\u8d85\u65f6\u65f6\u95f4\u4e4b\u540e\uff0c\u4e8b\u52a1\u72b6\u6001\u8fd8\u6ca1\u6709\u88ab\u8bbe\u7f6e\u4e3aVISIBLE\uff0cFE\u5c31\u4f1a\u5411Coordinator BE\u8fd4\u56deCommit Transaction\u6210\u529f\u4f46Publish Version\u8d85\u65f6\u7684\u4fe1\u606f\uff08\u6ce8\u610f\uff0c\u6b64\u65f6\u6570\u636e\u4f9d\u7136\u662f\u5199\u5165\u6210\u529f\u7684\uff0c\u53ea\u662f\u8fd8\u5904\u4e8e\u4e0d\u53ef\u89c1\u72b6\u6001\uff0c\u7528\u6237\u9700\u8981\u7b49\u5f85\u4e8b\u52a1\u72b6\u6001\u6700\u7ec8\u53d8\u4e3aVISIBLE\uff09\u3002\\n\\n\u5f53\u4eceFE\u83b7\u53d6\u5bfc\u5165\u8ba1\u5212\u5931\u8d25\u3001\u6267\u884c\u6570\u636e\u5bfc\u5165\u5931\u8d25\u6216Commit Transaction\u5931\u8d25\u65f6\uff0cCoordinator BE\u8282\u70b9\u4f1a\u5411FE\u53d1\u9001Rollback Transaction\u8bf7\u6c42\uff0c\u6267\u884c\u4e8b\u52a1\u56de\u6eda\u3002FE\u6536\u5230\u4e8b\u52a1\u56de\u6eda\u7684\u8bf7\u6c42\u4e4b\u540e\uff0c\u4f1a\u5c06\u4e8b\u52a1\u7684\u72b6\u6001\u8bbe\u7f6e\u4e3aABORTED\uff0c\u5e76\u901a\u8fc7Thrift RPC\u5411Executor BE\u53d1\u9001Clear Transaction\u7684\u8bf7\u6c42\uff0cClear Transaction\u4efb\u52a1\u5728BE\u8282\u70b9\u5f02\u6b65\u6267\u884c\uff0c\u5c06\u6570\u636e\u5bfc\u5165\u751f\u6210\u7684Rowset\u6807\u8bb0\u4e3a\u4e0d\u53ef\u7528\uff0c\u8fd9\u4e9bRowset\u5728\u4e4b\u540e\u4f1a\u4eceBE\u4e0a\u88ab\u5220\u9664\u3002\u72b6\u6001\u4e3aCOMMITTED\u7684\u4e8b\u52a1\uff08Commit Transaction\u6210\u529f\u4f46Publish Version\u8d85\u65f6\u7684\u4e8b\u52a1\uff09\u4e0d\u80fd\u88ab\u56de\u6eda\u3002\\n\\n# 3 \u5bfc\u5165\u8ba1\u5212\u7684\u6267\u884c\\n\u5728Doris\u7684BE\u4e2d\uff0c\u6240\u6709\u6267\u884c\u8ba1\u5212\u7531FragmentMgr\u7ba1\u7406\uff0c\u6bcf\u4e00\u4e2a\u5bfc\u5165\u8ba1\u5212\u7684\u6267\u884c\u7531PlanFragmentExecutor\u8d1f\u8d23\u3002BE\u4eceFE\u83b7\u53d6\u5230\u5bfc\u5165\u6267\u884c\u8ba1\u5212\u4e4b\u540e\uff0c\u4f1a\u5c06\u5bfc\u5165\u8ba1\u5212\u63d0\u4ea4\u5230FragmentMgr\u7684\u7ebf\u7a0b\u6c60\u6267\u884c\u3002Stream Load \u7684\u5bfc\u5165\u6267\u884c\u8ba1\u5212\u53ea\u6709\u4e00\u4e2aFragment\uff0c \u5176\u4e2d\u5305\u542b\u4e00\u4e2aBrokerScanNode \u548c \u4e00\u4e2a OlapTableSink\u3002BrokerScanNode\u8d1f\u8d23\u5b9e\u65f6\u8bfb\u53d6\u6d41\u5f0f\u6570\u636e\uff0c\u5e76\u5c06 CSV \u683c\u5f0f\u6216JSON\u683c\u5f0f\u7684\u6570\u636e\u884c\u8f6c\u4e3a Doris \u7684Tuple\u683c\u5f0f\uff1bOlapTableSink \u8d1f\u8d23\u5c06\u5b9e\u65f6\u6570\u636e\u53d1\u9001\u5230\u5bf9\u5e94\u7684Executor BE\u8282\u70b9\uff0c\u6bcf\u4e2a\u6570\u636e\u884c\u5bf9\u5e94\u54ea\u4e2aExecutor BE\u8282\u70b9\u662f\u7531\u6570\u636e\u884c\u6240\u5728\u7684Tablet\u5b58\u50a8\u5728\u54ea\u4e9bBE\u4e0a\u51b3\u5b9a\u7684\uff0c\u53ef\u4ee5\u6839\u636e\u6570\u636e\u884c\u7684 PartitionKey\u548cDistributionKey\u786e\u5b9a\u8be5\u884c\u6570\u636e\u6240\u5728\u7684Partition\u548cTablet\uff0c\u6bcf\u4e2aTablet\u53ca\u5176\u526f\u672c\u5b58\u50a8\u5728\u54ea\u53f0BE\u8282\u70b9\u4e0a\u662f\u5728Table\u6216Partition\u521b\u5efa\u65f6\u5c31\u5df2\u7ecf\u786e\u5b9a\u7684\u3002\\n\\n\u5bfc\u5165\u6267\u884c\u8ba1\u5212\u63d0\u4ea4\u5230FragmentMgr\u7684\u7ebf\u7a0b\u6c60\u4e4b\u540e\uff0cStream Load\u7ebf\u7a0b\u4f1a\u6309\u5757\uff08chunk\uff09\u63a5\u6536\u901a\u8fc7Http\u4f20\u8f93\u7684\u5b9e\u65f6\u6570\u636e\u5e76\u5199\u5165StreamLoadPipe\u4e2d\uff0cBrokerScanNode\u4f1a\u4eceStreamLoadPipe\u4e2d\u6279\u91cf\u8bfb\u53d6\u5b9e\u65f6\u6570\u636e\uff0cOlapTableSink\u4f1a\u5c06BrokerScanNode\u8bfb\u53d6\u7684\u6279\u91cf\u6570\u636e\u901a\u8fc7BRPC\u53d1\u9001\u5230Executor BE\u8fdb\u884c\u6570\u636e\u5199\u5165\u3002\u6240\u6709\u5b9e\u65f6\u6570\u636e\u90fd\u5199\u5165StreamLoadPipe\u4e4b\u540e\uff0cStream Load\u7ebf\u7a0b\u4f1a\u7b49\u5f85\u5bfc\u5165\u8ba1\u5212\u6267\u884c\u7ed3\u675f\u3002\\n\\nPlanFragmentExecutor\u6267\u884c\u4e00\u4e2a\u5177\u4f53\u7684\u5bfc\u5165\u8ba1\u5212\u8fc7\u7a0b\u7531Prepare\u3001Open\u548cClose\u4e09\u4e2a\u9636\u6bb5\u7ec4\u6210\u3002\u5728Prepare\u9636\u6bb5\uff0c\u4e3b\u8981\u5bf9\u6765\u81eaFE\u7684\u5bfc\u5165\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u89e3\u6790\uff1b\u5728Open\u9636\u6bb5\uff0c\u4f1a\u6253\u5f00BrokerScanNode\u548cOlapTableSink\uff0cBrokerScanNode\u8d1f\u8d23\u6bcf\u6b21\u8bfb\u53d6\u4e00\u4e2aBatch\u7684\u5b9e\u65f6\u6570\u636e\uff0cOlapTableSink\u8d1f\u8d23\u8c03\u7528BRPC\u5c06\u6bcf\u4e00\u4e2aBatch\u7684\u6570\u636e\u53d1\u9001\u5230\u5176\u4ed6Executor BE\u8282\u70b9\uff1b\u5728Close\u9636\u6bb5\uff0c\u8d1f\u8d23\u7b49\u5f85\u6570\u636e\u5bfc\u5165\u7ed3\u675f\uff0c\u5e76\u5173\u95edBrokerScanNode\u548cOlapTableSink\u3002Stream Load\u7684\u5bfc\u5165\u6267\u884c\u8ba1\u5212\u5982\u56fe4\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_4_en.png)\\n\\nOlapTableSink\u8d1f\u8d23Stream Load\u4efb\u52a1\u7684\u6570\u636e\u5206\u53d1\u3002Doris\u4e2d\u7684Table\u53ef\u80fd\u4f1a\u6709Rollup\u6216\u7269\u5316\u89c6\u56fe\uff0c\u6bcf\u4e00\u4e2aTable\u53ca\u5176Rollup\u3001\u7269\u5316\u89c6\u56fe\u90fd\u79f0\u4e3a\u4e00\u4e2aIndex\u3002\u6570\u636e\u5206\u53d1\u8fc7\u7a0b\u4e2d\uff0cIndexChannel\u4f1a\u7ef4\u62a4\u4e00\u4e2aIndex\u7684\u6570\u636e\u5206\u53d1\u901a\u9053\uff0cIndex\u4e0b\u7684Tablet\u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u526f\u672c\uff08Replica\uff09\uff0c\u5e76\u5206\u5e03\u5728\u4e0d\u540c\u7684BE\u8282\u70b9\u4e0a\uff0cNodeChannel\u4f1a\u5728IndexChannel\u4e0b\u7ef4\u62a4\u4e00\u4e2aExecutor BE\u8282\u70b9\u7684\u6570\u636e\u5206\u53d1\u901a\u9053\uff0c\u56e0\u6b64\uff0cOlapTableSink\u4e0b\u5305\u542b\u591a\u4e2aIndexChannel\uff0c\u6bcf\u4e00\u4e2aIndexChannel\u4e0b\u5305\u542b\u591a\u4e2aNodeChannel\uff0c\u5982\u56fe5\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_5_en.png)\\n\\nOlapTableSink\u5206\u53d1\u6570\u636e\u65f6\uff0c\u4f1a\u9010\u884c\u8bfb\u53d6BrokerScanNode\u83b7\u53d6\u5230\u7684\u6570\u636eBatch\uff0c\u5e76\u5c06\u6570\u636e\u884c\u6dfb\u52a0\u5230\u6bcf\u4e00\u4e2aIndex\u7684IndexChannel\u4e2d\u3002\u53ef\u4ee5\u6839\u636e PartitionKey\u548cDistributionKey\u786e\u5b9a\u6570\u636e\u884c\u6240\u5728\u7684Partition\u548cTablet\uff0c\u8fdb\u800c\u6839\u636eTablet\u5728Partition\u4e2d\u7684\u987a\u5e8f\u8ba1\u7b97\u51fa\u6570\u636e\u884c\u5728\u5176\u4ed6Index\u4e2d\u5bf9\u5e94\u7684Tablet\u3002\u6bcf\u4e00\u4e2aTablet\u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u526f\u672c\uff0c\u5e76\u5206\u5e03\u5728\u4e0d\u540c\u7684BE\u8282\u70b9\u4e0a\uff0c\u56e0\u6b64\uff0c\u5728IndexChannel\u4e2d\u4f1a\u5c06\u6bcf\u4e00\u4e2a\u6570\u636e\u884c\u6dfb\u52a0\u5230\u5176\u6240\u5728Tablet\u7684\u6bcf\u4e00\u4e2a\u526f\u672c\u5bf9\u5e94\u7684NodeChannel\u4e2d\u3002\u6bcf\u4e00\u4e2aNodeChannel\u4e2d\u90fd\u4f1a\u6709\u4e00\u4e2a\u53d1\u9001\u961f\u5217\uff0c\u5f53NodeChannel\u4e2d\u65b0\u589e\u7684\u6570\u636e\u884c\u7d2f\u79ef\u5230\u4e00\u5b9a\u7684\u5927\u5c0f\u5c31\u4f1a\u4f5c\u4e3a\u4e00\u4e2a\u6570\u636eBatch\u88ab\u6dfb\u52a0\u5230\u53d1\u9001\u961f\u5217\u4e2d\u3002OlapTableSink\u4e2d\u4f1a\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u7ebf\u7a0b\u4f9d\u6b21\u8f6e\u8bad\u6bcf\u4e00\u4e2aIndexChannel\u4e0b\u7684\u6bcf\u4e00\u4e2aNodeChannel\uff0c\u5e76\u8c03\u7528BRPC\u5c06\u53d1\u9001\u961f\u5217\u4e2d\u7684\u4e00\u4e2a\u6570\u636eBatch\u53d1\u9001\u5230\u5bf9\u5e94\u7684Executor BE\u4e0a\u3002Stream Load\u4efb\u52a1\u7684\u6570\u636e\u5206\u53d1\u8fc7\u7a0b\u5982\u56fe6\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_6_en.png)\\n\\n# 4 **\u6570\u636e\u5199\u5165**\\n\\nExecutor BE\u7684BRPC server\u63a5\u6536\u5230Coordinator BE\u53d1\u9001\u6765\u7684\u6570\u636eBatch\u4e4b\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u5199\u5165\u4efb\u52a1\u63d0\u4ea4\u5230\u7ebf\u7a0b\u6c60\u6765\u5f02\u6b65\u6267\u884c\u3002\u5728Doris\u7684BE\u4e2d\uff0c\u6570\u636e\u91c7\u7528\u5206\u5c42\u7684\u65b9\u5f0f\u5199\u5165\u5b58\u50a8\u5c42\uff0c\u6bcf\u4e00\u4e2aStream Load\u4efb\u52a1\u5728\u6bcf\u4e2aExecutor BE\u4e0a\u90fd\u5bf9\u5e94\u4e00\u4e2aLoadChannel\uff0cLoadChannel\u7ef4\u62a4\u4e00\u6b21Stream Load\u4efb\u52a1\u7684\u6570\u636e\u5199\u5165\u901a\u9053\uff0c\u8d1f\u8d23\u4e00\u6b21Stream Load\u4efb\u52a1\u5728\u5f53\u524dExecutor BE\u8282\u70b9\u7684\u6570\u636e\u5199\u5165\uff0cLoadChannel\u53ef\u4ee5\u5c06\u4e00\u6b21Stream Load\u4efb\u52a1\u5728\u5f53\u524dBE\u8282\u70b9\u7684\u6570\u636e\u5206\u6279\u5199\u5165\u5b58\u50a8\u5c42\uff0c\u76f4\u5230Stream Load\u4efb\u52a1\u5b8c\u6210\u3002\u6bcf\u4e00\u4e2aLoadChannel\u7531Load Id\u552f\u4e00\u6807\u8bc6\uff0cBE\u8282\u70b9\u4e0a\u7684\u6240\u6709LoadChannel\u7531LoadChannelMgr\u8fdb\u884c\u7ba1\u7406\u3002\u4e00\u6b21Stream Load\u4efb\u52a1\u5bf9\u5e94\u7684Table\u53ef\u80fd\u4f1a\u6709\u591a\u4e2aIndex\uff0c\u6bcf\u4e00\u4e2aIndex\u5bf9\u5e94\u4e00\u4e2aTabletsChannel\uff0c\u7531Index Id\u552f\u4e00\u6807\u8bc6\uff0c\u56e0\u6b64\uff0c\u6bcf\u4e00\u4e2aLoadChannel\u4e0b\u4f1a\u6709\u591a\u4e2aTabletsChannel\u3002TabletsChannel\u7ef4\u62a4\u4e00\u4e2aIndex\u7684\u6570\u636e\u5199\u5165\u901a\u9053\uff0c\u8d1f\u8d23\u7ba1\u7406Index\u4e0b\u6240\u6709Tablet\u7684\u6570\u636e\u5199\u5165\uff0cTabletsChannel\u4f1a\u9010\u884c\u8bfb\u53d6\u6570\u636eBatch\u5e76\u901a\u8fc7DeltaWriter\u5199\u5165\u5bf9\u5e94\u7684Tablet\u4e2d\u3002DeltaWriter\u7ef4\u62a4\u4e00\u4e2aTablet\u7684\u6570\u636e\u5199\u5165\u901a\u9053\uff0c\u7531Tablet Id\u552f\u4e00\u6807\u8bc6\uff0c\u8d1f\u8d23\u63a5\u6536\u5355\u4e2aTablet\u7684\u6570\u636e\u5bfc\u5165\uff0c\u5e76\u5c06\u6570\u636e\u5199\u5165Tablet\u5bf9\u5e94\u7684MemTable\u4e2d\uff0c\u5f53MemTable\u5199\u6ee1\u4e4b\u540e\uff0c\u4f1a\u5c06MemTable\u91cc\u7684\u6570\u636e\u5237\u5199\uff08Flush\uff09\u5230\u78c1\u76d8\u5e76\u751f\u6210\u4e00\u4e2a\u4e2aSegment\u6587\u4ef6\u3002MemTable\u91c7\u7528SkipList\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5c06\u6570\u636e\u6682\u65f6\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0cSkipList\u4f1a\u6309\u7167Schema\u7684Key\u5bf9\u6570\u636e\u884c\u8fdb\u884c\u6392\u5e8f\uff0c\u53e6\u5916\uff0c\u5982\u679c\u6570\u636e\u6a21\u578b\u4e3aAggregate\u6216Unique\uff0cMemTable\u4f1a\u5bf9\u5177\u6709\u76f8\u540cKey\u7684\u6570\u636e\u884c\u8fdb\u884c\u805a\u5408\u3002Stream Load\u4efb\u52a1\u7684\u6570\u636e\u5199\u5165\u901a\u9053\u5982\u56fe7\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_7_en.png)\\n\\nMemTable\u7684\u5237\u5199\u64cd\u4f5c\u7531MemtableFlushExecutor\u5f02\u6b65\u6267\u884c\uff0c\u5f53MemTable\u7684\u5237\u5199\u4efb\u52a1\u63d0\u4ea4\u5230\u7ebf\u7a0b\u6c60\u4e4b\u540e\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684MemTable\u6765\u63a5\u6536\u5f53\u524dTablet\u7684\u540e\u7eed\u6570\u636e\u5199\u5165\u3002MemtableFlushExecutor\u6267\u884c\u6570\u636e\u5237\u5199\u65f6\uff0cRowsetWriter\u4f1a\u8bfb\u51faMemTable\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u5e76\u901a\u8fc7SegmentWriter\u5237\u5199\u51fa\u591a\u4e2aSegment\u6587\u4ef6\uff0c\u6bcf\u4e2aSegment\u6587\u4ef6\u5927\u5c0f\u4e0d\u8d85\u8fc7256MB\u3002\u5bf9\u4e8e\u4e00\u4e2aTablet\uff0c\u6bcf\u6b21Stream Load\u4efb\u52a1\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684Rowset\uff0c\u751f\u6210\u7684Rowset\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2aSegment\u6587\u4ef6\u3002Stream Load\u4efb\u52a1\u7684\u6570\u636e\u5199\u5165\u8fc7\u7a0b\u5982\u56fe8\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-Stream-Load/Figure_8_en.png)\\n\\nExecutor BE\u8282\u70b9\u4e0a\u7684TxnManager\u8d1f\u8d23Tablet\u7ea7\u522b\u6570\u636e\u5bfc\u5165\u7684\u4e8b\u52a1\u7ba1\u7406\uff0cDeltaWriter\u521d\u59cb\u5316\u65f6\uff0c\u4f1a\u6267\u884cPrepare Transaction\u5c06\u5bf9\u5e94Tablet\u5728\u672c\u6b21Stream Load\u4efb\u52a1\u4e2d\u7684\u6570\u636e\u5199\u5165\u4e8b\u52a1\u6dfb\u52a0\u5230TxnManager\u4e2d\u8fdb\u884c\u7ba1\u7406\uff1b\u6570\u636e\u5199\u5165Tablet\u5b8c\u6210\u5e76\u5173\u95edDeltaWriter\u65f6\uff0c\u4f1a\u6267\u884cCommit Transaction\u5c06\u6570\u636e\u5bfc\u5165\u751f\u6210\u7684\u65b0\u7684Rowset\u6dfb\u52a0\u5230TxnManager\u4e2d\u8fdb\u884c\u7ba1\u7406\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684TxnManager\u53ea\u662f\u8d1f\u8d23\u5355\u4e2aBE\u4e0a\u7684\u4e8b\u52a1\uff0c\u800cFE\u4e2d\u7684\u4e8b\u52a1\u7ba1\u7406\u662f\u8d1f\u8d23\u6574\u4f53\u5bfc\u5165\u4e8b\u52a1\u7684\u3002\\n\\n\u6570\u636e\u5bfc\u5165\u7ed3\u675f\u4e4b\u540e\uff0cExecutor BE\u6267\u884cFE\u4e0b\u53d1\u7684Publish  Version\u4efb\u52a1\u65f6\uff0c\u4f1a\u6267\u884cPublish Transaction\u5c06\u6570\u636e\u5bfc\u5165\u751f\u6210\u7684\u65b0\u7684Rowset\u53d8\u4e3a\u53ef\u89c1\u7248\u672c\uff0c\u5e76\u4eceTxnManager\u4e2d\u5c06\u5bf9\u5e94Tablet\u5728\u672c\u6b21Stream Load\u4efb\u52a1\u4e2d\u7684\u6570\u636e\u5199\u5165\u4e8b\u52a1\u5220\u9664\uff0c\u8fd9\u610f\u5473\u7740Tablet\u5728\u672c\u6b21Stream Load\u4efb\u52a1\u4e2d\u7684\u6570\u636e\u5199\u5165\u4e8b\u52a1\u7ed3\u675f\u3002\\n\\n# 5 **Stream Load\u64cd\u4f5c\u5ba1\u8ba1**\\n\\nDoris\u4e3aStream Load\u589e\u52a0\u4e86\u64cd\u4f5c\u5ba1\u8ba1\u529f\u80fd\uff0c\u6bcf\u4e00\u6b21Stream Load\u4efb\u52a1\u7ed3\u675f\u5e76\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u7528\u6237\u4e4b\u540e\uff0cCoordinator BE\u4f1a\u5c06\u672c\u6b21Stream Load\u4efb\u52a1\u7684\u8be6\u7ec6\u4fe1\u606f\u6301\u4e45\u5316\u5730\u5b58\u50a8\u5728\u672c\u5730RocksDB\u4e0a\u3002Master FE\u5b9a\u65f6\u5730\u901a\u8fc7Thrift RPC\u4ece\u96c6\u7fa4\u7684\u5404\u4e2aBE\u8282\u70b9\u4e0a\u62c9\u53d6\u5df2\u7ecf\u7ed3\u675f\u7684Stream Load\u4efb\u52a1\u7684\u4fe1\u606f\uff0c\u6bcf\u6b21\u4ece\u4e00\u4e2aBE\u8282\u70b9\u4e0a\u62c9\u53d6\u4e00\u4e2a\u6279\u6b21\u7684Stream Load\u64cd\u4f5c\u8bb0\u5f55\uff0c\u5e76\u5c06\u62c9\u53d6\u5230\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u5199\u5165\u5ba1\u8ba1\u65e5\u5fd7\uff08fe.audit.log\uff09\u4e2d\u3002\u5b58\u50a8\u5728BE\u4e0a\u7684\u6bcf\u4e00\u6761Stream Load\u4efb\u52a1\u4fe1\u606f\u4f1a\u8bbe\u6709\u8fc7\u671f\u65f6\u95f4\uff08TTL\uff09\uff0cRocksDB\u6267\u884cCompaction\u65f6\u4f1a\u5c06\u8fc7\u671f\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u8fdb\u884c\u5220\u9664\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7FE\u7684\u5ba1\u8ba1\u65e5\u5fd7\u5bf9\u5386\u53f2\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u8fdb\u884c\u5ba1\u8ba1\u3002\\n\\nFE\u5c06\u62c9\u53d6\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u5199\u5165Audit\u65e5\u5fd7\u7684\u540c\u65f6\uff0c\u4f1a\u5728\u5185\u5b58\u4e2d\u4fdd\u7559\u4e00\u4efd\u3002\u4e3a\u9632\u6b62\u5185\u5b58\u81a8\u80c0\uff0c\u5185\u5b58\u4e2d\u4f1a\u4fdd\u7559\u56fa\u5b9a\u6570\u91cf\u7684Stream Load\u4efb\u52a1\u7684\u4fe1\u606f\uff0c\u968f\u7740\u540e\u7eed\u62c9\u53d6\u6570\u636e\u5730\u6301\u7eed\u8fdb\u884c\uff0c\u4f1a\u4eceFE\u5185\u5b58\u4e2d\u9010\u6e10\u6dd8\u6c70\u6389\u65e9\u671f\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5ba2\u6237\u7aef\u6267\u884cSHOW STREAM LOAD\u547d\u4ee4\u6765\u67e5\u8be2\u6700\u8fd1\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u3002\\n\\n# \u603b\u7ed3\\n\\n\u672c\u6587\u4eceStream Load\u7684\u6267\u884c\u6d41\u7a0b\u3001\u4e8b\u52a1\u7ba1\u7406\u3001\u5bfc\u5165\u8ba1\u5212\u7684\u6267\u884c\u3001\u6570\u636e\u5199\u5165\u4ee5\u53ca\u64cd\u4f5c\u5ba1\u8ba1\u7b49\u65b9\u9762\u5bf9Stream Load\u7684\u5b9e\u73b0\u539f\u7406\u8fdb\u884c\u4e86\u6df1\u5165\u5730\u89e3\u6790\u3002Stream Load\u662fDoris\u7528\u6237\u6700\u5e38\u7528\u7684\u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u4e4b\u4e00\uff0c\u5b83\u662f\u4e00\u79cd\u540c\u6b65\u7684\u5bfc\u5165\u65b9\u5f0f, \u5141\u8bb8\u7528\u6237\u901a\u8fc7Http\u8bbf\u95ee\u7684\u65b9\u5f0f\u6279\u91cf\u5730\u5c06\u6570\u636e\u5bfc\u5165Doris\uff0c\u5e76\u8fd4\u56de\u6570\u636e\u5bfc\u5165\u7684\u7ed3\u679c\u3002\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7Http\u8bf7\u6c42\u7684\u8fd4\u56de\u4f53\u5224\u65ad\u6570\u636e\u5bfc\u5165\u662f\u5426\u6210\u529f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u5ba2\u6237\u7aef\u6267\u884c\u67e5\u8be2SQL\u6765\u67e5\u8be2\u5386\u53f2\u4efb\u52a1\u7684\u7ed3\u679c\u3002\u53e6\u5916\uff0cDoris\u8fd8\u4e3aStream Load\u63d0\u4f9b\u4e86\u7ed3\u679c\u5ba1\u8ba1\u529f\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u5ba1\u8ba1\u65e5\u5fd7\u5bf9\u5386\u53f2\u7684Stream Load\u4efb\u52a1\u4fe1\u606f\u8fdb\u884c\u5ba1\u8ba1\u3002"},{"id":"/principle-of-Doris-SQL-parsing","metadata":{"permalink":"/zh-CN/blog/principle-of-Doris-SQL-parsing","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/principle-of-Doris-SQL-parsing.md","title":"Doris\u5168\u9762\u89e3\u6790\uff1aDoris SQL \u539f\u7406\u89e3\u6790","description":"\x3c!--","date":"2022-08-25T00:00:00.000Z","formattedDate":"2022\u5e748\u670825\u65e5","tags":[{"label":"\u6280\u672f\u89e3\u6790","permalink":"/zh-CN/blog/tags/\u6280\u672f\u89e3\u6790"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Doris\u5168\u9762\u89e3\u6790\uff1aDoris SQL \u539f\u7406\u89e3\u6790","summary":"\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e86Doris SQL\u89e3\u6790\u7684\u539f\u7406\u3002\u7531\u4e8eSQL\u7c7b\u578b\u6709\u5f88\u591a\uff0c\u672c\u6587\u4fa7\u91cd\u4ecb\u7ecd\u67e5\u8be2SQL\u7684\u89e3\u6790\uff0c\u4ece\u7b97\u6cd5\u539f\u7406\u548c\u4ee3\u7801\u5b9e\u73b0\u4e0a\u6df1\u5165\u8bb2\u89e3\u4e86Doris\u7684SQL\u89e3\u6790\u539f\u7406\u3002","date":"2022-08-25","author":"Apache Doris","tags":["\u6280\u672f\u89e3\u6790"]},"prevItem":{"title":"Doris Stream Load\u539f\u7406\u89e3\u6790","permalink":"/zh-CN/blog/principle-of-Doris-Stream-Load"},"nextItem":{"title":"Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","permalink":"/zh-CN/blog/xiaomi"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n**\u5bfc\u8bfb\uff1a**\\n\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e86Doris SQL\u89e3\u6790\u7684\u539f\u7406\u3002\\n\\n\u91cd\u70b9\u8bb2\u8ff0\u4e86\u751f\u6210\u5355\u673a\u903b\u8f91\u8ba1\u5212\uff0c\u751f\u6210\u5206\u5e03\u5f0f\u903b\u8f91\u8ba1\u5212\uff0c\u751f\u6210\u5206\u5e03\u5f0f\u7269\u7406\u8ba1\u5212\u7684\u8fc7\u7a0b\u3002\u5bf9\u5e94\u4e8e\u4ee3\u7801\u5b9e\u73b0\u662fAnalyze\uff0cSinglePlan\uff0cDistributedPlan\uff0cSchedule\u56db\u4e2a\u90e8\u5206\u3002\\n\\nAnalyze\u8d1f\u8d23\u5bf9AST\u8fdb\u884c\u524d\u671f\u7684\u4e00\u4e9b\u5904\u7406\uff0cSinglePlan\u6839\u636eAST\u8fdb\u884c\u4f18\u5316\u751f\u6210\u5355\u673a\u67e5\u8be2\u8ba1\u5212\uff0cDistributedPlan\u5c06\u5355\u673a\u7684\u67e5\u8be2\u8ba1\u5212\u62c6\u6210\u5206\u5e03\u5f0f\u7684\u67e5\u8be2\u8ba1\u5212\uff0cSchedule\u9636\u6bb5\u8d1f\u8d23\u51b3\u5b9a\u67e5\u8be2\u8ba1\u5212\u4e0b\u53d1\u5230\u54ea\u4e9b\u673a\u5668\u4e0a\u6267\u884c\u3002\\n\\n\u7531\u4e8eSQL\u7c7b\u578b\u6709\u5f88\u591a\uff0c\u672c\u6587\u4fa7\u91cd\u4ecb\u7ecd\u67e5\u8be2SQL\u7684\u89e3\u6790\uff0c\u4ece\u7b97\u6cd5\u539f\u7406\u548c\u4ee3\u7801\u5b9e\u73b0\u4e0a\u6df1\u5165\u8bb2\u89e3\u4e86Doris\u7684SQL\u89e3\u6790\u539f\u7406\u3002\\n\\n# 1 Doris\u7b80\u4ecb\\nDoris\u662f\u57fa\u4e8eMPP\u67b6\u6784\u7684\u4ea4\u4e92\u5f0fSQL\u6570\u636e\u4ed3\u5e93\uff0c\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u8fd1\u5b9e\u65f6\u7684\u62a5\u8868\u548c\u591a\u7ef4\u5206\u6790\u3002\\n\\nDoris\u5206\u6210\u4e24\u90e8\u5206FE\u548cBE\uff0cFE \u8d1f\u8d23\u5b58\u50a8\u4ee5\u53ca\u7ef4\u62a4\u96c6\u7fa4\u5143\u6570\u636e\u3001\u63a5\u6536\u3001\u89e3\u6790\u3001\u67e5\u8be2\u3001\u8bbe\u8ba1\u89c4\u5212\u6574\u4f53\u67e5\u8be2\u6d41\u7a0b\uff0cBE \u8d1f\u8d23\u6570\u636e\u5b58\u50a8\u548c\u5177\u4f53\u7684\u5b9e\u65bd\u8fc7\u7a0b\u3002\\n\\n\u5728 Doris \u7684\u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u7528\u6237\u6570\u636e\u88ab\u6c34\u5e73\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u6570\u636e\u5206\u7247\uff08Tablet\uff0c\u4e5f\u79f0\u4f5c\u6570\u636e\u5206\u6876\uff09\u3002\u6bcf\u4e2a Tablet \u5305\u542b\u82e5\u5e72\u6570\u636e\u884c\u3002\u591a\u4e2a Tablet \u5728\u903b\u8f91\u4e0a\u5f52\u5c5e\u4e8e\u4e0d\u540c\u7684\u5206\u533aPartition\u3002\u4e00\u4e2a Tablet \u53ea\u5c5e\u4e8e\u4e00\u4e2a Partition\u3002\u800c\u4e00\u4e2a Partition \u5305\u542b\u82e5\u5e72\u4e2a Tablet\u3002Tablet \u662f\u6570\u636e\u79fb\u52a8\u3001\u590d\u5236\u7b49\u64cd\u4f5c\u7684\u6700\u5c0f\u7269\u7406\u5b58\u50a8\u5355\u5143\u3002\\n\\n# 2 SQL\u89e3\u6790\u7b80\u4ecb\\nSQL\u89e3\u6790\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u6307\u7684\u662f**\u5c06\u4e00\u6761sql\u8bed\u53e5\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684\u89e3\u6790\u6700\u540e\u751f\u6210\u4e00\u4e2a\u5b8c\u6574\u7684\u7269\u7406\u6267\u884c\u8ba1\u5212\u7684\u8fc7\u7a0b**\u3002\\n\\n\u8fd9\u4e2a\u8fc7\u7a0b\u5305\u62ec\u4ee5\u4e0b\u56db\u4e2a\u6b65\u9aa4\uff1a\u8bcd\u6cd5\u5206\u6790\uff0c\u8bed\u6cd5\u5206\u6790\uff0c\u751f\u6210\u903b\u8f91\u8ba1\u5212\uff0c\u751f\u6210\u7269\u7406\u8ba1\u5212\u3002 \u5982\u56fe1\u6240\u793a\uff1a\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_1_cn.png)\\n\\n## 2.1 \u8bcd\u6cd5\u5206\u6790\\n\\n\u8bcd\u6cd5\u5206\u6790\u4e3b\u8981\u8d1f\u8d23\u5c06\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684sql\u8bc6\u522b\u6210\u4e00\u4e2a\u4e2atoken\uff0c\u4e3a\u8bed\u6cd5\u5206\u6790\u505a\u51c6\u5907\u3002\\n```undefined\\nselect ......  from ...... where ....... group by ..... order by ......\\n\\nSQL \u7684 Token \u53ef\u4ee5\u5206\u4e3a\u5982\u4e0b\u51e0\u7c7b\uff1a\\n\uffee \u5173\u952e\u5b57\uff08select\u3001from\u3001where\uff09\\n\uffee \u64cd\u4f5c\u7b26\uff08+\u3001-\u3001>=\uff09\\n\uffee \u5f00\u95ed\u5408\u6807\u5fd7\uff08(\u3001CASE\uff09\\n\uffee \u5360\u4f4d\u7b26\uff08?\uff09\\n\uffee \u6ce8\u91ca\\n\uffee \u7a7a\u683c\\n......\\n```\\n## 2.2 \u8bed\u6cd5\u5206\u6790\\n\u8bed\u6cd5\u5206\u6790\u4e3b\u8981\u8d1f\u8d23\u6839\u636e\u8bed\u6cd5\u89c4\u5219\uff0c\u5c06\u8bcd\u6cd5\u5206\u6790\u751f\u6210\u7684token\u8f6c\u6210\u62bd\u8c61\u8bed\u6cd5\u6811\uff08Abstract Syntax Tree\uff09\uff0c\u5982\u56fe2\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_2_cn.png)\\n\\n\\n## 2.3 \u903b\u8f91\u8ba1\u5212\\n\u903b\u8f91\u8ba1\u5212\u8d1f\u8d23\u5c06\u62bd\u8c61\u8bed\u6cd5\u6811\u8f6c\u6210\u4ee3\u6570\u5173\u7cfb\u3002\u4ee3\u6570\u5173\u7cfb\u662f\u4e00\u68f5\u7b97\u5b50\u6811\uff0c\u6bcf\u4e2a\u8282\u70b9\u4ee3\u8868\u4e00\u79cd\u5bf9\u6570\u636e\u7684\u8ba1\u7b97\u65b9\u5f0f\uff0c\u6574\u68f5\u6811\u4ee3\u8868\u4e86\u6570\u636e\u7684\u8ba1\u7b97\u65b9\u5f0f\u4ee5\u53ca\u6d41\u52a8\u65b9\u5411\uff0c\u5982\u56fe3\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_3_cn.png)\\n\\n## 2.4 \u7269\u7406\u8ba1\u5212\\n\u7269\u7406\u8ba1\u5212\u662f\u5728\u903b\u8f91\u8ba1\u5212\u7684\u57fa\u7840\u4e0a\uff0c\u6839\u636e\u673a\u5668\u7684\u5206\u5e03\uff0c\u6570\u636e\u7684\u5206\u5e03\uff0c\u51b3\u5b9a\u53bb\u54ea\u4e9b\u673a\u5668\u4e0a\u6267\u884c\u54ea\u4e9b\u8ba1\u7b97\u64cd\u4f5c\u3002\\n\\nDoris\u7cfb\u7edf\u7684SQL\u89e3\u6790\u4e5f\u662f\u91c7\u7528\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u53ea\u4e0d\u8fc7\u6839\u636eDoris\u7cfb\u7edf\u7ed3\u6784\u7684\u7279\u70b9\u548c\u6570\u636e\u7684\u5b58\u50a8\u65b9\u5f0f\uff0c\u8fdb\u884c\u4e86\u7ec6\u5316\u548c\u4f18\u5316\uff0c\u6700\u5927\u5316\u53d1\u6325\u673a\u5668\u7684\u8ba1\u7b97\u80fd\u529b\u3002\\n\\n# 3 \u8bbe\u8ba1\u76ee\u6807\\nDoris SQL\u89e3\u6790\u67b6\u6784\u7684\u8bbe\u8ba1\u6709\u4ee5\u4e0b\u76ee\u6807\uff1a\\n\\n1. \u6700\u5927\u5316\u8ba1\u7b97\u7684\u5e76\u884c\u6027\\n\\n2. \u6700\u5c0f\u5316\u6570\u636e\u7684\u7f51\u7edc\u4f20\u8f93\\n\\n3. \u6700\u5927\u5316\u51cf\u5c11\u9700\u8981\u626b\u63cf\u7684\u6570\u636e\\n\\n# 4 \u603b\u4f53\u67b6\u6784\\nDoris SQL\u89e3\u6790\u5177\u4f53\u5305\u62ec\u4e86\u4e94\u4e2a\u6b65\u9aa4\uff1a\u8bcd\u6cd5\u5206\u6790\uff0c\u8bed\u6cd5\u5206\u6790\uff0c\u751f\u6210\u5355\u673a\u903b\u8f91\u8ba1\u5212\uff0c\u751f\u6210\u5206\u5e03\u5f0f\u903b\u8f91\u8ba1\u5212\uff0c\u751f\u6210\u7269\u7406\u6267\u884c\u8ba1\u5212\u3002\\n\\n\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\u4e0a\u5305\u542b\u4ee5\u4e0b\u4e94\u4e2a\u6b65\u9aa4\uff1aParse, Analyze, SinglePlan, DistributedPlan, Schedule\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_4_cn.png)\\n\\n\u5982\u56fe4\u6240\u793a\uff0cParse\u9636\u6bb5\u672c\u6587\u4e0d\u8be6\u7ec6\u8bb2\uff0cAnalyze\u8d1f\u8d23\u5bf9AST\u8fdb\u884c\u524d\u671f\u7684\u4e00\u4e9b\u5904\u7406\uff0cSinglePlan\u6839\u636eAST\u8fdb\u884c\u4f18\u5316\u751f\u6210\u5355\u673a\u67e5\u8be2\u8ba1\u5212\uff0cDistributedPlan\u5c06\u5355\u673a\u7684\u67e5\u8be2\u8ba1\u5212\u62c6\u6210\u5206\u5e03\u5f0f\u7684\u67e5\u8be2\u8ba1\u5212\uff0cSchedule\u9636\u6bb5\u8d1f\u8d23\u51b3\u5b9a\u67e5\u8be2\u8ba1\u5212\u4e0b\u53d1\u5230\u54ea\u4e9b\u673a\u5668\u4e0a\u6267\u884c\u3002\\n\\n**\u7531\u4e8eSQL\u7c7b\u578b\u6709\u5f88\u591a\uff0c\u672c\u6587\u4fa7\u91cd\u4ecb\u7ecd\u67e5\u8be2SQL\u7684\u89e3\u6790\u3002**\\n\\n\u56fe5\u5c55\u793a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u67e5\u8be2SQL\u5728Doris\u7684\u89e3\u6790\u5b9e\u73b0\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_5_cn.png)\\n\\n# 5 Parse\u9636\u6bb5\\n\u8bcd\u6cd5\u5206\u6790\u91c7\u7528jflex\u6280\u672f\uff0c\u8bed\u6cd5\u5206\u6790\u91c7\u7528java cup parser\u6280\u672f\uff0c\u6700\u540e\u751f\u6210\u62bd\u8c61\u8bed\u6cd5\u6811\uff08Abstract Syntax Tree\uff09AST\uff0c\u8fd9\u4e9b\u90fd\u662f\u73b0\u6709\u7684\u3001\u6210\u719f\u7684\u6280\u672f\uff0c\u5728\u8fd9\u91cc\u4e0d\u8fdb\u884c\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n\\nAST\u662f\u4e00\u79cd\u6811\u72b6\u7ed3\u6784\uff0c\u4ee3\u8868\u7740\u4e00\u6761SQL\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u67e5\u8be2select, insert, show, set, alter table, create table\u7b49\u7ecf\u8fc7Parse\u9636\u6bb5\u540e\u751f\u6210\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\uff08SelectStmt, InsertStmt, ShowStmt, SetStmt, AlterStmt, AlterTableStmt, CreateTableStmt\u7b49\uff09\uff0c\u4f46\u4ed6\u4eec\u90fd\u7ee7\u627f\u81eaStatement\uff0c\u5e76\u6839\u636e\u81ea\u5df1\u7684\u8bed\u6cd5\u89c4\u5219\u8fdb\u884c\u4e00\u4e9b\u7279\u5b9a\u7684\u5904\u7406\u3002\u4f8b\u5982\uff1a\u5bf9\u4e8eselect\u7c7b\u578b\u7684sql\uff0c Parse\u4e4b\u540e\u751f\u6210\u4e86SelectStmt\u7ed3\u6784\u3002\\n\\nSelectStmt\u7ed3\u6784\u5305\u542b\u4e86SelectList\uff0cFromClause\uff0cWhereClause\uff0cGroupByClause\uff0cSortInfo\u7b49\u7ed3\u6784\u3002\u8fd9\u4e9b\u7ed3\u6784\u53c8\u5305\u542b\u4e86\u66f4\u57fa\u7840\u7684\u4e00\u4e9b\u6570\u636e\u7ed3\u6784\uff0c\u5982WhereClause\u5305\u542b\u4e86BetweenPredicate\uff08between\u8868\u8fbe\u5f0f\uff09, BinaryPredicate\uff08\u4e8c\u5143\u8868\u8fbe\u5f0f\uff09\uff0c CompoundPredicate\uff08and or\u7ec4\u5408\u8868\u8fbe\u5f0f\uff09, InPredicate\uff08in\u8868\u8fbe\u5f0f\uff09\u7b49\u3002\\n\\nAST\u4e2d\u6240\u6709\u7ed3\u6784\u90fd\u662f\u7531\u57fa\u672c\u7ed3\u6784\u8868\u8fbe\u5f0fExpr\u901a\u8fc7\u591a\u79cd\u7ec4\u5408\u800c\u6210\uff0c\u5982\u56fe6\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_6_cn.png)\\n\\n# 6 Analyze\u9636\u6bb5\\nAnalyze\u4e3b\u8981\u662f\u5bf9Parse\u9636\u6bb5\u751f\u6210\u7684\u62bd\u8c61\u8bed\u6cd5\u6811AST\u8fdb\u884c\u4e00\u4e9b\u524d\u671f\u7684\u5904\u7406\u548c\u8bed\u4e49\u5206\u6790\uff0c\u4e3a\u751f\u6210\u5355\u673a\u903b\u8f91\u8ba1\u5212\u505a\u51c6\u5907\u3002\\n\\n\u62bd\u8c61\u8bed\u6cd5\u6811\u662f\u7531StatementBase\u8fd9\u4e2a\u62bd\u8c61\u7c7b\u8868\u793a\u3002\u8fd9\u4e2a\u62bd\u8c61\u7c7b\u5305\u542b\u4e00\u4e2a\u6700\u91cd\u8981\u7684\u6210\u5458\u51fd\u6570analyze()\uff0c\u7528\u6765\u6267\u884cAnalyze\u9636\u6bb5\u8981\u505a\u7684\u4e8b\u3002\\n\\n\u4e0d\u540c\u7c7b\u578b\u7684\u67e5\u8be2select, insert, show, set, alter table, create table\u7b49\u7ecf\u8fc7Parse\u9636\u6bb5\u540e\u751f\u6210\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\uff08SelectStmt, InsertStmt, ShowStmt, SetStmt, AlterStmt, AlterTableStmt, CreateTableStmt\u7b49\uff09\uff0c\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u7ee7\u627f\u81eaStatementBase\uff0c\u5e76\u5b9e\u73b0analyze()\u51fd\u6570\uff0c\u5bf9\u7279\u5b9a\u7c7b\u578b\u7684SQL\u8fdb\u884c\u7279\u5b9a\u7684Analyze\u3002\\n\\n\u4f8b\u5982\uff1aselect\u7c7b\u578b\u7684\u67e5\u8be2\uff0c\u4f1a\u8f6c\u6210\u5bf9select sql\u7684\u5b50\u8bed\u53e5SelectList, FromClause, GroupByClause, HavingClause, WhereClause, SortInfo\u7b49\u7684analyze()\u3002\u7136\u540e\u8fd9\u4e9b\u5b50\u8bed\u53e5\u518d\u5404\u81ea\u5bf9\u81ea\u5df1\u7684\u5b50\u7ed3\u6784\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684analyze()\uff0c\u901a\u8fc7\u5c42\u5c42\u8fed\u4ee3\uff0c\u628a\u5404\u79cd\u7c7b\u578b\u7684sql\u7684\u5404\u79cd\u60c5\u666f\u90fd\u5206\u6790\u5b8c\u6bd5\u3002\u4f8b\u5982\uff1aWhereClause\u8fdb\u4e00\u6b65\u5206\u6790\u5176\u5305\u542b\u7684BetweenPredicate\uff08between\u8868\u8fbe\u5f0f\uff09, BinaryPredicate\uff08\u4e8c\u5143\u8868\u8fbe\u5f0f\uff09\uff0c CompoundPredicate\uff08and or\u7ec4\u5408\u8868\u8fbe\u5f0f\uff09, InPredicate\uff08in\u8868\u8fbe\u5f0f\uff09\u7b49\u3002\\n\\n**\u5bf9\u4e8e\u67e5\u8be2\u7c7b\u578b\u7684SQL\uff0c\u5305\u542b\u4ee5\u4e0b\u51e0\u9879\u91cd\u8981\u5de5\u4f5c\uff1a**\\n\\n- **\u5143\u4fe1\u606f\u7684\u8bc6\u522b\u548c\u89e3\u6790**\uff1a\u8bc6\u522b\u548c\u89e3\u6790sql\u4e2d\u6d89\u53ca\u7684 Cluster, Database, Table, Column \u7b49\u5143\u4fe1\u606f\uff0c\u786e\u5b9a\u9700\u8981\u5bf9\u54ea\u4e2a\u96c6\u7fa4\u7684\u54ea\u4e2a\u6570\u636e\u5e93\u7684\u54ea\u4e9b\u8868\u7684\u54ea\u4e9b\u5217\u8fdb\u884c\u8ba1\u7b97\u3002\\n\\n- **SQL \u7684\u5408\u6cd5\u6027\u68c0\u67e5**\uff1a\u7a97\u53e3\u51fd\u6570\u4e0d\u80fd DISTINCT\uff0c\u6295\u5f71\u5217\u662f\u5426\u6709\u6b67\u4e49\uff0cwhere\u8bed\u53e5\u4e2d\u4e0d\u80fd\u542b\u6709grouping\u64cd\u4f5c\u7b49\u3002\\n\\n- **SQL \u7b80\u5355\u91cd\u5199**\uff1a\u6bd4\u5982\u5c06 select * \u6269\u5c55\u6210 select \u6240\u6709\u5217\uff0ccount distinct\u8f6c\u6210bitmap\u6216\u8005hll\u51fd\u6570\u7b49\u3002\\n\\n- **\u51fd\u6570\u5904\u7406**\uff1a\u68c0\u67e5sql\u4e2d\u5305\u542b\u7684\u51fd\u6570\u548c\u7cfb\u7edf\u5b9a\u4e49\u7684\u51fd\u6570\u662f\u5426\u4e00\u81f4\uff0c\u5305\u62ec\u53c2\u6570\u7c7b\u578b\uff0c\u53c2\u6570\u4e2a\u6570\u7b49\u3002\\n\\n- **Table \u548c Column \u7684\u522b\u540d\u5904\u7406**\\n\\n- **\u7c7b\u578b\u68c0\u67e5\u548c\u8f6c\u6362**\uff1a\u4f8b\u5982\u4e8c\u5143\u8868\u8fbe\u5f0f\u4e24\u8fb9\u7684\u7c7b\u578b\u4e0d\u4e00\u81f4\u65f6\uff0c\u9700\u8981\u5bf9\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362\uff08BIGINT \u548c DECIMAL \u6bd4\u8f83\uff0cBIGINT \u7c7b\u578b\u9700\u8981 Cast \u6210 DECIMAL\uff09\u3002\\n\\n\u5bf9AST \u8fdb\u884canalyze\u540e\uff0c\u4f1a\u518d\u8fdb\u884c\u4e00\u6b21rewrite\u64cd\u4f5c\uff0c\u8fdb\u884c\u7cbe\u7b80\u6216\u8005\u662f\u8f6c\u6210\u7edf\u4e00\u7684\u5904\u7406\u65b9\u5f0f\u3002\u76ee\u524drewrite\u7684\u7b97\u6cd5\u662f\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u5f0f\uff0c\u9488\u5bf9AST\u7684\u6811\u72b6\u7ed3\u6784\uff0c\u81ea\u5e95\u5411\u4e0a\uff0c\u5e94\u7528\u6bcf\u4e00\u6761\u89c4\u5219\u8fdb\u884c\u91cd\u5199\u3002\u5982\u679c\u91cd\u5199\u540e\uff0cAST\u6709\u53d8\u5316\uff0c\u5219\u518d\u6b21\u8fdb\u884canalyze\u548crewrite\uff0c\u76f4\u5230AST\u65e0\u53d8\u5316\u4e3a\u6b62\u3002\\n\\n\u4f8b\u5982\uff1a\u5e38\u91cf\u8868\u8fbe\u5f0f\u7684\u5316\u7b80\uff1a1 + 1 + 1 \u91cd\u5199\u6210 3\uff0c1 > 2 \u91cd\u5199\u6210 Flase \u7b49\u3002\u5c06\u4e00\u4e9b\u8bed\u53e5\u8f6c\u6210\u7edf\u4e00\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u6bd4\u5982\u5c06 where in, where exists \u91cd\u5199\u6210 semi join, where not in, where not exists \u91cd\u5199\u6210 anti join\u3002\\n\\n# 7 \u751f\u6210\u5355\u673a\u903b\u8f91Plan\u9636\u6bb5\\n\u8fd9\u90e8\u5206\u5de5\u4f5c\u4e3b\u8981\u662f\u6839\u636eAST\u62bd\u8c61\u8bed\u6cd5\u6811\u751f\u6210\u4ee3\u6570\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u4fd7\u79f0\u7684\u7b97\u5b50\u6570\u3002\u6811\u4e0a\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u662f\u4e00\u4e2a\u7b97\u5b50\uff0c\u4ee3\u8868\u7740\u4e00\u79cd\u64cd\u4f5c\u3002\\n\\n\u5982\u56fe7\u6240\u793a\uff0cScanNode\u4ee3\u8868\u7740\u5bf9\u4e00\u4e2a\u8868\u7684\u626b\u63cf\u64cd\u4f5c\uff0c\u5c06\u4e00\u4e2a\u8868\u7684\u6570\u636e\u8bfb\u51fa\u6765\u3002HashJoinNode\u4ee3\u8868\u7740join\u64cd\u4f5c\uff0c\u5c0f\u8868\u5728\u5185\u5b58\u4e2d\u6784\u5efa\u54c8\u5e0c\u8868\uff0c\u904d\u5386\u5927\u8868\u627e\u5230\u8fde\u63a5\u952e\u76f8\u540c\u7684\u503c\u3002Project\u8868\u793a\u6295\u5f71\u64cd\u4f5c\uff0c\u4ee3\u8868\u7740\u6700\u540e\u9700\u8981\u8f93\u51fa\u7684\u5217\uff0c\u56fe7\u8868\u793a\u53ea\u7528\u8f93\u51facitycode\u8fd9\u4e00\u5217\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_7_cn.png)\\n\\n\u5982\u679c\u4e0d\u8fdb\u884c\u4f18\u5316\uff0c\u751f\u6210\u7684\u5173\u7cfb\u4ee3\u6570\u4e0b\u53d1\u5230\u5b58\u50a8\u4e2d\u6267\u884c\u7684\u4ee3\u4ef7\u975e\u5e38\u9ad8\u3002\\n\\n\u5bf9\u4e8e\u67e5\u8be2\uff1a\\n```undefined\\nselect a.siteid, a.pv from table1 a join table2 b on a.siteid = b.siteid where a.citycode=122216 and b.username=\\"test\\" order by a.pv limit 10\\n```\\n\u672a\u4f18\u5316\u7684\u5173\u7cfb\u4ee3\u6570\uff0c\u5982\u56fe8\u6240\u793a\uff0c\u9700\u8981\u5c06\u6240\u6709\u5217\u8bfb\u51fa\u6765\u8fdb\u884c\u4e00\u7cfb\u5217\u7684\u8ba1\u7b97\uff0c\u5728\u6700\u540e\u9009\u62e9\u8f93\u51fasiteid, pv\u4e24\u5217\uff0c\u5927\u91cf\u65e0\u7528\u7684\u5217\u6570\u636e\u6d6a\u8d39\u4e86\u8ba1\u7b97\u8d44\u6e90\u3002\\n\\nDoris\u5728\u751f\u6210\u4ee3\u6570\u5173\u7cfb\u65f6\uff0c\u8fdb\u884c\u4e86\u5927\u91cf\u7684\u4f18\u5316\uff0c\u5c06\u6295\u5f71\u5217\u548c\u67e5\u8be2\u6761\u4ef6\u5c3d\u53ef\u80fd\u653e\u5230\u626b\u63cf\u64cd\u4f5c\u65f6\u6267\u884c\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_8_cn.png)\\n\\n**\u5177\u4f53\u6765\u8bf4\u8fd9\u4e2a\u9636\u6bb5\u4e3b\u8981\u505a\u4e86\u5982\u4e0b\u51e0\u9879\u5de5\u4f5c\uff1a**\\n\\n- **Slot \u7269\u5316**\uff1a\u6307\u786e\u5b9a\u4e00\u4e2a\u8868\u8fbe\u5f0f\u5bf9\u5e94\u7684\u5217\u9700\u8981 Scan \u548c\u8ba1\u7b97\uff0c\u6bd4\u5982\u805a\u5408\u8282\u70b9\u7684\u805a\u5408\u51fd\u6570\u8868\u8fbe\u5f0f\u548c Group By \u8868\u8fbe\u5f0f\u9700\u8981\u8fdb\u884c\u7269\u5316\u3002\\n\\n- **\u6295\u5f71\u4e0b\u63a8**\uff1aBE \u5728 Scan \u65f6\u53ea\u4f1a Scan \u5fc5\u987b\u8bfb\u53d6\u7684\u5217\u3002\\n\\n- **\u8c13\u8bcd\u4e0b\u63a8**\uff1a\u5728\u6ee1\u8db3\u8bed\u4e49\u6b63\u786e\u7684\u524d\u63d0\u4e0b\u5c06\u8fc7\u6ee4\u6761\u4ef6\u5c3d\u53ef\u80fd\u4e0b\u63a8\u5230 Scan \u8282\u70b9\u3002\\n\\n- **\u5206\u533a\uff0c\u5206\u6876\u88c1\u526a**\uff1a\u6839\u636e\u8fc7\u6ee4\u6761\u4ef6\u4e2d\u7684\u4fe1\u606f\uff0c\u786e\u5b9a\u9700\u8981\u626b\u63cf\u54ea\u4e9b\u5206\u533a\uff0c\u54ea\u4e9b\u6876\u7684tablet\u3002\\n\\n- **Join Reorder**\uff1a\u5bf9\u4e8e Inner Join, Doris \u4f1a\u6839\u636e\u884c\u6570\u8c03\u6574\u8868\u7684\u987a\u5e8f\uff0c\u5c06\u5927\u8868\u653e\u5728\u524d\u9762\u3002\\n\\n- **Sort + Limit \u4f18\u5316\u6210 TopN**\uff1a\u5bf9\u4e8eorder by limit\u8bed\u53e5\u4f1a\u8f6c\u6362\u6210TopN\u7684\u64cd\u4f5c\u8282\u70b9\uff0c\u65b9\u4fbf\u7edf\u4e00\u5904\u7406\u3002\\n\\n- **MaterializedView \u9009\u62e9**\uff1a\u4f1a\u6839\u636e\u67e5\u8be2\u9700\u8981\u7684\u5217\uff0c\u8fc7\u6ee4\uff0c\u6392\u5e8f\u548c Join \u7684\u5217\uff0c\u884c\u6570\uff0c\u5217\u6570\u7b49\u56e0\u7d20\u9009\u62e9\u6700\u4f73\u7684\u7269\u5316\u89c6\u56fe\u3002\\n\\n\u56fe9\u5c55\u793a\u4e86\u4f18\u5316\u7684\u793a\u4f8b\uff0cDoris\u662f\u5728\u751f\u6210\u5173\u7cfb\u4ee3\u6570\u7684\u8fc7\u7a0b\u4e2d\u4f18\u5316\uff0c\u8fb9\u751f\u6210\u8fb9\u4f18\u5316\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_9_cn.png)\\n\\n# 8 \u751f\u6210\u5206\u5e03\u5f0fPlan\u9636\u6bb5\\n\\n\u6709\u4e86\u5355\u673a\u7684PlanNode\u6811\u4e4b\u540e\uff0c\u5c31\u9700\u8981\u8fdb\u4e00\u6b65\u6839\u636e\u5206\u5e03\u5f0f\u73af\u5883\uff0c\u62c6\u6210\u5206\u5e03\u5f0fPlanFragment\u6811\uff08PlanFragment\u7528\u6765\u8868\u793a\u72ec\u7acb\u7684\u6267\u884c\u5355\u5143\uff09\uff0c\u6bd5\u7adf\u4e00\u4e2a\u8868\u7684\u6570\u636e\u5206\u6563\u5730\u5b58\u50a8\u5728\u591a\u53f0\u4e3b\u673a\u4e0a\uff0c\u5b8c\u5168\u53ef\u4ee5\u8ba9\u4e00\u4e9b\u8ba1\u7b97\u5e76\u884c\u8d77\u6765\u3002\\n\\n\u8fd9\u4e2a\u6b65\u9aa4\u7684\u4e3b\u8981\u76ee\u6807\u662f\u6700\u5927\u5316\u5e76\u884c\u5ea6\u548c\u6570\u636e\u672c\u5730\u5316\u3002\u4e3b\u8981\u65b9\u6cd5\u662f\u5c06\u80fd\u591f\u5e76\u884c\u6267\u884c\u7684\u8282\u70b9\u62c6\u5206\u51fa\u53bb\u5355\u72ec\u5efa\u7acb\u4e00\u4e2aPlanFragment\uff0c\u7528ExchangeNode\u4ee3\u66ff\u88ab\u62c6\u5206\u51fa\u53bb\u7684\u8282\u70b9\uff0c\u7528\u6765\u63a5\u6536\u6570\u636e\u3002\u62c6\u5206\u51fa\u53bb\u7684\u8282\u70b9\u589e\u52a0\u4e00\u4e2aDataSinkNode\uff0c\u7528\u6765\u5c06\u8ba1\u7b97\u4e4b\u540e\u7684\u6570\u636e\u4f20\u9001\u5230ExchangeNode\u4e2d\uff0c\u505a\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002\\n\\n\u8fd9\u4e00\u6b65\u91c7\u7528\u9012\u5f52\u7684\u65b9\u6cd5\uff0c\u81ea\u5e95\u5411\u4e0a\uff0c\u904d\u5386\u6574\u4e2aPlanNode\u6811\uff0c\u7136\u540e\u7ed9\u6811\u4e0a\u7684\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u521b\u5efa\u4e00\u4e2aPlanFragment\uff0c\u5982\u679c\u78b0\u5230\u7236\u8282\u70b9\uff0c\u5219\u8003\u8651\u5c06\u5176\u4e2d\u80fd\u591f\u5e76\u884c\u6267\u884c\u7684\u5b50\u8282\u70b9\u62c6\u5206\u51fa\u53bb\uff0c\u7236\u8282\u70b9\u548c\u4fdd\u7559\u4e0b\u6765\u7684\u5b50\u8282\u70b9\u7ec4\u6210\u4e00\u4e2aparent PlanFragment\u3002\u62c6\u5206\u51fa\u53bb\u7684\u5b50\u8282\u70b9\u589e\u52a0\u4e00\u4e2a\u7236\u8282\u70b9DataSinkNode\u7ec4\u6210\u4e00\u4e2achild PlanFragment\uff0cchild PlanFragment\u6307\u5411parent PlanFragment\u3002\u8fd9\u6837\u5c31\u786e\u5b9a\u4e86\u6570\u636e\u7684\u6d41\u52a8\u65b9\u5411\u3002\\n\\n\u5bf9\u4e8e\u67e5\u8be2\u64cd\u4f5c\u6765\u8bf4\uff0cjoin\u64cd\u4f5c\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u64cd\u4f5c\u3002\\n\\n**Doris\u76ee\u524d\u652f\u63014\u79cdjoin\u7b97\u6cd5**\uff1abroadcast join\uff0chash partition join\uff0ccolocate join\uff0cbucket shuffle join\u3002\\n\\n**broadcast join**\uff1a\u5c06\u5c0f\u8868\u53d1\u9001\u5230\u5927\u8868\u6240\u5728\u7684\u6bcf\u53f0\u673a\u5668\uff0c\u7136\u540e\u8fdb\u884chash join\u64cd\u4f5c\u3002\u5f53\u4e00\u4e2a\u8868\u626b\u63cf\u51fa\u7684\u6570\u636e\u91cf\u8f83\u5c11\u65f6\uff0c\u8ba1\u7b97broadcast join\u7684cost\uff0c\u901a\u8fc7\u8ba1\u7b97\u6bd4\u8f83hash partition\u7684cost\uff0c\u6765\u9009\u62e9cost\u6700\u5c0f\u7684\u65b9\u5f0f\u3002\\n\\n**hash partition join**\uff1a\u5f53\u4e24\u5f20\u8868\u626b\u63cf\u51fa\u7684\u6570\u636e\u90fd\u5f88\u5927\u65f6\uff0c\u4e00\u822c\u91c7\u7528hash partition join\u3002\u5b83\u904d\u5386\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u8ba1\u7b97key\u7684\u54c8\u5e0c\u503c\uff0c\u7136\u540e\u5bf9\u96c6\u7fa4\u6570\u53d6\u6a21\uff0c\u9009\u5230\u54ea\u53f0\u673a\u5668\uff0c\u5c31\u5c06\u6570\u636e\u53d1\u9001\u5230\u8fd9\u53f0\u673a\u5668\u8fdb\u884chash join\u64cd\u4f5c\u3002\\n\\n**colocate join**\uff1a\u4e24\u4e2a\u8868\u5728\u521b\u5efa\u7684\u65f6\u5019\u5c31\u6307\u5b9a\u4e86\u6570\u636e\u5206\u5e03\u4fdd\u6301\u4e00\u81f4\uff0c\u90a3\u4e48\u5f53\u4e24\u4e2a\u8868\u7684join key\u4e0e\u5206\u6876\u7684key\u4e00\u81f4\u65f6\uff0c\u5c31\u4f1a\u91c7\u7528colocate join\u7b97\u6cd5\u3002\u7531\u4e8e\u4e24\u4e2a\u8868\u7684\u6570\u636e\u5206\u5e03\u662f\u4e00\u6837\u7684\uff0c\u90a3\u4e48hash join\u64cd\u4f5c\u5c31\u76f8\u5f53\u4e8e\u5728\u672c\u5730\uff0c\u4e0d\u6d89\u53ca\u5230\u6570\u636e\u7684\u4f20\u8f93\uff0c\u6781\u5927\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\\n\\n**bucket shuffle join**\uff1a\u5f53join key\u662f\u5206\u6876key\uff0c\u5e76\u4e14\u53ea\u6d89\u53ca\u5230\u4e00\u4e2a\u5206\u533a\u65f6\uff0c\u5c31\u4f1a\u4f18\u5148\u91c7\u7528bucket shuffle join\u7b97\u6cd5\u3002\u7531\u4e8e\u5206\u6876\u672c\u8eab\u5c31\u4ee3\u8868\u4e86\u6570\u636e\u7684\u4e00\u79cd\u5207\u5206\u65b9\u5f0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u7279\u70b9\uff0c\u53ea\u9700\u5c06\u53f3\u8868\u5bf9\u5de6\u8868\u7684\u5206\u6876\u6570hash\u53d6\u6a21\uff0c\u8fd9\u6837\u53ea\u9700\u7f51\u7edc\u4f20\u8f93\u4e00\u4efd\u53f3\u8868\u6570\u636e\uff0c\u6781\u5927\u51cf\u5c11\u4e86\u6570\u636e\u7684\u7f51\u7edc\u4f20\u8f93\uff0c\u5982\u56fe10\u6240\u793a\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_10_cn.png)\\n\\n\u5982\u56fe11\u5c55\u793a\u4e86\u5e26\u6709HashJoinNode\u7684\u5355\u673a\u903b\u8f91\u8ba1\u5212\u521b\u5efa\u5206\u5e03\u5f0f\u903b\u8f91\u8ba1\u5212\u7684\u6838\u5fc3\u6d41\u7a0b\u3002\\n\\n- \u5bf9PlanNode\uff0c\u81ea\u5e95\u5411\u4e0a\u521b\u5efaPlanFragment\u3002\\n\\n- \u5982\u679c\u662fScanNode\uff0c\u5219\u76f4\u63a5\u521b\u5efa\u4e00\u4e2aPlanFragment\uff0cPlanFragment\u7684RootPlanNode\u662f\u8fd9\u4e2aScanNode\u3002\\n\\n- \u5982\u679c\u662fHashJoinNode\uff0c\u5219\u9996\u5148\u8ba1\u7b97\u4e0bbroadcastCost\uff0c\u4e3a\u9009\u62e9boracast join\u8fd8\u662fhash partition join\u63d0\u4f9b\u53c2\u8003\u3002\\n\\n- \u6839\u636e\u4e0d\u540c\u7684\u6761\u4ef6\u5224\u65ad\u9009\u62e9\u54ea\u79cdJoin\u7b97\u6cd5\\n\\n- \u5982\u679c\u4f7f\u7528colocate join\uff0c\u7531\u4e8ejoin\u64cd\u4f5c\u90fd\u5728\u672c\u5730\uff0c\u5c31\u4e0d\u9700\u8981\u62c6\u5206\u3002\u8bbe\u7f6eHashJoinNode\u7684\u5de6\u5b50\u8282\u70b9\u4e3aleftFragment\u7684RootPlanNode\uff0c\u53f3\u5b50\u8282\u70b9\u4e3arightFragment\u7684RootPlanNode\uff0c\u4e0eleftFragment\u5171\u7528\u4e00\u4e2aPlanFragment\uff0c\u5220\u9664\u6389rightFragment\u3002\\n\\n- \u5982\u679c\u4f7f\u7528bucket shuffle join\uff0c\u9700\u8981\u5c06\u53f3\u8868\u7684\u6570\u636e\u53d1\u9001\u7ed9\u5de6\u8868\u3002\u6240\u4ee5\u5148\u521b\u5efa\u4e86\u4e00\u4e2aExchangeNode\uff0c\u8bbe\u7f6eHashJoinNode\u7684\u5de6\u5b50\u8282\u70b9\u4e3aleftFragment\u7684RootPlanNode\uff0c\u53f3\u5b50\u8282\u70b9\u4e3a\u8fd9\u4e2aExchangeNode\uff0c\u4e0eleftFragment\u5171\u7528\u4e00\u4e2aPlanFragment\uff0c\u5e76\u4e14\u6307\u5b9arightFragment\u6570\u636e\u53d1\u9001\u7684\u76ee\u7684\u5730\u4e3a\u8fd9\u4e2aExchangeNode\u3002\\n\\n- \u5982\u679c\u4f7f\u7528broadcast join\uff0c\u9700\u8981\u5c06\u53f3\u8868\u7684\u6570\u636e\u53d1\u9001\u7ed9\u5de6\u8868\u3002\u6240\u4ee5\u5148\u521b\u5efa\u4e86\u4e00\u4e2aExchangeNode\uff0c\u8bbe\u7f6eHashJoinNode\u7684\u5de6\u5b50\u8282\u70b9\u4e3aleftFragment\u7684RootPlanNode\uff0c\u53f3\u5b50\u8282\u70b9\u4e3a\u8fd9\u4e2aExchangeNode\uff0c\u4e0eleftFragment\u5171\u7528\u4e00\u4e2aPlanFragment\uff0c\u5e76\u4e14\u6307\u5b9arightFragment\u6570\u636e\u53d1\u9001\u7684\u76ee\u7684\u5730\u4e3a\u8fd9\u4e2aExchangeNode\u3002\\n\\n- \u5982\u679c\u4f7f\u7528hash partition join\uff0c\u5de6\u8868\u548c\u53f3\u8fb9\u7684\u6570\u636e\u90fd\u8981\u5207\u5206\uff0c\u9700\u8981\u5c06\u5de6\u53f3\u8282\u70b9\u90fd\u62c6\u5206\u51fa\u53bb\uff0c\u5206\u522b\u521b\u5efaleft ExchangeNode, right ExchangeNode\uff0cHashJoinNode\u6307\u5b9a\u5de6\u53f3\u8282\u70b9\u4e3aleft ExchangeNode\u548c right ExchangeNode\u3002\u5355\u72ec\u521b\u5efa\u4e00\u4e2aPlanFragment\uff0c\u6307\u5b9aRootPlanNode\u4e3a\u8fd9\u4e2aHashJoinNode\u3002\u6700\u540e\u6307\u5b9aleftFragment, rightFragment\u7684\u6570\u636e\u53d1\u9001\u76ee\u7684\u5730\u4e3aleft ExchangeNode, right ExchangeNode\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_11_cn.png)\\n\\n\u56fe12\u662f\u4e24\u4e2a\u8868\u7684join\u64cd\u4f5c\u8f6c\u6362\u6210PlanFragment\u6811\u4e4b\u540e\u7684\u793a\u4f8b\uff0c\u4e00\u5171\u751f\u6210\u4e863\u4e2aPlanFragment\u3002\u6700\u7ec8\u6570\u636e\u7684\u8f93\u51fa\u901a\u8fc7ResultSinkNode\u8282\u70b9\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_12_cn.png)\\n\\n# 9 Schedule\u9636\u6bb5\\n\\n\u8fd9\u4e00\u6b65\u662f\u6839\u636e\u5206\u5e03\u5f0f\u903b\u8f91\u8ba1\u5212\uff0c\u521b\u5efa\u5206\u5e03\u5f0f\u7269\u7406\u8ba1\u5212\u3002\u4e3b\u8981\u89e3\u51b3\u4ee5\u4e0b\u95ee\u9898\uff1a\\n\\n- \u54ea\u4e2a BE \u6267\u884c\u54ea\u4e2a PlanFragment\\n\\n- \u6bcf\u4e2a Tablet \u9009\u62e9\u54ea\u4e2a\u526f\u672c\u53bb\u67e5\u8be2\\n\\n- \u5982\u4f55\u8fdb\u884c\u591a\u5b9e\u4f8b\u5e76\u53d1\\n\\n**\u56fe13\u5c55\u793a\u4e86\u521b\u5efa\u5206\u5e03\u5f0f\u7269\u7406\u8ba1\u5212\u7684\u6838\u5fc3\u6d41\u7a0b\uff1a**\\n\\n**a. prepare\u9636\u6bb5**\uff1a\u7ed9\u6bcf\u4e2aPlanFragment\u521b\u5efa\u4e00\u4e2aFragmentExecParams\u7ed3\u6784\uff0c\u7528\u6765\u8868\u793aPlanFragment\u6267\u884c\u65f6\u6240\u9700\u7684\u6240\u6709\u53c2\u6570\uff1b\u5982\u679c\u4e00\u4e2aPlanFragment\u5305\u542b\u6709DataSinkNode\uff0c\u5219\u627e\u5230\u6570\u636e\u53d1\u9001\u7684\u76ee\u7684PlanFragment\uff0c\u7136\u540e\u6307\u5b9a\u76ee\u7684PlanFragment\u7684FragmentExecParams\u7684\u8f93\u5165\u4e3a\u8be5PlanFragment\u7684FragmentExecParams\u3002\\n\\n**b. computeScanRangeAssignment\u9636\u6bb5**\uff1a\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684join\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002\\n\\n- computeScanRangeAssignmentByColocate\uff1a\u9488\u5bf9colocate join\u8fdb\u884c\u5904\u7406\uff0c\u7531\u4e8ejoin\u7684\u4e24\u4e2a\u8868\u6876\u4e2d\u7684\u6570\u636e\u5206\u5e03\u90fd\u662f\u4e00\u6837\u7684\uff0c\u4ed6\u4eec\u662f\u57fa\u4e8e\u6876\u7684join\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\u662f\u786e\u5b9a\u6bcf\u4e2a\u6876\u9009\u62e9\u54ea\u4e2ahost\u3002\u5728\u7ed9host\u5206\u914d\u6876\u65f6\uff0c\u5c3d\u91cf\u4fdd\u8bc1\u6bcf\u4e2ahost\u5206\u914d\u5230\u7684\u6876\u57fa\u672c\u5e73\u5747\u3002\\n\\n- computeScanRangeAssignmentByBucket\uff1a\u9488\u5bf9bucket shuffle join\u8fdb\u884c\u5904\u7406\uff0c\u4e5f\u53ea\u662f\u57fa\u4e8e\u6876\u7684\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\u662f\u786e\u5b9a\u6bcf\u4e2a\u6876\u9009\u62e9\u54ea\u4e2ahost\u3002\u5728\u7ed9host\u5206\u914d\u6876\u65f6\uff0c\u540c\u6837\u9700\u8981\u5c3d\u91cf\u4fdd\u8bc1\u6bcf\u4e2ahost\u5206\u914d\u5230\u7684\u6876\u57fa\u672c\u5e73\u5747\u3002\\n\\n- computeScanRangeAssignmentByScheduler\uff1a\u9488\u5bf9\u5176\u4ed6\u7c7b\u578b\u7684join\u8fdb\u884c\u5904\u7406\u3002\u786e\u5b9a\u6bcf\u4e2ascanNode\u8bfb\u53d6tablet\u54ea\u4e2a\u526f\u672c\u3002\u4e00\u4e2ascanNode\u4f1a\u8bfb\u53d6\u591a\u4e2atablet\uff0c\u6bcf\u4e2atablet\u6709\u591a\u4e2a\u526f\u672c\u3002\u4e3a\u4e86\u4f7fscan\u64cd\u4f5c\u5c3d\u53ef\u80fd\u5206\u6563\u5230\u591a\u53f0\u673a\u5668\u4e0a\u6267\u884c\uff0c\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\uff0c\u51cf\u5c11IO\u538b\u529b\uff0cDoris\u91c7\u7528\u4e86Round-Robin\u7b97\u6cd5\uff0c\u4f7ftablet\u7684\u626b\u63cf\u5c3d\u53ef\u80fd\u5730\u5206\u6563\u5230\u591a\u53f0\u673a\u5668\u4e0a\u53bb\u3002\u4f8b\u5982100\u4e2atablet\u9700\u8981\u626b\u63cf\uff0c\u6bcf\u4e2atablet 3\u4e2a\u526f\u672c\uff0c\u4e00\u517110\u53f0\u673a\u5668\uff0c\u5728\u5206\u914d\u65f6\uff0c\u4fdd\u969c\u6bcf\u53f0\u673a\u5668\u626b\u63cf10\u4e2atablet\u3002\\n\\n**c. computeFragmentExecParams\u9636\u6bb5**\uff1a\u8fd9\u4e2a\u9636\u6bb5\u89e3\u51b3PlanFragment\u4e0b\u53d1\u5230\u54ea\u4e2aBE\u4e0a\u6267\u884c\uff0c\u4ee5\u53ca\u5982\u4f55\u5904\u7406\u5b9e\u4f8b\u5e76\u53d1\u95ee\u9898\u3002\u786e\u5b9a\u4e86\u6bcf\u4e2atablet\u7684\u626b\u63cf\u5730\u5740\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u4ee5\u5730\u5740\u4e3a\u7ef4\u5ea6\uff0c\u5c06FragmentExecParams\u751f\u6210\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4e5f\u5c31\u662fFragmentExecParams\u4e2d\u5305\u542b\u7684\u5730\u5740\u6709\u591a\u4e2a\uff0c\u5c31\u751f\u6210\u591a\u4e2a\u5b9e\u4f8bFInstanceExecParam\u3002\u5982\u679c\u8bbe\u7f6e\u4e86\u5e76\u53d1\u5ea6\uff0c\u90a3\u4e48\u4e00\u4e2a\u5730\u5740\u7684\u6267\u884c\u5b9e\u4f8b\u518d\u8fdb\u4e00\u6b65\u7684\u62c6\u6210\u591a\u4e2aFInstanceExecParam\u3002\u9488\u5bf9bucket shuffle join\u548ccolocate join\u4f1a\u6709\u4e00\u4e9b\u7279\u6b8a\u5904\u7406\uff0c\u4f46\u662f\u57fa\u672c\u601d\u60f3\u4e00\u6837\u3002FInstanceExecParam\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u4f1a\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684ID\uff0c\u65b9\u4fbf\u8ffd\u8e2a\u4fe1\u606f\u3002\u5982\u679cFragmentExecParams\u4e2d\u5305\u542b\u6709ExchangeNode\uff0c\u9700\u8981\u8ba1\u7b97\u6709\u591a\u5c11senders\uff0c\u4ee5\u4fbf\u77e5\u9053\u9700\u8981\u63a5\u53d7\u591a\u5c11\u4e2a\u53d1\u9001\u65b9\u7684\u6570\u636e\u3002\u6700\u540eFragmentExecParams\u786e\u5b9adestinations\uff0c\u5e76\u628a\u76ee\u7684\u5730\u5740\u586b\u5145\u4e0a\u53bb\u3002\\n\\n**d. create result receiver\u9636\u6bb5**\uff1aresult receiver\u662f\u67e5\u8be2\u5b8c\u6210\u540e\uff0c\u6700\u7ec8\u6570\u636e\u9700\u8981\u8f93\u51fa\u7684\u5730\u65b9\u3002\\n\\n**e. to thrift\u9636\u6bb5**\uff1a\u6839\u636e\u6240\u6709PlanFragment\u7684FInstanceExecParam\u521b\u5efarpc\u8bf7\u6c42\uff0c\u7136\u540e\u4e0b\u53d1\u5230BE\u7aef\u6267\u884c\u3002\u8fd9\u6837\u4e00\u4e2a\u5b8c\u6574\u7684SQL\u89e3\u6790\u8fc7\u7a0b\u5b8c\u6210\u4e86\u3002\\n\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_13_cn.png)\\n\\n\u5982\u56fe14\u6240\u793a\u662f\u4e00\u4e2a\u7b80\u5355\u793a\u4f8b\uff0c\u56fe\u4e2d\u7684PlanFrament\u5305\u542b\u4e86\u4e00\u4e2aScanNode\uff0cScanNode\u626b\u63cf3\u4e2atablet\uff0c\u6bcf\u4e2atablet\u67092\u526f\u672c\uff0c\u96c6\u7fa4\u5047\u8bbe\u67092\u53f0host\u3002\\n\\ncomputeScanRangeAssignment\u9636\u6bb5\u786e\u5b9a\u4e86\u9700\u8981\u626b\u63cfreplica 1,3,5,8,10,12\uff0c\u5176\u4e2dreplica 1,3,5\u4f4d\u4e8ehost1\u4e0a\uff0creplica 8,10,12\u4f4d\u4e8ehost2\u4e0a\u3002\\n\\n\u5982\u679c\u5168\u5c40\u5e76\u53d1\u5ea6\u8bbe\u7f6e\u4e3a1\u65f6\uff0c\u5219\u521b\u5efa2\u4e2a\u5b9e\u4f8bFInstanceExecParam\uff0c\u4e0b\u53d1\u5230host1\u548chost2\u4e0a\u53bb\u6267\u884c\uff0c\u5982\u679c\u5982\u679c\u5168\u5c40\u5e76\u53d1\u5ea6\u8bbe\u7f6e\u4e3a3\uff0c\u8fd9\u4e2ahost1\u4e0a\u521b\u5efa3\u4e2a\u5b9e\u4f8bFInstanceExecParam\uff0chost2\u4e0a\u521b\u5efa3\u4e2a\u5b9e\u4f8bFInstanceExecParam\uff0c\u6bcf\u4e2a\u5b9e\u4f8b\u626b\u63cf\u4e00\u4e2areplica\uff0c\u76f8\u5f53\u4e8e\u53d1\u8d776\u4e2arpc\u8bf7\u6c42\u3002\\n\\n![](/images/blogs/principle-of-Doris-SQL-parsing/Figure_14_cn.png)\\n\\n# 10 \u603b\u7ed3\\n\u672c\u6587\u9996\u5148\u7b80\u5355\u4ecb\u7ecd\u4e86Doris\uff0c\u7136\u540e\u4ecb\u7ecdSQL\u89e3\u6790\u7684\u901a\u7528\u6d41\u7a0b\uff1a\u8bcd\u6cd5\u5206\u6790\uff0c\u8bed\u6cd5\u5206\u6790\uff0c\u751f\u6210\u903b\u8f91\u8ba1\u5212\uff0c\u751f\u6210\u7269\u7406\u8ba1\u5212\uff0c\u63a5\u7740\u4ece\u603b\u4f53\u4e0a\u4ecb\u7ecd\u4e86Doris\u5728SQL\u89e3\u6790\u8fd9\u5757\u7684\u603b\u4f53\u67b6\u6784\uff0c\u6700\u540e\u8be6\u7ec6\u8bb2\u89e3\u4e86Parse\uff0cAnalyze\uff0cSinglePlan\uff0cDistributedPlan\uff0cSchedule\u7b495\u4e2a\u8fc7\u7a0b\uff0c\u4ece\u7b97\u6cd5\u539f\u7406\u548c\u4ee3\u7801\u5b9e\u73b0\u4e0a\u8fdb\u884c\u4e86\u6df1\u5165\u7684\u8bb2\u89e3\u3002\\n\\nDoris\u9075\u5b88\u4e86SQL\u89e3\u6790\u7684\u5e38\u7528\u65b9\u6cd5\uff0c\u4f46\u6839\u636e\u5e95\u5c42\u5b58\u50a8\u67b6\u6784\uff0c\u4ee5\u53ca\u5206\u5e03\u5f0f\u7684\u7279\u70b9\uff0c\u5728SQL\u89e3\u6790\u8fd9\u5757\u8fdb\u884c\u4e86\u5927\u91cf\u7684\u4f18\u5316\uff0c\u5b9e\u73b0\u4e86\u6700\u5927\u5e76\u884c\u5ea6\u548c\u6700\u5c0f\u5316\u7f51\u7edc\u4f20\u8f93\uff0c\u7ed9SQL\u6267\u884c\u5c42\u9762\u51cf\u5c11\u5f88\u591a\u8d1f\u62c5\u3002"},{"id":"/xiaomi","metadata":{"permalink":"/zh-CN/blog/xiaomi","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/xiaomi.md","title":"Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","description":"\x3c!--","date":"2022-08-15T00:00:00.000Z","formattedDate":"2022\u5e748\u670815\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","summary":"\u56e0\u589e\u957f\u5206\u6790\u4e1a\u52a1\u9700\u8981\uff0c\u5c0f\u7c73\u96c6\u56e2\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165\u4e86 Apache Doris \u3002\u7ecf\u8fc7\u4e09\u5e74\u65f6\u95f4\u7684\u53d1\u5c55\uff0c\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5e7f\u544a\u6295\u653e\u3001\u65b0\u96f6\u552e\u3001\u589e\u957f\u5206\u6790\u3001\u6570\u636e\u770b\u677f\u3001\u5929\u661f\u6570\u79d1\u3001\u5c0f\u7c73\u6709\u54c1\u3001\u7528\u6237\u753b\u50cf\u7b49\u5c0f\u7c73\u5185\u90e8\u6570\u5341\u4e2a\u4e1a\u52a1\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528 \uff0c\u5e76\u4e14\u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u5f62\u6210\u4e00\u5957\u4ee5 Apache Doris \u4e3a\u6838\u5fc3\u7684\u6570\u636e\u751f\u6001\u3002","date":"2022-08-15","author":"Apache Doris","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"Doris\u5168\u9762\u89e3\u6790\uff1aDoris SQL \u539f\u7406\u89e3\u6790","permalink":"/zh-CN/blog/principle-of-Doris-SQL-parsing"},"nextItem":{"title":"Apache Doris 1.1 \u7279\u6027\u63ed\u79d8\uff1aFlink \u5b9e\u65f6\u5199\u5165\u5982\u4f55\u517c\u987e\u9ad8\u541e\u5410\u548c\u4f4e\u5ef6\u65f6","permalink":"/zh-CN/blog/Flink-realtime-write"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# \u80cc\u666f\\n\\n\u56e0\u589e\u957f\u5206\u6790\u4e1a\u52a1\u9700\u8981\uff0c\u5c0f\u7c73\u96c6\u56e2\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165\u4e86 Apache Doris \u3002\u7ecf\u8fc7\u4e09\u5e74\u65f6\u95f4\u7684\u53d1\u5c55\uff0c\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5e7f\u544a\u6295\u653e\u3001\u65b0\u96f6\u552e\u3001\u589e\u957f\u5206\u6790\u3001\u6570\u636e\u770b\u677f\u3001\u5929\u661f\u6570\u79d1\u3001\u5c0f\u7c73\u6709\u54c1\u3001\u7528\u6237\u753b\u50cf\u7b49\u5c0f\u7c73\u5185\u90e8\u6570\u5341\u4e2a\u4e1a\u52a1\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528 **\uff0c\u5e76\u4e14\u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u5f62\u6210\u4e00\u5957\u4ee5 Apache Doris \u4e3a\u6838\u5fc3\u7684\u6570\u636e\u751f\u6001\u3002**\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/25d7c2c45acd4e1c8c1a1742016fc6b9~tplv-k3u1fbpfcp-zoom-1.image)\\n\u5f53\u524d Apache Doris \u5728\u5c0f\u7c73\u5185\u90e8\u5df2\u7ecf\u5177\u6709**\u6570\u5341\u4e2a**\u96c6\u7fa4\u3001\u603b\u4f53\u8fbe\u5230**\u6570\u767e\u53f0** BE \u8282\u70b9\u7684\u89c4\u6a21\uff0c\u5176\u4e2d\u5355\u96c6\u7fa4\u6700\u5927\u89c4\u6a21\u8fbe\u5230**\u8fd1\u767e\u53f0\u8282\u70b9**\uff0c\u62e5\u6709**\u6570\u5341\u4e2a**\u6d41\u5f0f\u6570\u636e\u5bfc\u5165\u4ea7\u54c1\u7ebf\uff0c\u6bcf\u65e5\u5355\u8868\u6700\u5927\u589e\u91cf **120 \u4ebf**\u3001\u652f\u6301 **PB \u7ea7\u522b**\u5b58\u50a8\uff0c\u5355\u96c6\u7fa4\u6bcf\u5929\u53ef\u4ee5\u652f\u6301 **2W \u6b21\u4ee5\u4e0a**\u7684\u591a\u7ef4\u5206\u6790\u67e5\u8be2\u3002\\n# \u67b6\u6784\u6f14\u8fdb\\n\\n\u5c0f\u7c73\u5f15\u5165 Apache Doris \u7684\u521d\u8877\u662f\u4e3a\u4e86\u89e3\u51b3\u5185\u90e8\u8fdb\u884c\u7528\u6237\u884c\u4e3a\u5206\u6790\u65f6\u6240\u9047\u5230\u7684\u95ee\u9898\u3002\u968f\u7740\u5c0f\u7c73\u4e92\u8054\u7f51\u4e1a\u52a1\u7684\u53d1\u5c55\uff0c\u5404\u4e2a\u4ea7\u54c1\u7ebf\u5229\u7528\u7528\u6237\u884c\u4e3a\u6570\u636e\u5bf9\u4e1a\u52a1\u8fdb\u884c\u589e\u957f\u5206\u6790\u7684\u9700\u6c42\u8d8a\u6765\u8d8a\u8feb\u5207\u3002\u8ba9\u6bcf\u4e2a\u4e1a\u52a1\u4ea7\u54c1\u7ebf\u90fd\u81ea\u5df1\u642d\u5efa\u4e00\u5957\u589e\u957f\u5206\u6790\u7cfb\u7edf\uff0c\u4e0d\u4ec5\u6210\u672c\u9ad8\u6602\uff0c\u4e5f\u4f1a\u5bfc\u81f4\u6548\u7387\u4f4e\u4e0b\u3002\u56e0\u6b64\u80fd\u6709\u4e00\u6b3e\u4ea7\u54c1\u80fd\u591f\u5e2e\u52a9\u4ed6\u4eec\u5c4f\u853d\u5e95\u5c42\u590d\u6742\u7684\u6280\u672f\u7ec6\u8282\uff0c\u8ba9\u76f8\u5173\u4e1a\u52a1\u4eba\u5458\u80fd\u591f\u4e13\u6ce8\u4e8e\u81ea\u5df1\u7684\u6280\u672f\u9886\u57df\uff0c\u53ef\u4ee5\u6781\u5927\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u3002\u57fa\u4e8e\u6b64\uff0c\u5c0f\u7c73\u5927\u6570\u636e\u548c\u4e91\u5e73\u53f0\u8054\u5408\u5f00\u53d1\u4e86\u589e\u957f\u5206\u6790\u7cfb\u7edf Growing Analytics\uff08\u4e0b\u6587\u4e2d\u7b80\u79f0 GA )\uff0c\u65e8\u5728\u63d0\u4f9b\u4e00\u4e2a\u7075\u6d3b\u7684\u591a\u7ef4\u5b9e\u65f6\u67e5\u8be2\u548c\u5206\u6790\u5e73\u53f0\uff0c\u7edf\u4e00\u6570\u636e\u63a5\u5165\u548c\u67e5\u8be2\u65b9\u6848\uff0c\u5e2e\u52a9\u4e1a\u52a1\u7ebf\u505a\u7cbe\u7ec6\u5316\u8fd0\u8425\u3002\uff08\u6b64\u5904\u5185\u5bb9\u5f15\u7528\u81ea\uff1a[\u57fa\u4e8eApache Doris\u7684\u5c0f\u7c73\u589e\u957f\u5206\u6790\u5e73\u53f0\u5b9e\u8df5](https://mp.weixin.qq.com/s?__biz=MzUxMDQxMDMyNg==&mid=2247486817&idx=1&sn=99fbef15b4d6f6059c3affbc77517e6e&scene=21#wechat_redirect)\uff09\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/897a0453e1a540ae88cdf05ee9188b56~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n\u5206\u6790\u3001\u51b3\u7b56\u3001\u6267\u884c\u662f\u4e00\u4e2a\u5faa\u73af\u8fed\u4ee3\u7684\u8fc7\u7a0b\uff0c\u5728\u5bf9\u7528\u6237\u8fdb\u884c\u884c\u4e3a\u5206\u6790\u540e\uff0c\u9488\u5bf9\u8425\u9500\u7b56\u7565\u662f\u5426\u8fd8\u6709\u63d0\u5347\u7a7a\u95f4\u3001\u662f\u5426\u9700\u8981\u5728\u524d\u7aef\u5bf9\u7528\u6237\u8fdb\u884c\u4e2a\u6027\u5316\u63a8\u9001\u7b49\u95ee\u9898\u8fdb\u884c\u51b3\u7b56\uff0c\u5e2e\u52a9\u5c0f\u7c73\u5b9e\u73b0\u4e1a\u52a1\u7684\u6301\u7eed\u589e\u957f\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5bf9\u7528\u6237\u884c\u4e3a\u8fdb\u884c**\u5206\u6790-\u51b3\u7b56-\u4f18\u5316\u6267\u884c-\u518d\u5206\u6790-\u518d\u51b3\u7b56-\u518d\u4f18\u5316\u6267\u884c**\u7684\u8fed\u4ee3\u8fc7\u7a0b\u3002\\n\\n\\n### \u5386\u53f2\u67b6\u6784\\n\\n\u589e\u957f\u5206\u6790\u5e73\u53f0\u7acb\u9879\u4e8e 2018 \u5e74\u5e74\u4e2d\uff0c\u5f53\u65f6\u57fa\u4e8e\u5f00\u53d1\u65f6\u95f4\u548c\u6210\u672c\uff0c\u6280\u672f\u6808\u7b49\u56e0\u7d20\u7684\u8003\u8651\uff0c\u5c0f\u7c73\u590d\u7528\u4e86\u73b0\u6709\u5404\u79cd\u5927\u6570\u636e\u57fa\u7840\u7ec4\u4ef6\uff08HDFS, Kudu, SparkSQL \u7b49\uff09\uff0c\u642d\u5efa\u4e86\u4e00\u5957\u57fa\u4e8e Lamda \u67b6\u6784\u7684\u589e\u957f\u5206\u6790\u67e5\u8be2\u7cfb\u7edf\u3002**GA \u7cfb\u7edf\u521d\u4ee3\u7248\u672c\u7684\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5305\u542b\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a**\\n\\n-   \u6570\u636e\u6e90\uff1a\u6570\u636e\u6e90\u662f\u524d\u7aef\u7684\u57cb\u70b9\u6570\u636e\u4ee5\u53ca\u53ef\u80fd\u83b7\u53d6\u5230\u7684\u7528\u6237\u884c\u4e3a\u6570\u636e\u3002\\n-   \u6570\u636e\u63a5\u5165\u5c42\uff1a\u5bf9\u57cb\u70b9\u6570\u636e\u8fdb\u884c\u7edf\u4e00\u7684\u6e05\u6d17\u540e\u6253\u5230\u5c0f\u7c73\u5185\u90e8\u81ea\u7814\u7684\u6d88\u606f\u961f\u5217 Talos \u4e2d\uff0c\u5e76\u901a\u8fc7 Spark Streaming \u5c06\u6570\u636e\u5bfc\u5165\u5b58\u50a8\u5c42 Kudu \u4e2d\u3002\\n-   \u5b58\u50a8\u5c42\uff1a\u5728\u5b58\u50a8\u5c42\u4e2d\u8fdb\u884c\u51b7\u70ed\u6570\u636e\u5206\u79bb\u3002\u70ed\u6570\u636e\u5b58\u653e\u5728 Kudu \u4e2d\uff0c\u51b7\u6570\u636e\u5219\u4f1a\u5b58\u653e\u5728 HDFS \u4e0a\u3002\u540c\u65f6\u5728\u5b58\u50a8\u5c42\u4e2d\u8fdb\u884c\u5206\u533a\uff0c\u5f53\u5206\u533a\u5355\u4f4d\u4e3a\u5929\u65f6\uff0c\u6bcf\u665a\u4f1a\u5c06\u4e00\u90e8\u5206\u6570\u636e\u8f6c\u51b7\u5e76\u5b58\u50a8\u5230 HDFS \u4e0a\u3002\\n-   \u8ba1\u7b97\u5c42/\u67e5\u8be2\u5c42\uff1a\u5728\u67e5\u8be2\u5c42\u4e2d\uff0c\u4f7f\u7528 SparkSQL \u5bf9 Kudu \u4e0e HDFS \u4e0a\u6570\u636e\u8fdb\u884c\u8054\u5408\u89c6\u56fe\u67e5\u8be2\uff0c\u6700\u7ec8\u628a\u67e5\u8be2\u7ed3\u679c\u5728\u524d\u7aef\u9875\u9762\u4e0a\u8fdb\u884c\u663e\u793a\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9039c4f9ef8a4a3cbfd092b21233e831~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**\u5728\u5f53\u65f6\u7684\u5386\u53f2\u80cc\u666f\u4e0b\uff0c\u521d\u4ee3\u7248\u672c\u7684\u589e\u957f\u5206\u6790\u5e73\u53f0\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u4e86\u4e00\u7cfb\u5217\u7528\u6237\u8fd0\u8425\u8fc7\u7a0b\u4e2d\u7684\u95ee\u9898\uff0c\u4f46\u540c\u65f6\u5728\u5386\u53f2\u67b6\u6784\u4e2d\u4e5f\u5b58\u5728\u4e86\u4e24\u4e2a\u95ee\u9898\uff1a**\\n\\n**\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a** \u7531\u4e8e\u5386\u53f2\u67b6\u6784\u662f\u57fa\u4e8e SparkSQL + Kudu + HDFS \u7684\u7ec4\u5408\uff0c\u4f9d\u8d56\u7684\u7ec4\u4ef6\u8fc7\u591a\u5bfc\u81f4\u8fd0\u7ef4\u6210\u672c\u8f83\u9ad8\u3002\u539f\u672c\u7684\u8bbe\u8ba1\u662f\u5404\u4e2a\u7ec4\u4ef6\u90fd\u4f7f\u7528\u516c\u5171\u96c6\u7fa4\u7684\u8d44\u6e90\uff0c\u4f46\u662f\u5b9e\u8df5\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u6267\u884c\u67e5\u8be2\u4f5c\u4e1a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u67e5\u8be2\u6027\u80fd\u5bb9\u6613\u53d7\u5230\u516c\u5171\u96c6\u7fa4\u5176\u4ed6\u4f5c\u4e1a\u7684\u5f71\u54cd\uff0c\u5bb9\u6613\u6296\u52a8\uff0c\u5c24\u5176\u5728\u8bfb\u53d6 HDFS \u516c\u5171\u96c6\u7fa4\u7684\u6570\u636e\u65f6\uff0c\u6709\u65f6\u8f83\u4e3a\u7f13\u6162\u3002\\n\\n**\u7b2c\u4e8c\u4e2a\u95ee\u9898\uff1a** \u901a\u8fc7 SparkSQL \u8fdb\u884c\u67e5\u8be2\u65f6\uff0c\u5ef6\u8fdf\u76f8\u5bf9\u8f83\u9ad8\u3002SparkSQL \u662f\u57fa\u4e8e\u6279\u5904\u7406\u7cfb\u7edf\u8bbe\u8ba1\u7684\u67e5\u8be2\u5f15\u64ce\uff0c\u5728\u6bcf\u4e2a Stage \u4e4b\u95f4\u4ea4\u6362\u6570\u636e Shuffle \u7684\u8fc7\u7a0b\u4e2d\u4f9d\u7136\u9700\u8981\u843d\u76d8\u64cd\u4f5c\uff0c\u5b8c\u6210 SQL \u67e5\u8be2\u7684\u65f6\u5ef6\u8f83\u9ad8\u3002\u4e3a\u4e86\u4fdd\u8bc1 SQL \u67e5\u8be2\u4e0d\u53d7\u8d44\u6e90\u7684\u5f71\u54cd\uff0c\u6211\u4eec\u901a\u8fc7\u6dfb\u52a0\u673a\u5668\u6765\u4fdd\u8bc1\u67e5\u8be2\u6027\u80fd\uff0c\u4f46\u662f\u5b9e\u8df5\u8fc7\u7a0b\u4e2d\u53d1\u73b0\uff0c\u6027\u80fd\u63d0\u5347\u7684\u7a7a\u95f4\u6709\u9650\uff0c\u8fd9\u5957\u89e3\u51b3\u65b9\u6848\u5e76\u4e0d\u80fd\u5145\u5206\u5730\u5229\u7528\u673a\u5668\u8d44\u6e90\u6765\u8fbe\u5230\u9ad8\u6548\u67e5\u8be2\u7684\u76ee\u7684\uff0c\u5b58\u5728\u4e00\u5b9a\u7684\u8d44\u6e90\u6d6a\u8d39\u3002 **\uff08\u6b64\u5904\u5185\u5bb9\u5f15\u7528\u81ea\uff1a[\u57fa\u4e8eApache Doris\u7684\u5c0f\u7c73\u589e\u957f\u5206\u6790\u5e73\u53f0\u5b9e\u8df5](https://mp.weixin.qq.com/s?__biz=MzUxMDQxMDMyNg==&mid=2247486817&idx=1&sn=99fbef15b4d6f6059c3affbc77517e6e&scene=21#wechat_redirect)\uff09**\\n\\n\u9488\u5bf9\u4e0a\u8ff0\u4e24\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u5bfb\u6c42\u4e00\u6b3e\u8ba1\u7b97\u5b58\u50a8\u4e00\u4f53\u7684 MPP \u6570\u636e\u5e93\u6765\u66ff\u4ee3\u6211\u4eec\u76ee\u524d\u7684\u5b58\u50a8\u8ba1\u7b97\u5c42\u7684\u7ec4\u4ef6\uff0c**\u5728\u901a\u8fc7\u6280\u672f\u9009\u578b\u540e\uff0c\u6700\u7ec8\u6211\u4eec\u51b3\u5b9a\u4f7f\u7528 Apache Doris \u66ff\u6362\u8001\u4e00\u4ee3\u5386\u53f2\u67b6\u6784\u3002**\\n\\n### \u57fa\u4e8e Apache Doris \u7684\u65b0\u7248\u67b6\u6784\\n\\n\u5f53\u524d\u67b6\u6784\u4ece\u6570\u636e\u6e90\u83b7\u53d6\u524d\u7aef\u57cb\u70b9\u6570\u636e\u540e\uff0c\u901a\u8fc7\u6570\u636e\u63a5\u5165\u5c42\u6253\u5165 Apache Doris \u540e\u53ef\u4ee5\u76f4\u63a5\u67e5\u8be2\u7ed3\u679c\u5e76\u5728\u524d\u7aef\u8fdb\u884c\u663e\u793a\u3002![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/540f5fa779af4b629869e54b793ea273~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**\u9009\u62e9 Doris \u539f\u56e0\uff1a**\\n\\n-   Doris \u5177\u6709\u4f18\u79c0\u7684\u67e5\u8be2\u6027\u80fd\uff0c\u80fd\u591f\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u3002\\n\\n-   Doris \u652f\u6301\u6807\u51c6 SQL \uff0c\u7528\u6237\u4f7f\u7528\u4e0e\u5b66\u4e60\u6210\u672c\u8f83\u4f4e\u3002\\n\\n-   Doris \u4e0d\u4f9d\u8d56\u4e8e\u5176\u4ed6\u7684\u5916\u90e8\u7cfb\u7edf\uff0c\u8fd0\u7ef4\u7b80\u5355\u3002\\n\\n-   Doris \u793e\u533a\u62e5\u6709\u5f88\u9ad8\u6d3b\u8dc3\u5ea6\uff0c\u6709\u5229\u4e8e\u540e\u7eed\u7cfb\u7edf\u7684\u7ef4\u62a4\u5347\u7ea7\u3002\\n\\n### \u65b0\u65e7\u67b6\u6784\u6027\u80fd\u5bf9\u6bd4\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ada8246b409a4cb6b11ffd2454aa2b06~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n\u6211\u4eec\u9009\u53d6\u4e86\u65e5\u5747\u6570\u636e\u91cf\u5927\u7ea6 10 \u4ebf\u7684\u4e1a\u52a1\uff0c\u5206\u522b\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u8fdb\u884c\u4e86\u6027\u80fd\u6d4b\u8bd5\uff0c\u5176\u4e2d\u5305\u542b 6 \u4e2a\u4e8b\u4ef6\u5206\u6790\u573a\u666f\uff0c3 \u4e2a\u7559\u5b58\u5206\u6790\u573a\u666f\u4ee5\u53ca 3 \u4e2a\u6f0f\u6597\u5206\u6790\u573a\u666f\u3002**\u7ecf\u8fc7\u5bf9\u6bd4\u540e\uff0c\u5f97\u51fa\u4ee5\u4e0b\u7ed3\u8bba\uff1a**\\n\\n-   \u5728\u4e8b\u4ef6\u5206\u6790\u7684\u573a\u666f\u4e0b\uff0c\u5e73\u5747\u67e5\u8be2\u6240\u8017\u65f6\u95f4**\u964d\u4f4e\u4e86 85%** \u3002\\n-   \u5728\u7559\u5b58\u5206\u6790\u548c\u6f0f\u6597\u5206\u6790\u573a\u666f\u4e0b\uff0c\u5e73\u5747\u67e5\u8be2\u6240\u8017\u65f6\u95f4**\u964d\u4f4e\u4e86 50%** **\u3002**\\n\\n\\n# \u5e94\u7528\u5b9e\u8df5\\n\\n\u968f\u7740\u63a5\u5165\u4e1a\u52a1\u7684\u589e\u591a\u548c\u6570\u636e\u89c4\u6a21\u7684\u589e\u957f\uff0c\u8ba9\u6211\u4eec\u4e5f\u9047\u5230\u4e0d\u5c11\u95ee\u9898\u548c\u6311\u6218\uff0c\u4e0b\u9762\u6211\u4eec\u5c06\u4ecb\u7ecd\u5728**\u4f7f\u7528 Apache Doris \u8fc7\u7a0b\u4e2d\u6c89\u6dc0\u51fa\u6765\u7684\u4e00\u4e9b\u5b9e\u8df5\u7ecf\u9a8c**\u3002\\n\\n### \u6570\u636e\u5bfc\u5165\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8afce198933f4ca4b2c97d4cf85b27de~tplv-k3u1fbpfcp-zoom-1.image)\u5c0f\u7c73\u5185\u90e8\u4e3b\u8981\u901a\u8fc7 Stream Load \u4e0e Broker Load \u4ee5\u53ca\u5c11\u91cf Insert \u65b9\u5f0f\u6765\u8fdb\u884c Doris \u7684\u6570\u636e\u5bfc\u5165\u3002\u6570\u636e\u4e00\u822c\u4f1a\u5148\u6253\u5230 Talos \u6d88\u606f\u961f\u5217\u4e2d\uff0c\u5e76\u5206\u4e3a\u5b9e\u65f6\u6570\u636e\u548c\u79bb\u7ebf\u6570\u636e\u4e24\u4e2a\u90e8\u5206\u3002\\n\\n**\u5b9e\u65f6\u6570\u636e\u5199\u5165 Apache Doris \u4e2d\uff1a**\\n\\n \u4e00\u90e8\u5206\u4e1a\u52a1\u5728\u901a\u8fc7 Flink \u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\u540e\uff0c\u4f1a\u901a\u8fc7 Doris \u793e\u533a\u63d0\u4f9b\u7684 Flink Doris Connector \u7ec4\u4ef6\u5199\u5165\u5230 Doris \u4e2d\uff0c\u5e95\u5c42\u4f9d\u8d56\u4e8e Doris Stream Load \u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u3002\u4e5f\u6709\u4e00\u90e8\u5206\u4f1a\u901a\u8fc7 Spark Streaming \u5c01\u88c5\u7684 Stream Load \u5c06\u6570\u636e\u5bfc\u5165\u5230 Doris \u4e2d\u3002\\n\\n**\u79bb\u7ebf\u6570\u636e\u5199\u5165** **Apache Doris \u4e2d\uff1a**\\n\\n\u79bb\u7ebf\u6570\u636e\u90e8\u5206\u5219\u4f1a\u5148\u5199\u5230 Hive \u4e2d\uff0c\u518d\u901a\u8fc7\u5c0f\u7c73\u7684\u6570\u636e\u5de5\u573a\u5c06\u6570\u636e\u5bfc\u5165\u5230 Doris \u4e2d\u3002\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5728\u6570\u636e\u5de5\u573a\u63d0\u4ea4 Broker Load \u4efb\u52a1\u5e76\u5c06\u6570\u636e\u76f4\u63a5\u5bfc\u5165 Doris \u4e2d\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 Spark SQL \u5c06\u6570\u636e\u5bfc\u5165 Doris \u4e2d\u3002Spark SQL \u65b9\u5f0f\u5219\u662f\u4f9d\u8d56\u4e86 Doris \u793e\u533a\u63d0\u4f9b\u7684 Spark Doris Connector \u7ec4\u4ef6\uff0c\u5e95\u5c42\u4e5f\u662f\u5bf9 Doris \u7684 Stream Load \u6570\u636e\u5bfc\u5165\u65b9\u5f0f\u8fdb\u884c\u7684\u5c01\u88c5\u3002\\n\\n### \u6570\u636e\u67e5\u8be2\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c1cd3554e854dbe99aba27499e28118~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n\u7528\u6237\u901a\u8fc7\u6570\u636e\u5de5\u573a\u5c06\u6570\u636e\u5bfc\u5165\u81f3 Doris \u540e\u5373\u53ef\u8fdb\u884c\u67e5\u8be2\uff0c\u5728\u5c0f\u7c73\u5185\u90e8\u662f\u901a\u8fc7\u5c0f\u7c73\u81ea\u7814\u7684\u6570\u9cb8\u5e73\u53f0\u6765\u505a\u67e5\u8be2\u7684\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u6570\u9cb8\u5e73\u53f0\u5bf9 Doris \u8fdb\u884c\u67e5\u8be2\u53ef\u89c6\u5316\uff0c\u5e76\u5b9e\u73b0\u7528\u6237\u884c\u4e3a\u5206\u6790\uff08\u4e3a\u6ee1\u8db3\u4e1a\u52a1\u7684\u4e8b\u4ef6\u5206\u6790\u3001\u7559\u5b58\u5206\u6790\u3001\u6f0f\u6597\u5206\u6790\u3001\u8def\u5f84\u5206\u6790\u7b49\u884c\u4e3a\u5206\u6790\u9700\u6c42\uff0c\u6211\u4eec\u4e3a Doris \u6dfb\u52a0\u4e86\u76f8\u5e94\u7684 UDF \u548c UDAF \uff09\u548c\u7528\u6237\u753b\u50cf\u5206\u6790\u3002\\n\\n\u867d\u7136\u76ee\u524d\u4f9d\u7136\u9700\u8981\u5c06 Hive \u7684\u6570\u636e\u5bfc\u8fc7\u6765\uff0c\u4f46 Doris \u793e\u533a\u4e5f\u6b63\u5728\u652f\u6301\u6e56\u4ed3\u4e00\u4f53\u80fd\u529b\uff0c\u5728\u540e\u7eed\u5b9e\u73b0\u6e56\u4ed3\u4e00\u4f53\u80fd\u529b\u540e\uff0c\u6211\u4eec\u4f1a\u8003\u8651\u76f4\u63a5\u901a\u8fc7 Doris \u67e5\u8be2 Hive \u4e0e Iceberg \u5916\u8868\u3002**\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0cDoris 1.1 \u7248\u672c\u5df2\u7ecf\u5b9e\u73b0\u652f\u6301\u67e5\u8be2 Iceberg \u5916\u8868\u80fd\u529b\u3002** \u540c\u65f6\u5728\u5373\u5c06\u53d1\u5e03\u7684 **1.2 \u7248\u672c**\u4e2d\uff0c\u8fd8\u5c06\u652f\u6301 Hudi \u5916\u8868\u5e76\u589e\u52a0\u4e86 Multi Catalog \uff0c\u53ef\u4ee5\u5b9e\u73b0\u5916\u90e8\u8868\u5143\u6570\u636e\u7684\u540c\u6b65\uff0c\u65e0\u8bba\u662f\u67e5\u8be2\u5916\u90e8\u8868\u7684\u6027\u80fd\u8fd8\u662f\u63a5\u5165\u5916\u8868\u7684\u6613\u7528\u6027\u90fd\u6709\u4e86\u5f88\u5927\u7684\u63d0\u5347\u3002\\n\\n### Compaction \u8c03\u4f18\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/92ad4ea90c564af2b720080b449c6edf~tplv-k3u1fbpfcp-zoom-1.image)\\n\\nDoris \u5e95\u5c42\u91c7\u7528\u7c7b\u4f3c LSM-Tree \u65b9\u5f0f\uff0c\u652f\u6301\u5feb\u901f\u7684\u6570\u636e\u5199\u5165\u3002\u6bcf\u4e00\u6b21\u7684\u6570\u636e\u5bfc\u5165\u90fd\u4f1a\u5728\u5e95\u5c42\u7684 Tablet \u4e0b\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u7248\u672c\uff0c\u6bcf\u4e2a\u6570\u636e\u7248\u672c\u5185\u90fd\u662f\u4e00\u4e2a\u4e2a\u5c0f\u7684\u6570\u636e\u6587\u4ef6\u3002\u5355\u4e2a\u6587\u4ef6\u5185\u90e8\u662f\u6709\u5e8f\u7684\uff0c\u4f46\u662f\u4e0d\u540c\u7684\u6587\u4ef6\u4e4b\u95f4\u53c8\u662f\u65e0\u5e8f\u7684\u3002\u4e3a\u4e86\u4f7f\u6570\u636e\u6709\u5e8f\uff0c\u5728 Doris \u5e95\u5c42\u5c31\u4f1a\u5b58\u5728 Compaction \u673a\u5236\uff0c\u5f02\u6b65\u5c06\u5e95\u5c42\u5c0f\u7684\u6570\u636e\u7248\u672c\u5408\u5e76\u6210\u5927\u7684\u6587\u4ef6\u3002Compaction \u4e0d\u53ca\u65f6\u5c31\u4f1a\u9020\u6210\u7248\u672c\u7d2f\u79ef\uff0c\u589e\u52a0\u5143\u6570\u636e\u7684\u538b\u529b\uff0c\u5e76\u5f71\u54cd\u67e5\u8be2\u6027\u80fd\u3002\u7531\u4e8e Compaction \u4efb\u52a1\u672c\u8eab\u53c8\u6bd4\u8f83\u8017\u8d39\u673a\u5668CPU\u3001\u5185\u5b58\u4e0e\u78c1\u76d8\u8d44\u6e90\uff0c\u5982\u679c Compaction \u5f00\u5f97\u592a\u5927\u5c31\u4f1a\u5360\u7528\u8fc7\u591a\u7684\u673a\u5668\u8d44\u6e90\u5e76\u5f71\u54cd\u5230\u67e5\u8be2\u6027\u80fd\uff0c\u540c\u65f6\u4e5f\u53ef\u80fd\u4f1a\u9020\u6210 OOM\u3002**\u9488\u5bf9\u4ee5\u4e0a\u95ee\u9898\uff0c\u6211\u4eec\u4e00\u65b9\u9762\u4ece\u4e1a\u52a1\u4fa7\u7740\u624b\uff0c\u901a\u8fc7\u4ee5\u4e0b\u65b9\u9762\u5f15\u5bfc\u7528\u6237\uff1a**\\n\\n-   \u901a\u8fc7\u5f15\u5bfc\u4e1a\u52a1\u4fa7\u8fdb\u884c\u5408\u7406\u4f18\u5316\uff0c\u5bf9\u8868\u8bbe\u7f6e**\u5408\u7406\u7684\u5206\u533a\u548c\u5206\u6876**\uff0c\u907f\u514d\u751f\u6210\u8fc7\u591a\u7684\u6570\u636e\u5206\u7247\u3002\\n-   \u5f15\u5bfc\u7528\u6237\u5c3d\u91cf**\u964d\u4f4e\u6570\u636e\u7684\u5bfc\u5165\u9891\u7387** **\uff0c** **\u589e\u5927\u5355\u6b21\u6570\u636e\u5bfc\u5165\u7684\u91cf**\uff0c\u964d\u4f4e Compaction \u538b\u529b\u3002\\n-   \u5f15\u5bfc\u7528\u6237**\u907f\u514d\u8fc7\u591a\u4f7f\u7528\u4f1a\u5728\u5e95\u5c42\u751f\u6210 Delete \u7248\u672c\u7684 Delete \u64cd\u4f5c**\u3002\u5728 Doris \u4e2d Compaction \u5206\u4e3a Base Compaction \u4e0e Cumulative Compaction\u3002Cumulative Compaction \u4f1a\u5feb\u901f\u7684\u628a\u5927\u91cf\u65b0\u5bfc\u5165\u7684\u5c0f\u7248\u672c\u8fdb\u884c\u5feb\u901f\u7684\u5408\u5e76\uff0c\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u82e5\u9047\u5230 Delete \u64cd\u4f5c\u5c31\u4f1a\u7ec8\u6b62\u5e76\u5c06\u5f53\u524d Delete \u64cd\u4f5c\u7248\u672c\u4e4b\u524d\u7684\u6240\u6709\u7248\u672c\u8fdb\u884c\u5408\u5e76\u3002\u7531\u4e8e Cumulative Compaction \u65e0\u6cd5\u5904\u7406 Delete \u7248\u672c\uff0c\u5728\u5408\u5e76\u5b8c\u4e4b\u540e\u7684\u7248\u672c\u4f1a\u548c\u5f53\u524d\u7248\u672c\u4e00\u8d77\u653e\u5230 Base Compaction \u4e2d\u8fdb\u884c\u3002\u5f53 Delete \u7248\u672c\u7279\u522b\u591a\u65f6\uff0c Cumulative Compaction \u7684\u6b65\u957f\u4e5f\u4f1a\u76f8\u5e94\u53d8\u77ed\uff0c\u53ea\u80fd\u5408\u5e76\u5c11\u91cf\u7684\u6587\u4ef6\uff0c\u5bfc\u81f4 Cumulative Compaction \u4e0d\u80fd\u5f88\u597d\u7684\u53d1\u6325\u5c0f\u6587\u4ef6\u5408\u5e76\u6548\u679c\u3002\\n\\n**\u53e6\u4e00\u65b9\u9762\u6211\u4eec\u4ece\u8fd0\u7ef4\u4fa7\u7740\u624b\uff1a**\\n\\n-   **\u9488\u5bf9\u4e0d\u540c\u7684\u4e1a\u52a1\u96c6\u7fa4\u914d\u7f6e\u4e0d\u540c\u7684 Compaction \u53c2\u6570\u3002** \u90e8\u5206\u4e1a\u52a1\u662f\u5b9e\u65f6\u5199\u5165\u6570\u636e\u7684\uff0c\u9700\u8981\u7684\u67e5\u8be2\u6b21\u6570\u5f88\u591a\uff0c\u6211\u4eec\u5c31\u4f1a\u5c06 Compaction \u5f00\u7684\u5927\u4e00\u70b9\u4ee5\u8fbe\u5230\u5feb\u901f\u5408\u5e76\u76ee\u7684\u3002\u800c\u53e6\u5916\u4e00\u90e8\u5206\u4e1a\u52a1\u53ea\u5199\u4eca\u5929\u7684\u5206\u533a\uff0c\u4f46\u662f\u53ea\u5bf9\u4e4b\u524d\u7684\u5206\u533a\u8fdb\u884c\u67e5\u8be2\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4f1a\u9002\u5f53\u7684\u5c06 Compaction \u653e\u7684\u5c0f\u4e00\u70b9\uff0c\u907f\u514d Compaction \u5360\u7528\u8fc7\u5927\u5185\u5b58\u6216 CPU \u8d44\u6e90\u3002\u5230\u665a\u4e0a\u5bfc\u5165\u91cf\u53d8\u5c11\u65f6\uff0c\u4e4b\u524d\u5bfc\u5165\u7684\u5c0f\u7248\u672c\u80fd\u591f\u88ab\u53ca\u65f6\u5408\u5e76\uff0c\u5bf9\u7b2c\u4e8c\u5929\u67e5\u8be2\u6548\u7387\u4e0d\u4f1a\u6709\u5f88\u5927\u5f71\u54cd\u3002\\n-   **\u9002\u5f53\u964d\u4f4e Base Compaction \u4efb\u52a1\u4f18\u5148\u7ea7\u5e76\u589e\u52a0 Cumulative Compaction \u4f18\u5148\u7ea7\u3002** \u6839\u636e\u4e0a\u6587\u63d0\u5230\u7684\u5185\u5bb9\uff0cCumulative Compaction \u80fd\u591f\u5feb\u901f\u5408\u5e76\u5927\u91cf\u751f\u6210\u7684\u5c0f\u6587\u4ef6\uff0c\u800c Base Compaction \u7531\u4e8e\u5408\u5e76\u7684\u6587\u4ef6\u8f83\u5927\uff0c\u6267\u884c\u7684\u65f6\u95f4\u4e5f\u4f1a\u76f8\u5e94\u53d8\u957f\uff0c\u8bfb\u5199\u653e\u5927\u4e5f\u4f1a\u6bd4\u8f83\u4e25\u91cd\u3002\u6240\u4ee5\u6211\u4eec\u5e0c\u671b Cumulative Compaction \u4f18\u5148\u3001\u5feb\u901f\u7684\u8fdb\u884c\u3002\\n-   **\u589e\u52a0\u7248\u672c\u79ef\u538b\u62a5\u8b66\u3002** \u5f53\u6211\u4eec\u6536\u5230\u7248\u672c\u79ef\u538b\u62a5\u8b66\u65f6\uff0c\u52a8\u6001\u8c03\u5927 Compaction \u53c2\u6570\uff0c\u5c3d\u5feb\u6d88\u8017\u79ef\u538b\u7248\u672c\u3002\\n-   **\u652f\u6301\u624b\u52a8\u89e6\u53d1\u6307\u5b9a\u8868\u4e0e\u5206\u533a\u4e0b\u6570\u636e\u5206\u7247\u7684 Compaction \u4efb\u52a1\u3002** \u7531\u4e8e Compaction \u4e0d\u53ca\u65f6\uff0c\u90e8\u5206\u8868\u5728\u67e5\u8be2\u65f6\u7248\u672c\u7d2f\u79ef\u8f83\u591a\u5e76\u9700\u8981\u80fd\u591f\u5feb\u901f\u8fdb\u884c\u5408\u5e76\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u652f\u6301\u5bf9\u5355\u4e2a\u8868\u6216\u5355\u4e2a\u8868\u4e0b\u7684\u67d0\u4e2a\u5206\u533a\u63d0\u9ad8 Compaction \u4f18\u5148\u7ea7\u3002\\n\\n**\u76ee\u524d Doris \u793e\u533a\u9488\u5bf9\u4ee5\u4e0a\u95ee\u9898\u5df2\u7ecf\u505a\u4e86** **\u4e00\u7cfb\u5217\u7684\u4f18\u5316** **\uff0c\u5728 1.1 \u7248\u672c\u4e2d** **\u5927\u5e45\u589e\u5f3a\u4e86\u6570\u636e Compaction \u80fd\u529b\uff0c\u5bf9\u4e8e\u65b0\u589e\u6570\u636e\u80fd\u591f\u5feb\u901f\u5b8c\u6210\u805a\u5408\uff0c\u907f\u514d\u5206\u7247\u6570\u636e\u4e2d\u7684\u7248\u672c\u8fc7\u591a\u5bfc\u81f4\u7684 -235 \u9519\u8bef\u4ee5\u53ca\u5e26\u6765\u7684\u67e5\u8be2\u6548\u7387\u95ee\u9898\u3002**\\\\\\n**\u9996\u5148**\uff0c\u5728 Doris 1.1 \u7248\u672c\u4e2d\uff0c\u5f15\u5165\u4e86 QuickCompaction\uff0c\u589e\u52a0\u4e86\u4e3b\u52a8\u89e6\u53d1\u5f0f\u7684 Compaction \u68c0\u67e5\uff0c\u5728\u6570\u636e\u7248\u672c\u589e\u52a0\u7684\u65f6\u5019\u4e3b\u52a8\u89e6\u53d1 Compaction\u3002\u540c\u65f6\u901a\u8fc7\u63d0\u5347\u5206\u7247\u5143\u4fe1\u606f\u626b\u63cf\u7684\u80fd\u529b\uff0c\u5feb\u901f\u7684\u53d1\u73b0\u6570\u636e\u7248\u672c\u591a\u7684\u5206\u7247\uff0c\u89e6\u53d1 Compaction\u3002\u901a\u8fc7\u4e3b\u52a8\u5f0f\u89e6\u53d1\u52a0\u88ab\u52a8\u5f0f\u626b\u63cf\u7684\u65b9\u5f0f\uff0c\u5f7b\u5e95\u89e3\u51b3\u6570\u636e\u5408\u5e76\u7684\u5b9e\u65f6\u6027\u95ee\u9898\u3002\\n\\n**\u540c\u65f6**\uff0c\u9488\u5bf9\u9ad8\u9891\u7684\u5c0f\u6587\u4ef6 Cumulative Compaction\uff0c\u5b9e\u73b0\u4e86 Compaction \u4efb\u52a1\u7684\u8c03\u5ea6\u9694\u79bb\uff0c\u9632\u6b62\u91cd\u91cf\u7ea7\u7684 Base Compaction \u5bf9\u65b0\u589e\u6570\u636e\u7684\u5408\u5e76\u9020\u6210\u5f71\u54cd\u3002\\n\\n**\u6700\u540e**\uff0c\u9488\u5bf9\u5c0f\u6587\u4ef6\u5408\u5e76\uff0c\u4f18\u5316\u4e86\u5c0f\u6587\u4ef6\u5408\u5e76\u7684\u7b56\u7565\uff0c\u91c7\u7528\u68af\u5ea6\u5408\u5e76\u7684\u65b9\u5f0f\uff0c\u6bcf\u6b21\u53c2\u4e0e\u5408\u5e76\u7684\u6587\u4ef6\u90fd\u5c5e\u4e8e\u540c\u4e00\u4e2a\u6570\u636e\u91cf\u7ea7\uff0c\u9632\u6b62\u5927\u5c0f\u5dee\u522b\u5f88\u5927\u7684\u7248\u672c\u8fdb\u884c\u5408\u5e76\uff0c\u9010\u6e10\u6709\u5c42\u6b21\u7684\u5408\u5e76\uff0c\u51cf\u5c11\u5355\u4e2a\u6587\u4ef6\u53c2\u4e0e\u5408\u5e76\u7684\u6b21\u6570\uff0c\u80fd\u591f\u5927\u5e45\u7684\u8282\u7701\u7cfb\u7edf\u7684 CPU \u6d88\u8017\u3002![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd2f0a547d6e4ddcb027715c4a544c5a~tplv-k3u1fbpfcp-zoom-1.image)**\u5728\u793e\u533a 1.1 \u65b0\u7248\u672c\u7684\u6d4b\u8bd5\u7ed3\u679c\u4e2d\uff0c\u4e0d\u8bba\u662fCompaction \u7684\u6548\u7387\u3001CPU \u7684\u8d44\u6e90\u6d88\u8017\uff0c\u8fd8\u662f\u9ad8\u9891\u5bfc\u5165\u65f6\u7684\u67e5\u8be2\u6296\u52a8\uff0c\u6548\u679c\u90fd\u6709\u4e86\u5927\u5e45\u7684\u63d0\u5347\u3002**\\n\\n**\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\uff1a** [Apache Doris 1.1 \u7279\u6027\u63ed\u79d8\uff1aFlink \u5b9e\u65f6\u5199\u5165\u5982\u4f55\u517c\u987e\u9ad8\u541e\u5410\u548c\u4f4e\u5ef6\u65f6](http://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&mid=2247500848&idx=1&sn=a667665ed4ccf4cf807a47be7c264f69&chksm=cf2fca37f85843219e2f74d856478d4aa24d381c1d6e7f9f6a64b65f3344ce8451ad91c5af97&scene=21#wechat_redirect)\\n\\n### \u76d1\u63a7\u62a5\u8b66\\n\\nDoris \u7684\u76d1\u63a7\u4e3b\u8981\u662f\u901a\u8fc7 Prometheus \u4ee5\u53ca Grafana \u8fdb\u884c\u3002\u5bf9\u4e8e Doris \u7684\u62a5\u8b66\u5219\u662f\u901a\u8fc7 Falcon \u8fdb\u884c\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3fbe6b44f1124a91bf5ee17608f302d5~tplv-k3u1fbpfcp-zoom-1.image)\u5c0f\u7c73\u5185\u90e8\u4f7f\u7528 Minos \u8fdb\u884c\u96c6\u7fa4\u90e8\u7f72\u3002Minos \u662f\u5c0f\u7c73\u5185\u90e8\u81ea\u7814\u5e76\u5f00\u6e90\u7684\u5927\u6570\u636e\u670d\u52a1\u8fdb\u7a0b\u7ba1\u7406\u5de5\u5177\u3002\u5728\u5b8c\u6210 Doris \u96c6\u7fa4\u90e8\u7f72\u540e\u4f1a\u66f4\u65b0\u81f3\u5c0f\u7c73\u5185\u90e8\u7684\u8f7b\u821f\u6570\u4ed3\u4e2d\u3002\u5728\u8f7b\u821f\u6570\u4ed3\u4e2d\u7684\u8282\u70b9\u6ce8\u518c\u5230 ZooKeeper \u540e\uff0cPrometheus \u4f1a\u76d1\u542c ZooKeeper \u6ce8\u518c\u7684\u8282\u70b9\uff0c\u540c\u65f6\u8bbf\u95ee\u5bf9\u5e94\u7aef\u53e3\uff0c\u62c9\u53d6\u5bf9\u5e94 Metrics \u3002\u5728\u8fd9\u4e4b\u540e\uff0cGrafana \u4f1a\u5728\u9762\u677f\u4e0a\u5bf9\u76d1\u63a7\u4fe1\u606f\u8fdb\u884c\u663e\u793a\uff0c\u82e5\u6709\u6307\u6807\u8d85\u8fc7\u9884\u8bbe\u7684\u62a5\u8b66\u9608\u503c\uff0cFalcon \u62a5\u8b66\u7cfb\u7edf\u5c31\u4f1a\u5728\u62a5\u8b66\u7fa4\u5185\u62a5\u8b66\uff0c\u540c\u65f6\u9488\u5bf9\u62a5\u8b66\u7ea7\u522b\u8f83\u9ad8\u6216\u67d0\u4e9b\u65e0\u6cd5\u53ca\u65f6\u54cd\u5e94\u7684\u8b66\u544a\uff0c\u53ef\u76f4\u63a5\u901a\u8fc7\u7535\u8bdd\u547c\u53eb\u503c\u73ed\u540c\u5b66\u8fdb\u884c\u62a5\u8b66\u3002\\n\\n\\n\u53e6\u5916\uff0c\u5c0f\u7c73\u5185\u90e8\u9488\u5bf9\u6bcf\u4e00\u4e2a Doris \u96c6\u7fa4\u90fd\u6709 Cloud - Doris \u7684\u5b88\u62a4\u8fdb\u7a0b\u3002Could - Doris \u6700\u5927\u529f\u80fd\u662f\u53ef\u4ee5\u5bf9 Doris \u8fdb\u884c\u53ef\u7528\u6027\u63a2\u6d4b\u3002\u6bd4\u5982\u6211\u4eec\u6bcf\u4e00\u5206\u949f\u5bf9 Doris \u53d1\u9001\u4e00\u6b21 select current timestamp(); \u67e5\u8be2\uff0c\u82e5\u672c\u6b21\u67e5\u8be2 20 \u79d2\u6ca1\u6709\u8fd4\u56de\uff0c\u6211\u4eec\u5c31\u4f1a\u5224\u65ad\u672c\u6b21\u63a2\u6d4b\u4e0d\u53ef\u7528\u3002\u5c0f\u7c73\u5185\u90e8\u5bf9\u6bcf\u4e00\u4e2a\u96c6\u7fa4\u7684\u53ef\u7528\u6027\u8fdb\u884c\u4fdd\u8bc1\uff0c\u901a\u8fc7\u4e0a\u8ff0\u63a2\u6d4b\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u5c0f\u7c73\u5185\u90e8\u8f93\u51fa Doris\u53ef\u7528\u6027\u6307\u6807\u3002\\n\\n\\n# \u5c0f\u7c73\u5bf9Apache Doris\u7684\u4f18\u5316\u5b9e\u8df5\\n\\n\u5728\u5e94\u7528 Apache Doris \u89e3\u51b3\u4e1a\u52a1\u95ee\u9898\u7684\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u53d1\u73b0\u4e86 Apache Doris \u5b58\u5728\u7684\u4e00\u4e9b\u4f18\u5316\u9879\uff0c\u56e0\u6b64\u5728\u4e0e\u793e\u533a\u8fdb\u884c\u6c9f\u901a\u540e\u6211\u4eec\u5f00\u59cb\u6df1\u5ea6\u53c2\u4e0e\u793e\u533a\u5f00\u53d1\uff0c\u89e3\u51b3\u81ea\u8eab\u95ee\u9898\u7684\u540c\u65f6\u4e5f\u53ca\u65f6\u5c06\u5f00\u53d1\u7684\u91cd\u8981 Feature \u56de\u9988\u7ed9\u793e\u533a\uff0c\u5177\u4f53\u5305\u62ec Stream Load \u4e24\u9636\u6bb5\u63d0\u4ea4\uff082PC\uff09\u3001\u5355\u526f\u672c\u6570\u636e\u5bfc\u5165\u3001Compaction \u5185\u5b58\u9650\u5236\u7b49\u3002\\n\\n### Stream Load \u4e24\u9636\u6bb5\u63d0\u4ea4\uff082PC)\\n\\n**\u9047\u5230\u7684\u95ee\u9898**\\n\\n\u5728 Flink \u548c Spark \u5bfc\u5165\u6570\u636e\u8fdb Doris \u7684\u8fc7\u7a0b\u4e2d\uff0c\u5f53\u67d0\u4e9b\u5f02\u5e38\u72b6\u51b5\u53d1\u751f\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5982\u4e0b\u95ee\u9898\uff1a\\n\\n**Flink \u6570\u636e\u91cd\u590d\u5bfc\u5165** **\uff1a** Flink \u901a\u8fc7\u5468\u671f\u6027 Checkpoint \u673a\u5236\u5904\u7406\u5bb9\u9519\u5e76\u5b9e\u73b0 EOS\uff0c\u901a\u8fc7\u4e3b\u952e\u6216\u8005\u4e24\u9636\u6bb5\u63d0\u4ea4\u5b9e\u73b0\u5305\u542b\u5916\u90e8\u5b58\u50a8\u7684\u7aef\u5230\u7aef EOS\u3002Doris-Flink-Connector 1.1 \u4e4b\u524d UNIQUE KEY \u8868\u901a\u8fc7\u552f\u4e00\u952e\u5b9e\u73b0\u4e86EOS\uff0c\u975e UNIQUE KEY \u8868\u4e0d\u652f\u6301 EOS\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7750384cac44a569c8edf6c5de61744~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n **Spark SQL \u6570\u636e\u90e8\u5206\u5bfc\u5165** **\uff1a** \u901a\u8fc7 SparkSQL \u4ece Hive \u8868\u4e2d\u67e5\u51fa\u7684\u6570\u636e\u5e76\u5199\u5165 Doris \u8868\u4e2d\u7684\u8fc7\u7a0b\u9700\u8981\u4f7f\u7528\u5230 Spark Doris Connector \u7ec4\u4ef6\uff0c\u4f1a\u5c06 Hive \u4e2d\u67e5\u8be2\u7684\u6570\u636e\u901a\u8fc7\u591a\u4e2a Stream Load \u4efb\u52a1\u5199\u5165 Doris \u4e2d\uff0c\u51fa\u73b0\u5f02\u5e38\u65f6\u4f1a\u5bfc\u81f4\u90e8\u5206\u6570\u636e\u5bfc\u5165\u6210\u529f\uff0c\u90e8\u5206\u5bfc\u5165\u5931\u8d25\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/936ffd500f364f838a9976584727ed42~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**Stream Load \u4e24\u9636\u6bb5\u63d0\u4ea4\u8bbe\u8ba1**\\n\\n\u4ee5\u4e0a\u4e24\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u5bfc\u5165\u652f\u6301\u4e24\u9636\u6bb5\u63d0\u4ea4\u89e3\u51b3\uff0c\u7b2c\u4e00\u9636\u6bb5\u5b8c\u6210\u540e\u786e\u4fdd\u6570\u636e\u4e0d\u4e22\u4e14\u6570\u636e\u4e0d\u53ef\u89c1\uff0c\u8fd9\u5c31\u80fd\u4fdd\u8bc1\u7b2c\u4e8c\u9636\u6bb5\u53d1\u8d77\u63d0\u4ea4\u65f6\u4e00\u5b9a\u80fd\u6210\u529f\uff0c\u4e5f\u80fd\u591f\u4fdd\u8bc1\u7b2c\u4e8c\u9636\u6bb5\u53d1\u8d77\u53d6\u6d88\u65f6\u4e00\u5b9a\u80fd\u6210\u529f\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/50e59f3a78f74ba6a8dd2d7960497adb~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**Doris \u4e2d\u7684\u5199\u5165\u4e8b\u52a1\u5206\u4e3a\u4e09\u6b65\uff1a**\\n\\n1.  \u5728  FE \u4e0a\u5f00\u59cb\u4e8b\u52a1\uff0c\u72b6\u6001\u4e3a Prepare \uff1b\\n1.  \u6570\u636e\u5199\u5165 BE\uff1b\\n1.  \u591a\u6570\u526f\u672c\u5199\u5165\u6210\u529f\u7684\u60c5\u51b5\u4e0b\uff0c\u63d0\u4ea4\u4e8b\u52a1\uff0c\u72b6\u6001\u53d8\u6210 Committed\uff0c\u5e76\u4e14 FE \u5411 BE \u4e0b\u53d1 Publish Version \u4efb\u52a1\uff0c\u8ba9\u6570\u636e\u7acb\u5373\u53ef\u89c1\u3002\\n\\n\u5f15\u5165\u4e24\u9636\u6bb5\u63d0\u4ea4\u4e4b\u540e\uff0c\u7b2c 3 \u6b65\u53d8\u4e3a\u72b6\u6001\u4fee\u6539\u4e3a Pre Commit\uff0cPublish Version \u5728\u7b2c\u4e8c\u9636\u6bb5\u5b8c\u6210\u3002\u7528\u6237\u5728\u7b2c\u4e00\u9636\u6bb5\u5b8c\u6210\u540e\uff08\u4e8b\u52a1\u72b6\u6001\u4e3a Pre Commit \uff09\uff0c\u53ef\u4ee5\u9009\u62e9\u5728\u7b2c\u4e8c\u9636\u6bb5\u653e\u5f03\u6216\u8005\u63d0\u4ea4\u4e8b\u52a1\u3002\\n\\n**\u652f\u6301 Flink Exactly-Once \u8bed\u4e49**\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef5e0a81b441487ba7c3b3fa22e8c85d~tplv-k3u1fbpfcp-zoom-1.image)Doris-Flink-Connector 1.1 \u4f7f\u7528\u4e24\u9636\u6bb5 Stream Load \u5e76\u652f\u6301 Flink \u4e24\u9636\u6bb5\u63d0\u4ea4\u5b9e\u73b0\u4e86 EOS\uff0c\u53ea\u6709\u5168\u5c40\u7684 Checkpoint \u5b8c\u6210\u65f6\uff0c\u624d\u4f1a\u53d1\u8d77 Sream Load \u7684\u7b2c\u4e8c\u9636\u6bb5\u63d0\u4ea4\uff0c\u5426\u5219\u53d1\u8d77\u7b2c\u4e8c\u9636\u6bb5\u653e\u5f03\u3002\\n\\n**\u89e3\u51b3 SparkSQL \u6570\u636e\u90e8\u5206\u5bfc\u5165**\\n\\nDoris-Spark-Connector \u4f7f\u7528\u4e24\u9636\u6bb5 Stream Load \u4e4b\u540e\uff0c\u6210\u529f\u7684 Task \u901a\u8fc7 Stream Load \u7b2c\u4e00\u9636\u6bb5\u5c06\u5199\u5165\u6570\u636e\u5230 Doris \uff08Pre Commit \u72b6\u6001\uff0c\u4e0d\u53ef\u89c1\uff09\uff0c\u5f53\u4f5c\u4e1a\u6210\u529f\u540e\uff0c\u53d1\u8d77\u6240\u6709 Stream Load \u7b2c\u4e8c\u9636\u6bb5\u63d0\u4ea4\uff0c\u4f5c\u4e1a\u5931\u8d25\u65f6\uff0c\u53d1\u8d77\u6240\u6709 Stream Load \u7b2c\u4e8c\u9636\u6bb5\u53d6\u6d88\u3002\u8fd9\u5c31\u786e\u4fdd\u4e86\u4e0d\u4f1a\u6709\u6570\u636e\u90e8\u5206\u5bfc\u5165\u7684\u95ee\u9898\u3002![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/26b11a29566946c99b53ef90e01665ef~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n### \u5355\u526f\u672c\u6570\u636e\u5bfc\u5165\u4f18\u5316\\n\\n**\u5355\u526f\u672c\u6570\u636e\u5bfc\u5165\u8bbe\u8ba1**\\n\\n**Doris \u901a\u8fc7\u591a\u526f\u672c\u673a\u5236\u786e\u4fdd\u6570\u636e\u7684\u9ad8\u53ef\u9760\u4ee5\u53ca\u7cfb\u7edf\u9ad8\u53ef\u7528\u3002** \u5199\u5165\u4efb\u52a1\u53ef\u4ee5\u6309\u7167\u4f7f\u7528\u7684\u8d44\u6e90\u5206\u4e3a\u8ba1\u7b97\u548c\u5b58\u50a8\u4e24\u7c7b\uff1a\u6392\u5e8f\u3001\u805a\u5408\u3001\u7f16\u7801\u3001\u538b\u7f29\u7b49\u4f7f\u7528\u7684\u662f CPU \u548c\u5185\u5b58\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u6700\u540e\u7684\u6587\u4ef6\u5b58\u50a8\u4f7f\u7528\u5b58\u50a8\u8d44\u6e90\uff0c\u4e09\u526f\u672c\u5199\u5165\u65f6\u8ba1\u7b97\u548c\u5b58\u50a8\u8d44\u6e90\u4f1a\u5360\u7528\u4e09\u4efd\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0012b34b7404e5482700c281f6c206f~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n\u90a3\u80fd\u5426\u53ea\u5199\u4e00\u4efd\u526f\u672c\u6570\u636e\u5728\u5185\u5b58\u4e2d\uff0c\u5f85\u5230\u5355\u526f\u672c\u5199\u5165\u5b8c\u6210\u5e76\u751f\u6210\u5b58\u50a8\u6587\u4ef6\u540e\uff0c\u5c06\u6587\u4ef6\u540c\u6b65\u5230\u53e6\u5916\u4e24\u4efd\u526f\u672c\u5462\uff1f\u7b54\u6848\u662f\u53ef\u884c\u7684\uff0c\u56e0\u6b64\u9488\u5bf9\u4e09\u526f\u672c\u5199\u5165\u7684\u573a\u666f\uff0c\u6211\u4eec\u505a\u4e86\u5355\u526f\u672c\u5199\u5165\u8bbe\u8ba1\u3002**\u5355\u526f\u672c\u6570\u636e\u5728\u5185\u5b58\u4e2d\u505a\u5b8c\u6392\u5e8f\u3001\u805a\u5408\u3001\u7f16\u7801\u4ee5\u53ca\u538b\u7f29\u540e\uff0c\u5c06\u6587\u4ef6\u540c\u6b65\u81f3\u5176\u4ed6\u4e24\u4e2a\u526f\u672c\uff0c\u8fd9\u6837\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53ef\u4ee5\u8282\u7701\u51fa CPU \u548c\u5185\u5b58\u8d44\u6e90\u3002**\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3528e0d75184068aa3b50384cb548d1~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**\u6027\u80fd\u5bf9\u6bd4\u6d4b\u8bd5**\\n\\n**Broker Load \u5bfc\u5165 62G \u6570\u636e\u6027\u80fd\u5bf9\u6bd4**\\n**\u5bfc\u5165\u65f6\u95f4\uff1a** \u4e09\u526f\u672c\u5bfc\u5165\u8017\u65f6 33 \u5206\u949f\uff0c\u5355\u526f\u672c\u5bfc\u5165\u8017\u65f6 31 \u5206\u949f\u3002\\n\\n**\u5185\u5b58\u4f7f\u7528\uff1a** \u5185\u5b58\u4f7f\u7528\u4e0a\u4f18\u5316\u6548\u679c\u5341\u5206\u660e\u663e\uff0c\u4e09\u526f\u672c\u6570\u636e\u5bfc\u5165\u7684\u5185\u5b58\u4f7f\u7528\u662f\u5355\u526f\u672c\u5bfc\u5165\u7684\u4e09\u500d\u3002\u5355\u526f\u672c\u5bfc\u5165\u65f6\u53ea\u9700\u8981\u5199\u4e00\u4efd\u5185\u5b58\uff0c\u4f46\u662f\u4e09\u526f\u672c\u5bfc\u5165\u65f6\u9700\u8981\u5199\u4e09\u4efd\u5185\u5b58\uff0c\u5185\u5b58\u4f18\u5316\u8fbe\u5230\u4e86 3 \u500d\u3002\\n\\n**CPU \u6d88\u8017\u5bf9\u6bd4\uff1a** \u4e09\u526f\u672c\u5bfc\u5165\u7684 CPU \u6d88\u8017\u5dee\u4e0d\u591a\u662f\u5355\u526f\u672c\u7684\u4e09\u500d\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cbe6bb648e8d47d09c556eed4ffcdfa9~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**\u5e76\u53d1\u573a\u666f\u6027\u80fd\u5bf9\u6bd4**\\n\\n\u6d4b\u8bd5\u4e2d\u5411  100 \u4e2a\u8868\u5e76\u53d1\u5bfc\u5165\u6570\u636e\uff0c\u6bcf\u4e2a\u8868\u6709 50 \u4e2a\u5bfc\u5165\u4efb\u52a1\uff0c\u4efb\u52a1\u603b\u6570\u4e3a 5000 \u4e2a\u3002\u5355\u4e2a Stream Load \u4efb\u52a1\u5bfc\u5165\u7684\u6570\u636e\u884c\u662f 200 \u4e07\u884c\uff0c\u7ea6\u4e3a 90M \u7684\u6570\u636e\u3002\u6d4b\u8bd5\u4e2d\u5f00\u4e86 128 \u4e2a\u5e76\u53d1\uff0c**\u5c06** **\u5355\u526f\u672c\u5bfc\u5165\u548c\u4e09\u526f\u672c\u5bfc\u5165\u8fdb\u884c\u4e86\u5bf9\u6bd4\uff1a**\\n\\n**\u5bfc\u5165\u65f6\u95f4\uff1a** 3 \u526f\u672c\u5bfc\u5165\u8017\u65f6 67 \u5206\u949f\uff0c\u800c\u540e\u5355\u526f\u672c\u8017\u65f6 27 \u5206\u949f\u5b8c\u6210\u3002\u5bfc\u5165\u6548\u7387\u76f8\u5f53\u63d0\u5347\u4e24\u500d\u4ee5\u4e0a\u3002\\n\\n**\u5185\u5b58\u4f7f\u7528\uff1a** \u5355\u526f\u672c\u7684\u5bfc\u5165\u4f1a\u66f4\u4f4e\u3002\\n\\n**CPU\u6d88\u8017\u5bf9\u6bd4\uff1a** \u7531\u4e8e\u90fd\u5df2\u7ecf\u662f\u5f00\u4e86\u5e76\u53d1\u5728\u5bfc\u5165\uff0cCPU\u5f00\u9500\u90fd\u6bd4\u8f83\u9ad8\uff0c\u4f46\u662f\u5355\u526f\u672c\u5bfc\u5165\u541e\u5410\u63d0\u5347\u660e\u663e\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5a4f5533c4184f8caab39c38d951e410~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**Compaction \u5185\u5b58\u9650\u5236**\\n\\n\u4e4b\u524d Doris \u5728\u5355\u673a\u78c1\u76d8\u4e00\u6b21\u5bfc\u5165\u8d85\u8fc7 2000 \u4e2a Segment \u7684\u60c5\u51b5\u4e0b\uff0cCompaction \u6709\u5185\u5b58 OOM \u7684\u95ee\u9898\u3002\u5bf9\u4e8e\u5f53\u5929\u5199\u5165\u4f46\u4e0d\u67e5\u5f53\u5929\u6570\u636e\u800c\u662f\u67e5\u8be2\u4e4b\u524d\u7684\u6570\u636e\u4e1a\u52a1\u573a\u666f\uff0c\u6211\u4eec\u4f1a\u628a Compaction \u7a0d\u5fae\u653e\u7684\u5c0f\u4e00\u70b9\uff0c\u907f\u514d\u5360\u7528\u592a\u5927\u7684\u5185\u5b58\uff0c\u5bfc\u81f4\u8fdb\u7a0b OOM\u3002Doris \u4e4b\u524d\u6bcf\u4e2a\u78c1\u76d8\u6709\u56fa\u5b9a\u7684\u7ebf\u7a0b\u505a\u5b58\u50a8\u5728\u8fd9\u4e2a\u76d8\u4e0a\u7684\u6570\u636e\u7684 Compaction\uff0c\u6ca1\u6709\u529e\u6cd5\u5728\u5168\u5c40\u8fdb\u884c\u7ba1\u63a7\u3002\u56e0\u4e3a\u6211\u4eec\u8981\u9650\u5236\u5355\u4e2a\u8282\u70b9\u4e0a\u9762\u5185\u5b58\u7684\u4f7f\u7528\uff0c**\u6240\u4ee5\u6211\u4eec\u5c06\u8be5\u6a21\u5f0f\u6539\u6210\u4e86\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u5f0f\uff1a**\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ede14473f9104bdc89213e82398ba32a~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n\u751f\u4ea7\u8005\u4e0d\u505c\u7684\u4ece\u6240\u6709\u7684\u78c1\u76d8\u4e0a\u9762\u751f\u4ea7\u4efb\u52a1\uff0c\u4e4b\u540e\u5c06\u751f\u4ea7\u4efb\u52a1\u63d0\u4ea4\u5230\u7ebf\u7a0b\u6c60\u4e2d\u3002\u6211\u4eec\u53ef\u4ee5\u5f88\u597d\u7684\u628a\u63a7\u7ebf\u7a0b\u6c60\u7684\u5165\u53e3\uff0c\u8fbe\u5230\u5bf9 Compaction \u7684\u9650\u5236\u3002\u6211\u4eec\u5728\u5408\u5e76\u65f6\u4f1a\u628a\u5e95\u5c42\u7684\u5c0f\u6587\u4ef6\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\uff0c\u4e4b\u540e\u5728\u5185\u5b58\u91cc\u7ed9\u6bcf\u4e00\u4e2a\u6587\u4ef6\u5f00\u8f9f Block\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8fd1\u4f3c\u8ba4\u4e3a\u5360\u7528\u7684\u5185\u5b58\u91cf\u4e0e\u6587\u4ef6\u7684\u6570\u91cf\u662f\u76f8\u5173\u7684\uff0c\u4ece\u800c\u53ef\u4ee5\u901a\u8fc7\u5bf9\u5355\u8282\u70b9\u4e0a\u540c\u65f6\u6267\u884c\u5408\u5e76\u7684\u6587\u4ef6\u6570\u91cf\u505a\u9650\u5236\uff0c\u6765\u8fbe\u5230\u63a7\u5236\u5185\u5b58\u7684\u6548\u679c\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00803f23d5a0427fb57abde4a2b1ec2d~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**\u6211\u4eec\u589e\u52a0\u4e86\u5bf9\u5355\u4e2a BE Compaction \u5408\u5e76\u7684\u6587\u4ef6\u6570\u91cf\u7684\u9650\u5236\u3002** \u82e5\u6b63\u5728\u8fdb\u884c\u7684 Compaction \u7684\u6587\u4ef6\u6570\u91cf\u8d85\u8fc7\u6216\u7b49\u4e8e\u5f53\u524d\u9650\u5236\u65f6\uff0c\u540e\u7eed\u63d0\u4ea4\u4e0a\u6765\u7684\u4efb\u52a1\u5c31\u9700\u8981\u7b49\u5f85\uff0c\u7b49\u5230\u524d\u9762\u7684 Compaction \u4efb\u52a1\u505a\u5b8c\u5e76\u5c06\u6307\u6807\u91ca\u653e\u51fa\u6765\u540e\uff0c\u540e\u8fb9\u63d0\u4ea4\u8fdb\u6765\u7684\u90a3\u4e9b\u4efb\u52a1\u624d\u53ef\u4ee5\u8fdb\u884c\u3002\\n\\n\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u6211\u4eec\u5bf9\u67d0\u4e9b\u4e1a\u52a1\u573a\u666f\u505a\u4e86\u5185\u5b58\u7684\u9650\u5236\uff0c\u5f88\u597d\u7684\u907f\u514d\u96c6\u7fa4\u8d1f\u8f7d\u9ad8\u65f6\u5360\u7528\u8fc7\u591a\u5185\u5b58\u5bfc\u81f4 OOM \u7684\u95ee\u9898\u3002\\n\\n# \u603b\u7ed3\\n\\n\u81ea\u4ece Apache Doris \u4ece 2019 \u5e74\u4e0a\u7ebf\u7b2c\u4e00\u4e2a\u4e1a\u52a1\u81f3\u4eca\uff0c**\u76ee\u524d Apache Doris \u5df2\u7ecf\u5728\u5c0f\u7c73\u5185\u90e8\u670d\u52a1\u4e86\u6570\u5341\u4e2a\u4e1a\u52a1\u3001\u96c6\u7fa4\u6570\u91cf\u8fbe\u5230\u6570\u5341\u4e2a\u3001\u8282\u70b9\u89c4\u6a21\u8fbe\u5230\u6570\u767e\u53f0\u3001\u6bcf\u5929\u5b8c\u6210\u6570\u4e07\u6b21\u7528\u6237\u5728\u7ebf\u5206\u6790\u67e5\u8be2\uff0c\u627f\u62c5\u4e86\u5305\u62ec\u589e\u957f\u5206\u6790\u548c\u62a5\u8868\u67e5\u8be2\u7b49\u573a\u666f\u7edd\u5927\u591a\u6570\u5728\u7ebf\u5206\u6790\u7684\u9700\u6c42\u3002**\\n\\n\u4e0e\u6b64\u540c\u65f6\uff0c\u4ee5\u4e0a\u6240\u5217\u5c0f\u7c73\u5bf9\u4e8e Apache Doris \u7684\u4f18\u5316\u5b9e\u8df5\uff0c\u5df2\u7ecf\u6709\u90e8\u5206\u529f\u80fd\u5df2\u7ecf\u5728 Apache Doris 1.0 \u6216 1.1 \u7248\u672c\u4e2d\u53d1\u5e03\uff0c\u6709\u90e8\u5206 PR \u5df2\u7ecf\u5408\u5165\u793e\u533a Master\uff0c\u5728\u4e0d\u4e45\u540e\u53d1\u5e03\u7684 1.2 \u65b0\u7248\u672c\u4e2d\u5e94\u8be5\u5c31\u4f1a\u4e0e\u5927\u5bb6\u89c1\u9762\u3002\u968f\u7740\u793e\u533a\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u6709\u8d8a\u6765\u8d8a\u591a\u5c0f\u4f19\u4f34\u53c2\u4e0e\u5230\u793e\u533a\u5efa\u8bbe\u4e2d\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u6709\u4e86\u6781\u5927\u7684\u63d0\u5347\u3002Apache Doris \u5df2\u7ecf\u53d8\u5f97\u8d8a\u6765\u8d8a\u6210\u719f\uff0c\u5e76\u5f00\u59cb\u4ece\u5355\u4e00\u8ba1\u7b97\u5b58\u50a8\u4e00\u4f53\u7684\u5206\u6790\u578b MPP \u6570\u636e\u5e93\u8d70\u5411\u6e56\u4ed3\u4e00\u4f53\u7684\u9053\u8def\uff0c\u76f8\u4fe1\u5728\u672a\u6765\u8fd8\u6709\u66f4\u591a\u7684\u6570\u636e\u5206\u6790\u573a\u666f\u7b49\u5f85\u53bb\u63a2\u7d22\u548c\u5b9e\u73b0\u3002"},{"id":"/Flink-realtime-write","metadata":{"permalink":"/zh-CN/blog/Flink-realtime-write","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/Flink-realtime-write.md","title":"Apache Doris 1.1 \u7279\u6027\u63ed\u79d8\uff1aFlink \u5b9e\u65f6\u5199\u5165\u5982\u4f55\u517c\u987e\u9ad8\u541e\u5410\u548c\u4f4e\u5ef6\u65f6","description":"\x3c!--","date":"2022-07-29T00:00:00.000Z","formattedDate":"2022\u5e747\u670829\u65e5","tags":[{"label":"\u6280\u672f\u89e3\u6790","permalink":"/zh-CN/blog/tags/\u6280\u672f\u89e3\u6790"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris 1.1 \u7279\u6027\u63ed\u79d8\uff1aFlink \u5b9e\u65f6\u5199\u5165\u5982\u4f55\u517c\u987e\u9ad8\u541e\u5410\u548c\u4f4e\u5ef6\u65f6","summary":"\u968f\u7740\u6570\u636e\u5b9e\u65f6\u5316\u9700\u6c42\u7684\u65e5\u76ca\u589e\u591a\uff0c\u6570\u636e\u7684\u65f6\u6548\u6027\u5bf9\u4f01\u4e1a\u7684\u7cbe\u7ec6\u5316\u8fd0\u8425\u8d8a\u6765\u8d8a\u91cd\u8981\uff0c\u4f7f\u5f97\u5b9e\u65f6\u6570\u4ed3\u5728\u8fd9\u4e00\u8fc7\u7a0b\u4e2d\u8d77\u5230\u4e86\u4e0d\u53ef\u66ff\u4ee3\u7684\u4f5c\u7528\u3002\u672c\u6587\u5c06\u57fa\u4e8e\u7528\u6237\u9047\u5230\u7684\u95ee\u9898\u4e0e\u6311\u6218\uff0c\u63ed\u79d8 Apache Doris 1.1 \u7279\u6027\uff0c\u5bf9 Flink \u5b9e\u65f6\u5199\u5165 Apache Doris \u7684\u4f18\u5316\u5b9e\u73b0\u4e0e\u672a\u6765\u89c4\u5212\u8fdb\u884c\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002","date":"2022-07-29","author":"Apache Doris","tags":["\u6280\u672f\u89e3\u6790"]},"prevItem":{"title":"Apache Doris \u5728\u5c0f\u7c73\u6570\u636e\u573a\u666f\u7684\u5e94\u7528\u5b9e\u8df5\u4e0e\u4f18\u5316","permalink":"/zh-CN/blog/xiaomi"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.1 Release","permalink":"/zh-CN/blog/release-1.1.1"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\\n\\n# \u80cc\u666f\\n\u968f\u7740\u6570\u636e\u5b9e\u65f6\u5316\u9700\u6c42\u7684\u65e5\u76ca\u589e\u591a\uff0c\u6570\u636e\u7684\u65f6\u6548\u6027\u5bf9\u4f01\u4e1a\u7684\u7cbe\u7ec6\u5316\u8fd0\u8425\u8d8a\u6765\u8d8a\u91cd\u8981\uff0c\u5728\u6d77\u91cf\u6570\u636e\u4e2d\uff0c\u5982\u4f55\u80fd\u5b9e\u65f6\u6709\u6548\u7684\u6316\u6398\u51fa\u6709\u4ef7\u503c\u7684\u4fe1\u606f\uff0c\u5feb\u901f\u7684\u83b7\u53d6\u6570\u636e\u53cd\u9988\uff0c\u534f\u52a9\u516c\u53f8\u66f4\u5feb\u7684\u505a\u51fa\u51b3\u7b56\uff0c\u66f4\u597d\u7684\u8fdb\u884c\u4ea7\u54c1\u8fed\u4ee3\uff0c**\u5b9e\u65f6\u6570\u4ed3\u5728\u8fd9\u4e00\u8fc7\u7a0b\u4e2d\u8d77\u5230\u4e86\u4e0d\u53ef\u66ff\u4ee3\u7684\u4f5c\u7528**\u3002\\n\\n\u5728\u8fd9\u79cd\u5f62\u52bf\u4e0b\uff0c**Apache Doris \u4f5c\u4e3a\u4e00\u6b3e\u5b9e\u65f6 MPP \u5206\u6790\u578b\u6570\u636e\u5e93\u8131\u9896\u800c\u51fa**\uff0c\u540c\u65f6\u5177\u5907\u9ad8\u6027\u80fd\u3001\u7b80\u5355\u6613\u7528\u7b49\u7279\u6027\uff0c\u5177\u6709\u4e30\u5bcc\u7684\u6570\u636e\u63a5\u5165\u65b9\u5f0f\uff0c\u7ed3\u5408 Flink \u6d41\u5f0f\u8ba1\u7b97\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u5feb\u901f\u5c06 Kafka \u4e2d\u7684\u975e\u7ed3\u6784\u5316\u6570\u636e\u4ee5\u53ca MySQL \u7b49\u4e0a\u6e38\u4e1a\u52a1\u5e93\u4e2d\u7684\u53d8\u66f4\u6570\u636e\uff0c\u5feb\u901f\u540c\u6b65\u5230 Doris \u5b9e\u65f6\u6570\u4ed3\u4e2d\uff0c\u540c\u65f6 Doris \u63d0\u4f9b\u4e9a\u79d2\u7ea7\u5206\u6790\u67e5\u8be2\u7684\u80fd\u529b\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u6ee1\u8db3\u5b9e\u65f6 OLAP\u3001\u5b9e\u65f6\u6570\u636e\u770b\u677f\u4ee5\u53ca\u5b9e\u65f6\u6570\u636e\u670d\u52a1\u7b49\u573a\u666f\u7684\u9700\u6c42\u3002\\n\\n# \u6311\u6218\\n\\n\u901a\u5e38\u5b9e\u65f6\u6570\u4ed3\u8981\u4fdd\u8bc1\u7aef\u5230\u7aef\u9ad8\u5e76\u53d1\u4ee5\u53ca\u4f4e\u5ef6\u8fdf\uff0c\u5f80\u5f80\u9762\u4e34\u8bf8\u591a\u6311\u6218\uff0c\u6bd4\u5982\uff1a\\n\\n-   \u5982\u4f55\u4fdd\u8bc1\u7aef\u5230\u7aef\u7684**\u79d2\u7ea7\u522b\u6570\u636e\u540c\u6b65**\uff1f\\n-   \u5982\u4f55\u5feb\u901f\u4fdd\u8bc1**\u6570\u636e\u53ef\u89c1\u6027**\uff1f\\n-   \u5728\u9ad8\u5e76\u53d1\u5927\u538b\u529b\u4e0b\uff0c\u5982\u4f55\u89e3\u51b3**\u5927\u91cf\u5c0f\u6587\u4ef6\u5199\u5165**\u7684\u95ee\u9898\uff1f\\n-   \u5982\u4f55\u786e\u4fdd\u7aef\u5230\u7aef\u7684 **Exactly Once** \u8bed\u4e49\uff1f\\n\\n\u7ed3\u5408\u8fd9\u4e9b\u6311\u6218\uff0c\u540c\u65f6\u5bf9\u7528\u6237\u4f7f\u7528 Flink+Doris \u6784\u5efa\u5b9e\u65f6\u6570\u4ed3\u7684\u4e1a\u52a1\u573a\u666f\u8fdb\u884c\u6df1\u5165\u8c03\u7814\uff0c\u5728\u638c\u63e1\u4e86\u7528\u6237\u4f7f\u7528\u7684\u75db\u70b9\u4e4b\u540e\uff0c**\u6211\u4eec\u5728 Doris 1.1 \u7248\u672c\u4e2d\u8fdb\u884c\u4e86\u9488\u5bf9\u6027\u7684\u4f18\u5316\uff0c\u5927\u5e45\u63d0\u5347\u5b9e\u65f6\u6570\u4ed3\u6784\u5efa\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u540c\u65f6\u63d0\u5347\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\uff0c\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u4e5f\u5f97\u5230\u4e86\u5927\u5e45\u7684\u4f18\u5316\u3002**\\n\\n# \u4f18\u5316\\n\\n## \u6d41\u5f0f\u5199\u5165\\nFlink Doris Connector \u6700\u521d\u7684\u505a\u6cd5\u662f\u5728\u63a5\u6536\u5230\u6570\u636e\u540e\uff0c\u7f13\u5b58\u5230\u5185\u5b58 Batch \u4e2d\uff0c\u901a\u8fc7\u6512\u6279\u7684\u65b9\u5f0f\u8fdb\u884c\u5199\u5165\uff0c\u540c\u65f6\u4f7f\u7528 batch.size\u3001batch.interval \u7b49\u53c2\u6570\u6765\u63a7\u5236 Stream Load \u5199\u5165\u7684\u65f6\u673a\u3002\u8fd9\u79cd\u65b9\u5f0f\u901a\u5e38\u5728\u53c2\u6570\u5408\u7406\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7a33\u5b9a\u8fd0\u884c\uff0c\u4e00\u65e6\u53c2\u6570\u4e0d\u5408\u7406\u5bfc\u81f4\u9891\u7e41\u7684 Stream Load\uff0c\u4fbf\u4f1a\u5f15\u53d1 Compaction \u4e0d\u53ca\u65f6\uff0c\u4ece\u800c\u5bfc\u81f4 version \u8fc7\u591a\u7684\u9519\u8bef(-235)\uff1b\u5176\u6b21\uff0c\u5f53\u6570\u636e\u8fc7\u591a\u65f6\uff0c\u4e3a\u4e86\u51cf\u5c11 Stream Load \u7684\u5199\u5165\u65f6\u673a\uff0cbatch.size \u8fc7\u5927\u7684\u8bbe\u7f6e\u8fd8\u53ef\u80fd\u4f1a\u5f15\u53d1 Flink \u4efb\u52a1\u7684 OOM\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c**\u6211\u4eec\u5f15\u5165\u4e86\u6d41\u5f0f\u5199\u5165** **\uff1a** ![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b4b7364deb34a1398c496d10890a249~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n1. Flink \u4efb\u52a1\u542f\u52a8\u540e\uff0c\u4f1a\u5f02\u6b65\u53d1\u8d77\u4e00\u4e2a Stream Load \u7684 Http \u8bf7\u6c42\u3002\\n\\n2. \u63a5\u6536\u5230\u5b9e\u65f6\u6570\u636e\u540e\uff0c\u901a\u8fc7 Http \u7684\u5206\u5757\u4f20\u8f93\u7f16\u7801(Chunked transfer encoding)\u673a\u5236\u6301\u7eed\u5411 Doris \u4f20\u8f93\u6570\u636e\u3002\\n\\n3. \u5728 Checkpoint \u65f6\u7ed3\u675f Http \u8bf7\u6c42\uff0c\u5b8c\u6210\u672c\u6b21 Stream Load \u5199\u5165\uff0c\u540c\u65f6\u5f02\u6b65\u53d1\u8d77\u4e0b\u4e00\u6b21 Stream Load \u7684\u8bf7\u6c42\u3002\\n\\n4. \u7ee7\u7eed\u63a5\u6536\u5b9e\u65f6\u6570\u636e\uff0c\u540e\u7eed\u6d41\u7a0b\u540c\u4e0a\u3002\\n\\n**\u7531\u4e8e\u91c7\u7528 Chunked \u673a\u5236\u4f20\u8f93\u6570\u636e\uff0c\u5c31\u907f\u514d\u4e86\u6512\u6279\u5bf9\u5185\u5b58\u7684\u538b\u529b\uff0c\u540c\u65f6\u5c06\u5199\u5165\u7684\u65f6\u673a\u548c Checkpoint \u7ed1\u5b9a\u8d77\u6765\uff0c\u4f7f\u5f97 Stream Load \u7684\u65f6\u673a\u53ef\u63a7\uff0c\u5e76\u4e14\u4e3a\u4e0b\u9762\u7684 Exactly-Once \u8bed\u4e49\u63d0\u4f9b\u4e86\u57fa\u7840\u3002**\\n\\n## Exactly-Once\\n\\nExactly-Once \u8bed\u4e49\u662f\u6307\u5373\u4f7f\u5728\u673a\u5668\u6216\u5e94\u7528\u51fa\u73b0\u6545\u969c\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u4e0d\u4f1a\u91cd\u590d\u5904\u7406\u6570\u636e\u6216\u8005\u4e22\u5931\u6570\u636e\u3002Flink \u5f88\u65e9\u5c31\u652f\u6301 End-to-End \u7684 Exactly-Once \u573a\u666f\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae\u6765\u5b9e\u73b0 Sink \u7b97\u5b50\u7684 Exactly-Once \u8bed\u4e49\u3002\u5728 Flink \u4e24\u9636\u6bb5\u63d0\u4ea4\u7684\u57fa\u7840\u4e0a\uff0c\u540c\u65f6\u501f\u52a9 Doris 1.0 \u7684 Stream Load \u4e24\u9636\u6bb5\u63d0\u4ea4\uff0c**Flink Doris Connector \u5b9e\u73b0\u4e86 Exactly Once \u8bed\u4e49\uff0c\u5177\u4f53\u539f\u7406\u5982\u4e0b\uff1a**\\n\\n1.  Flink \u4efb\u52a1\u5728\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u53d1\u8d77\u4e00\u4e2a Stream Load \u7684 PreCommit \u8bf7\u6c42\uff0c\u6b64\u65f6\u4f1a\u5148\u5f00\u542f\u4e00\u4e2a\u4e8b\u52a1\uff0c\u540c\u65f6\u4f1a\u901a\u8fc7 Http \u7684 Chunked \u673a\u5236\u5c06\u6570\u636e\u6301\u7eed\u53d1\u9001\u5230 Doris\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b2f143faf784500a3a8ba34063d6c2e~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n2.  \u5728 Checkpoint \u65f6\uff0c\u7ed3\u675f\u6570\u636e\u5199\u5165\uff0c\u540c\u65f6\u5b8c\u6210 Http \u8bf7\u6c42\uff0c\u5e76\u4e14\u5c06\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3a\u9884\u63d0\u4ea4(PreCommitted)\uff0c\u6b64\u65f6\u6570\u636e\u5df2\u7ecf\u5199\u5165 BE\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7e1d4f76a824c9a8f473e2e266defc4~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n3.  Checkpoint \u5b8c\u6210\u540e\uff0c\u53d1\u8d77 Commit \u8bf7\u6c42\uff0c\u5e76\u4e14\u5c06\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3a\u63d0\u4ea4(Committed)\uff0c\u5b8c\u6210\u540e\u6570\u636e\u5bf9\u7528\u6237\u53ef\u89c1\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1215aaa4dc3e44de86cdd4680ac30b00~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n4.  Flink \u5e94\u7528\u610f\u5916\u6302\u6389\u540e\uff0c\u4ece Checkpoint \u91cd\u542f\u65f6\uff0c\u82e5\u4e0a\u6b21\u4e8b\u52a1\u4e3a\u9884\u63d0\u4ea4(PreCommitted)\u72b6\u6001\uff0c\u5219\u4f1a\u53d1\u8d77\u56de\u6eda\u8bf7\u6c42\uff0c\u5e76\u4e14\u5c06\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3a Aborted\u3002\\n\\n**\u57fa\u4e8e\u6b64\uff0c\u53ef\u4ee5\u501f\u52a9 Flink Doris Connector \u5b9e\u73b0\u6570\u636e\u5b9e\u65f6\u5165\u5e93\u65f6\u6570\u636e\u4e0d\u4e22\u4e0d\u91cd\u3002**\\n\\n## \u79d2\u7ea7\u522b\u6570\u636e\u540c\u6b65\\n\\n\u9ad8\u5e76\u53d1\u5199\u5165\u573a\u666f\u4e0b\u7684\u7aef\u5230\u7aef\u79d2\u7ea7\u522b\u6570\u636e\u540c\u6b65\u4ee5\u53ca\u6570\u636e\u7684\u5b9e\u65f6\u53ef\u89c1\u80fd\u529b\uff0c**\u9700\u8981 Doris \u5177\u5907\u5982\u4e0b\u51e0\u65b9\u9762\u7684\u80fd\u529b\uff1a**\\n\\n**\u4e8b\u52a1\u5904\u7406\u80fd\u529b**\\n\\nFlink \u5b9e\u65f6\u5199\u5165\u4ee5 Stream Load 2PC \u7684\u65b9\u5f0f\u4e0e Doris \u8fdb\u884c\u4ea4\u4e92\uff0c\u9700\u8981 Doris \u5177\u5907\u5bf9\u5e94\u7684\u4e8b\u52a1\u5904\u7406\u80fd\u529b\uff0c\u4fdd\u969c\u4e8b\u52a1\u57fa\u672c\u7684 ACID \u7279\u6027\uff0c\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u652f\u6491 Flink \u79d2\u7ea7\u522b\u7684\u6570\u636e\u540c\u6b65\u3002\\n\\n## \u6570\u636e\u7248\u672c\u7684\u5feb\u901f\u805a\u5408\u80fd\u529b\\n\\nDoris \u91cc\u9762\u4e00\u6b21\u5bfc\u5165\u4f1a\u4ea7\u751f\u4e00\u4e2a\u6570\u636e\u7248\u672c\uff0c\u5728\u9ad8\u5e76\u53d1\u5199\u5165\u573a\u666f\u4e0b\u5fc5\u7136\u5e26\u6765\u7684\u4e00\u4e2a\u5f71\u54cd\u662f\u6570\u636e\u7248\u672c\u8fc7\u591a\uff0c\u4e14\u5355\u6b21\u5bfc\u5165\u7684\u6570\u636e\u91cf\u4e0d\u4f1a\u592a\u5927\u3002\u6301\u7eed\u7684\u9ad8\u5e76\u53d1\u5c0f\u6587\u4ef6\u5199\u5165\u573a\u666f\u5bf9 Doris \u5e76\u4e0d\u53cb\u597d\uff0c\u6781\u5176\u8003\u9a8c Doris \u6570\u636e\u5408\u5e76\u7684\u5b9e\u65f6\u6027\u4ee5\u53ca\u6027\u80fd\uff0c\u8fdb\u800c\u4f1a\u5f71\u54cd\u5230\u67e5\u8be2\u7684\u6027\u80fd\u3002**Doris \u5728 1.1 \u4e2d\u5927\u5e45\u589e\u5f3a\u4e86\u6570\u636e Compaction \u80fd\u529b\uff0c\u5bf9\u4e8e\u65b0\u589e\u6570\u636e\u80fd\u591f\u5feb\u901f\u5b8c\u6210\u805a\u5408\uff0c\u907f\u514d\u5206\u7247\u6570\u636e\u4e2d\u7684\u7248\u672c\u8fc7\u591a\u5bfc\u81f4\u7684 -235 \u9519\u8bef\u4ee5\u53ca\u5e26\u6765\u7684\u67e5\u8be2\u6548\u7387\u95ee\u9898\u3002** \\n\\n**\u9996\u5148**\uff0c\u5728 Doris 1.1 \u7248\u672c\u4e2d\uff0c\u5f15\u5165\u4e86 QuickCompaction\uff0c\u589e\u52a0\u4e86\u4e3b\u52a8\u89e6\u53d1\u5f0f\u7684 Compaction \u68c0\u67e5\uff0c\u5728\u6570\u636e\u7248\u672c\u589e\u52a0\u7684\u65f6\u5019\u4e3b\u52a8\u89e6\u53d1 Compaction\u3002\u540c\u65f6\u901a\u8fc7\u63d0\u5347\u5206\u7247\u5143\u4fe1\u606f\u626b\u63cf\u7684\u80fd\u529b\uff0c\u5feb\u901f\u7684\u53d1\u73b0\u6570\u636e\u7248\u672c\u591a\u7684\u5206\u7247\uff0c\u89e6\u53d1 Compaction\u3002\u901a\u8fc7\u4e3b\u52a8\u5f0f\u89e6\u53d1\u52a0\u88ab\u52a8\u5f0f\u626b\u63cf\u7684\u65b9\u5f0f\uff0c\u5f7b\u5e95\u89e3\u51b3\u6570\u636e\u5408\u5e76\u7684\u5b9e\u65f6\u6027\u95ee\u9898\u3002\\n\\n**\u540c\u65f6**\uff0c\u9488\u5bf9\u9ad8\u9891\u7684\u5c0f\u6587\u4ef6 Cumulative Compaction\uff0c\u5b9e\u73b0\u4e86 Compaction \u4efb\u52a1\u7684\u8c03\u5ea6\u9694\u79bb\uff0c\u9632\u6b62\u91cd\u91cf\u7ea7\u7684 Base Compaction \u5bf9\u65b0\u589e\u6570\u636e\u7684\u5408\u5e76\u9020\u6210\u5f71\u54cd\u3002\\n\\n**\u6700\u540e**\uff0c\u9488\u5bf9\u5c0f\u6587\u4ef6\u5408\u5e76\uff0c\u4f18\u5316\u4e86\u5c0f\u6587\u4ef6\u5408\u5e76\u7684\u7b56\u7565\uff0c\u91c7\u7528\u68af\u5ea6\u5408\u5e76\u7684\u65b9\u5f0f\uff0c\u6bcf\u6b21\u53c2\u4e0e\u5408\u5e76\u7684\u6587\u4ef6\u90fd\u5c5e\u4e8e\u540c\u4e00\u4e2a\u6570\u636e\u91cf\u7ea7\uff0c\u9632\u6b62\u5927\u5c0f\u5dee\u522b\u5f88\u5927\u7684\u7248\u672c\u8fdb\u884c\u5408\u5e76\uff0c\u9010\u6e10\u6709\u5c42\u6b21\u7684\u5408\u5e76\uff0c\u51cf\u5c11\u5355\u4e2a\u6587\u4ef6\u53c2\u4e0e\u5408\u5e76\u7684\u6b21\u6570\uff0c\u80fd\u591f\u5927\u5e45\u7684\u8282\u7701\u7cfb\u7edf\u7684 CPU \u6d88\u8017\u3002![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fee6ce47ed6d4c21a34ca35c3a3ad4df~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**Doris 1.1 \u5bf9\u9ad8\u5e76\u53d1\u5bfc\u5165\u3001\u79d2\u7ea7\u522b\u6570\u636e\u540c\u6b65\u3001\u6570\u636e\u5b9e\u65f6\u53ef\u89c1\u7b49\u573a\u666f\u90fd\u505a\u4e86\u9488\u5bf9\u6027\u4f18\u5316\uff0c\u5927\u5927\u589e\u52a0\u4e86 Flink + Doris \u7cfb\u7edf\u7684\u6613\u7528\u6027\u4ee5\u53ca\u7a33\u5b9a\u6027\uff0c\u8282\u7701\u4e86\u96c6\u7fa4\u6574\u4f53\u8d44\u6e90\u3002**\\n\\n\\n# \u6548\u679c\\n\\n## \u901a\u7528 Flink \u9ad8\u5e76\u53d1\u573a\u666f\\n\\n\u5728\u8c03\u7814\u7684\u901a\u7528\u573a\u666f\u4e2d\uff0c\u4f7f\u7528 Flink \u540c\u6b65\u4e0a\u6e38 Kafka \u4e2d\u7684\u975e\u7ed3\u6784\u5316\u6570\u636e\uff0c\u7ecf\u8fc7 ETL \u540e\u4f7f\u7528 Flink Doris Connector \u5c06\u6570\u636e\u5b9e\u65f6\u5199\u5165 Doris \u4e2d\u3002\u8fd9\u91cc\u5ba2\u6237\u573a\u666f\u6781\u5176\u4e25\u82db\uff0c\u4e0a\u6e38\u7ef4\u6301\u4ee5\u6bcf\u79d2 10w \u7684\u8d85\u9ad8\u9891\u7387\u5199\u5165\uff0c\u9700\u8981\u6570\u636e\u80fd\u591f\u5728 5s \u5185\u5b8c\u6210\u4e0a\u4e0b\u6e38\u540c\u6b65\uff0c\u5b9e\u73b0\u79d2\u7ea7\u522b\u7684\u6570\u636e\u53ef\u89c1\u3002\u8fd9\u91cc Flink \u914d\u7f6e\u4e3a 20 \u5e76\u53d1\uff0cCheckpoint \u95f4\u9694 5s\uff0cDoris 1.1 \u7684\u8868\u73b0\u76f8\u5f53\u4f18\u5f02\u3002**\u5177\u4f53\u4f53\u73b0\u5728\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a**\\n\\n**Compaction \u5b9e\u65f6\u6027**\\n\\n\u6570\u636e\u80fd\u5feb\u901f\u5408\u5e76\uff0cTablet \u6570\u636e\u7248\u672c\u4e2a\u6570\u7ef4\u6301\u5728 50 \u4ee5\u4e0b\uff0c Compaction Score \u7a33\u5b9a\u3002\u76f8\u6bd4\u4e8e\u4e4b\u524d\u9ad8\u5e76\u53d1\u5bfc\u5165\u9891\u51fa\u7684 -235 \u95ee\u9898\uff0c**Compaction \u5408\u5e76\u6548\u7387\u6709 10+ \u500d\u63d0\u5347**\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f622b2f235ae4bad8b2b38fd9d1f0c57~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**CPU \u8d44\u6e90\u6d88\u8017**\\n\\nDoris 1.1 \u9488\u5bf9\u5c0f\u6587\u4ef6\u7684 Compaction \u8fdb\u884c\u4e86\u7b56\u7565\u4f18\u5316\uff0c\u5728\u4e0a\u8ff0\u9ad8\u5e76\u53d1\u5bfc\u5165\u573a\u666f\uff0c**CPU \u8d44\u6e90\u6d88\u8017\u4e0b\u964d 25%\u3002** ![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec2732a96bf047e283465b04452c063a~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n**QPS \u67e5\u8be2\u5ef6\u8fdf\u7a33\u5b9a**\\n\\n\u901a\u8fc7\u964d\u4f4e CPU \u4f7f\u7528\u7387\uff0c\u51cf\u5c11\u6570\u636e\u7248\u672c\u7684\u4e2a\u6570\uff0c\u63d0\u5347\u4e86\u6570\u636e\u6574\u4f53\u6709\u5e8f\u6027\uff0c\u4ece\u800c\u51cf\u5c11\u4e86 SQL \u67e5\u8be2\u7684\u5ef6\u8fdf\u3002![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f49f45e950045c0b7913dd167c8d220~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n## \u79d2\u7ea7\u522b\u6570\u636e\u540c\u6b65\u573a\u666f\uff08\u6781\u9650\u5927\u538b\u529b\uff09\\n\\n\u5355 BE \u5355 Tablet\uff0c\u5ba2\u6237\u7aef 30 \u5e76\u53d1\u6781\u9650 Stream Load \u538b\u6d4b\uff0c\u6570\u636e\u5728\u5b9e\u65f6\u6027<1s\uff0cCompaction Score \u4f18\u5316\u524d\u540e\u5bf9\u6bd4\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/209083a2f22846688f02454e306e0053~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n# \u4f7f\u7528\u5efa\u8bae\\n\\n## \u6570\u636e\u5b9e\u65f6\u53ef\u89c1\u573a\u666f\\n\\n\u5bf9\u5ef6\u8fdf\u8981\u6c42\u7279\u522b\u4e25\u683c\u7684\u573a\u666f\uff0c\u6bd4\u5982\u79d2\u7ea7\u522b\u6570\u636e\u540c\u6b65\uff0c\u901a\u5e38\u610f\u5473\u7740\u5355\u6b21\u5bfc\u5165\u6587\u4ef6\u8f83\u5c0f\uff0c\u6b64\u65f6\u5efa\u8bae\u8c03\u5c0f cumulative_size_based_promotion_min_size_mbytes\uff0c\u5355\u4f4d\u662f MB\uff0c\u9ed8\u8ba4 64\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u6210 8\uff0c\u80fd\u591f\u5f88\u5927\u7a0b\u5ea6\u63d0\u5347 Compaction \u7684\u5b9e\u65f6\u6027\u3002\\n\\n## \u9ad8\u5e76\u53d1\u573a\u666f\\n\\n\u5bf9\u4e8e\u9ad8\u5e76\u53d1\u7684\u5199\u5165\u573a\u666f\uff0c\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0 Checkpoint \u7684\u95f4\u9694\u6765\u51cf\u5c11 Stream Load \u7684\u9891\u7387\uff0c\u6bd4\u5982 Checkpoint \u53ef\u4ee5\u8bbe\u7f6e\u4e3a 5-10s\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u589e\u52a0 Flink \u4efb\u52a1\u7684\u541e\u5410\uff0c\u4e5f\u53ef\u4ee5\u51cf\u5c11\u5c0f\u6587\u4ef6\u7684\u4ea7\u751f\uff0c\u907f\u514d\u7ed9 Compaction \u9020\u6210\u66f4\u591a\u538b\u529b\u3002\\n\\n\u6b64\u5916\uff0c\u5bf9\u6570\u636e\u5b9e\u65f6\u6027\u8981\u6c42\u4e0d\u9ad8\u7684\u573a\u666f\uff0c\u6bd4\u5982\u5206\u949f\u7ea7\u522b\u7684\u6570\u636e\u540c\u6b65\uff0c\u53ef\u4ee5\u589e\u52a0 Checkpoint \u7684\u95f4\u9694\uff0c\u6bd4\u5982 5-10 \u5206\u949f\uff0c\u6b64\u65f6 Flink Doris Connector \u4f9d\u7136\u80fd\u591f\u901a\u8fc7\u4e24\u9636\u6bb5\u63d0\u4ea4 +checkpoint \u673a\u5236\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002\\n\\n# \u672a\u6765\u89c4\u5212\\n\\n**\u5b9e\u65f6 Schema Change**\\n\\n\u76ee\u524d\u901a\u8fc7 Flink CDC \u5b9e\u65f6\u63a5\u5165\u6570\u636e\u65f6\uff0c\u5f53\u4e0a\u6e38\u4e1a\u52a1\u8868\u8fdb\u884c Schema Change \u64cd\u4f5c\u65f6\uff0c\u5fc5\u987b\u5148\u624b\u52a8\u4fee\u6539 Doris \u4e2d\u7684 Schema \u548c Flink \u4efb\u52a1\u4e2d\u7684 Schema\uff0c\u6700\u540e\u518d\u91cd\u542f\u4efb\u52a1\uff0c\u65b0\u7684 Schema \u7684\u6570\u636e\u624d\u53ef\u4ee5\u540c\u6b65\u8fc7\u6765\u3002\u8fd9\u6837\u4f7f\u7528\u65b9\u5f0f\u9700\u8981\u4eba\u4e3a\u7684\u4ecb\u5165\uff0c\u4f1a\u7ed9\u7528\u6237\u5e26\u6765\u6781\u5927\u7684\u8fd0\u7ef4\u8d1f\u62c5\u3002**\u540e\u7eed\u4f1a\u9488\u5bf9 CDC \u573a\u666f\u505a\u5230\u652f\u6301 Schema \u5b9e\u65f6\u53d8\u66f4\uff0c\u4e0a\u6e38\u7684 Schema Change \u5b9e\u65f6\u540c\u6b65\u5230\u4e0b\u6e38\uff0c\u5168\u9762\u63d0\u5347 Schema Change \u7684\u6548\u7387\u3002**\\n\\n**Doris \u591a\u8868\u5199\u5165**\\n\\n\u76ee\u524d Doris Sink \u7b97\u5b50\u4ec5\u652f\u6301\u540c\u6b65\u5355\u5f20\u8868\uff0c\u6240\u4ee5\u5bf9\u4e8e\u6574\u5e93\u540c\u6b65\u7684\u64cd\u4f5c\uff0c\u9700\u8981\u624b\u52a8\u5728 Flink \u5c42\u9762\u8fdb\u884c\u5206\u6d41\uff0c\u5199\u5230\u591a\u4e2a Doris Sink \u4e2d\uff0c\u8fd9\u65e0\u7591\u589e\u52a0\u4e86\u5f00\u53d1\u8005\u7684\u96be\u5ea6\uff0c**\u5728\u540e\u7eed\u7248\u672c\u4e2d\u6211\u4eec\u4e5f\u5c06\u652f\u6301\u5355\u4e2a Doris Sink \u540c\u6b65\u591a\u5f20\u8868\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u7684\u7b80\u5316\u4e86\u7528\u6237\u7684\u64cd\u4f5c\u3002**\\n\\n**\u81ea\u9002\u5e94\u7684 Compaction \u53c2\u6570\u8c03\u4f18**\\n\\n\u76ee\u524d Compaction \u7b56\u7565\u53c2\u6570\u8f83\u591a\uff0c\u5728\u5927\u90e8\u5206\u901a\u7528\u573a\u666f\u80fd\u53d1\u6325\u8f83\u597d\u7684\u6548\u679c\uff0c\u4f46\u662f\u5728\u4e00\u4e9b\u7279\u6b8a\u573a\u666f\u4e0b\u5e76\u4e0d\u80fd\u9ad8\u6548\u7684\u53d1\u6325\u4f5c\u7528\u3002**\u6211\u4eec\u5c06\u5728\u540e\u7eed\u7248\u672c\u4e2d\u6301\u7eed\u4f18\u5316\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u573a\u666f\uff0c\u8fdb\u884c\u81ea\u9002\u5e94\u7684 Compaction \u8c03\u4f18\uff0c\u5728\u5404\u7c7b\u573a\u666f\u4e0b\u63d0\u9ad8\u6570\u636e\u5408\u5e76\u6548\u7387\uff0c\u63d0\u5347\u5b9e\u65f6\u6027\u3002**\\n\\n**\u5355\u526f\u672c Compaction**\\n\\n\u76ee\u524d\u7684 Compaction \u7b56\u7565\u662f\u5404 BE \u5355\u72ec\u8fdb\u884c\uff0c**\u5728\u540e\u7eed\u7248\u672c\u4e2d\u6211\u4eec\u5c06\u5b9e\u73b0\u5355\u526f\u672c Compaction\uff0c\u901a\u8fc7\u514b\u9686\u5feb\u7167\u7684\u65b9\u5f0f\u5b9e\u73b0 Compaction \u4efb\u52a1\uff0c\u51cf\u5c11\u96c6\u7fa4 2/3 \u7684 Compaction \u4efb\u52a1\uff0c\u964d\u4f4e\u7cfb\u7edf\u7684\u8d1f\u8f7d\uff0c\u628a\u66f4\u591a\u7684\u7cfb\u7edf\u8d44\u6e90\u7559\u7ed9\u7528\u6237\u4fa7\u3002**"},{"id":"/release-1.1.1","metadata":{"permalink":"/zh-CN/blog/release-1.1.1","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-1.1.1.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.1 Release","description":"\x3c!--","date":"2022-07-29T00:00:00.000Z","formattedDate":"2022\u5e747\u670829\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.1 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.1 Release","date":"2022-07-29","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"Apache Doris 1.1 \u7279\u6027\u63ed\u79d8\uff1aFlink \u5b9e\u65f6\u5199\u5165\u5982\u4f55\u517c\u987e\u9ad8\u541e\u5410\u548c\u4f4e\u5ef6\u65f6","permalink":"/zh-CN/blog/Flink-realtime-write"},"nextItem":{"title":"Apache Doris \u5728\u4eac\u4e1c\u5ba2\u670d OLAP \u4e2d\u7684\u5e94\u7528\u5b9e\u8df5","permalink":"/zh-CN/blog/jd"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n## \u65b0\u589e\u529f\u80fd\\n\\n### \u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u652f\u6301 ODBC Sink\u3002\\n\\n\u5728 1.1.0 \u7248\u672c\u7684\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4e2d ODBC Sink \u662f\u4e0d\u652f\u6301\u7684\uff0c\u800c\u8fd9\u4e00\u529f\u80fd\u5728\u4e4b\u524d\u7248\u672c\u7684\u884c\u5b58\u5f15\u64ce\u662f\u652f\u6301\u7684\uff0c\u56e0\u6b64\u5728 1.1.1 \u7248\u672c\u4e2d\u6211\u4eec\u91cd\u65b0\u5b8c\u5584\u4e86\u8fd9\u4e00\u529f\u80fd\u3002\\n\\n### \u589e\u52a0\u7b80\u6613\u7248 MemTracker\\n\\nMemTracker \u662f\u4e00\u4e2a\u7528\u4e8e\u5206\u6790\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u7684\u7edf\u8ba1\u5de5\u5177\uff0c\u5728 1.1.0 \u7248\u672c\u7684\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4e2d\uff0c\u7531\u4e8e BE \u4fa7\u6ca1\u6709 MemTracker\uff0c\u53ef\u80fd\u51fa\u73b0\u56e0\u5185\u5b58\u5931\u63a7\u5bfc\u81f4\u7684 OOM \u95ee\u9898\u3002\u5728 1.1.1 \u7248\u672c\u4e2d\uff0cBE \u4fa7\u589e\u52a0\u4e86\u4e00\u4e2a\u7b80\u6613\u7248 MemTracker\uff0c\u53ef\u4ee5\u5e2e\u52a9\u63a7\u5236\u5185\u5b58\uff0c\u5e76\u5728\u5185\u5b58\u8d85\u51fa\u65f6\u53d6\u6d88\u67e5\u8be2\u3002\\n\\n\u5b8c\u6574\u7248 MemTracker \u5c06\u5728 1.1.2 \u7248\u672c\u4e2d\u6b63\u5f0f\u53d1\u5e03\u3002\\n\\n\\n## \u6539\u8fdb\\n\\n### \u652f\u6301\u5728 Page Cache \u4e2d\u7f13\u5b58\u89e3\u538b\u540e\u6570\u636e\u3002\\n\\n\u5728 Page Cache \u4e2d\u6709\u4e9b\u6570\u636e\u662f\u7528 bitshuffle \u7f16\u7801\u65b9\u5f0f\u538b\u7f29\u7684\uff0c\u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u9700\u8981\u82b1\u8d39\u5927\u91cf\u7684\u65f6\u95f4\u6765\u89e3\u538b\u3002\u5728 1.1.1 \u7248\u672c\u4e2d\uff0cDoris \u5c06\u7f13\u5b58\u89e3\u538b\u7531 bitshuffle \u7f16\u7801\u7684\u6570\u636e\u4ee5\u52a0\u901f\u67e5\u8be2\uff0c\u6211\u4eec\u53d1\u73b0\u5728 ssb-flat \u7684\u4e00\u4e9b\u67e5\u8be2\u4e2d\uff0c\u53ef\u4ee5\u51cf\u5c11 30% \u7684\u5ef6\u65f6\u3002\\n\\n## Bug \u4fee\u590d\\n\\n### \u4fee\u590d\u65e0\u6cd5\u4ece 1.0 \u7248\u672c\u8fdb\u884c\u6eda\u52a8\u5347\u7ea7\u7684\u95ee\u9898\u3002\\n\\n\u8fd9\u4e2a\u95ee\u9898\u662f\u5728 1.1.0 \u7248\u672c\u4e2d\u51fa\u73b0\u7684\uff0c\u5f53\u5347\u7ea7 BE \u800c\u4e0d\u5347\u7ea7 FE \u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 BE Core\u3002\\n\\n\u5982\u679c\u4f60\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u7528 [#10833](https://github.com/apache/doris/pull/10833) \u6765\u4fee\u590d\u5b83\u3002\\n\\n### \u4fee\u590d\u67d0\u4e9b\u67e5\u8be2\u4e0d\u80fd\u56de\u9000\u5230\u975e\u5411\u91cf\u5316\u5f15\u64ce\u7684\u95ee\u9898\uff0c\u5e76\u5bfc\u81f4 BE Core\u3002\\n\\n\u76ee\u524d\uff0c\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4e0d\u80fd\u5904\u7406\u6240\u6709\u7684 SQL \u67e5\u8be2\uff0c\u4e00\u4e9b\u67e5\u8be2\uff08\u5982 left outer join\uff09\u5c06\u4f7f\u7528\u975e\u5411\u91cf\u5316\u5f15\u64ce\u6765\u8fd0\u884c\u3002\u4f46\u90e8\u5206\u573a\u666f\u5728 1.1.0 \u7248\u672c\u4e2d\u672a\u88ab\u8986\u76d6\u5230\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4 BE \u6302\u6389\u3002\\n\\n### \u4fee\u590d Compaction \u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u5bfc\u81f4\u7684 -235 \u9519\u8bef\u3002\\n\\n\u5728 Unique Key \u6a21\u578b\u4e2d\uff0c\u5f53\u4e00\u4e2a Rowset \u6709\u591a\u4e2a Segment \u65f6\uff0c\u5728\u505a Compaction \u8fc7\u7a0b\u4e2d\u7531\u4e8e\u6ca1\u6709\u6b63\u786e\u7684\u7edf\u8ba1\u884c\u6570\uff0c\u4f1a\u5bfc\u81f4Compaction \u5931\u8d25\u5e76\u4e14\u4ea7\u751f Tablet \u7248\u672c\u8fc7\u591a\u800c\u5bfc\u81f4\u7684 -235 \u9519\u8bef\u3002\\n\\n### \u4fee\u590d\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u90e8\u5206 Segment fault\u3002\\n\\n[#10961](https://github.com/apache/doris/pull/10961) \\n[#10954](https://github.com/apache/doris/pull/10954) \\n[#10962](https://github.com/apache/doris/pull/10962)\\n\\n# \u81f4\u8c22\\n\\n\u611f\u8c22\u6240\u6709\u53c2\u4e0e\u8d21\u732e 1.1.1 \u7248\u672c\u7684\u5f00\u53d1\u8005:\\n\\n```\\n@jacktengg\\n@mrhhsg\\n@xinyiZzz\\n@yixiutt\\n@starocean999\\n@morrySnow\\n@morningman\\n@HappenLee\\n```"},{"id":"/jd","metadata":{"permalink":"/zh-CN/blog/jd","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/jd.md","title":"Apache Doris \u5728\u4eac\u4e1c\u5ba2\u670d OLAP \u4e2d\u7684\u5e94\u7528\u5b9e\u8df5","description":"\x3c!--","date":"2022-07-20T00:00:00.000Z","formattedDate":"2022\u5e747\u670820\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris \u5728\u4eac\u4e1c\u5ba2\u670d OLAP \u4e2d\u7684\u5e94\u7528\u5b9e\u8df5","summary":"\u672c\u6587\u4e3b\u8981\u8ba8\u8bba\u4eac\u4e1c\u5ba2\u670d\u5728\u4eba\u5de5\u54a8\u8be2\u3001\u5ba2\u6237\u4e8b\u4ef6\u5355\u3001\u552e\u540e\u670d\u52a1\u5355\u7b49\u4e13\u9898\u7684\u5b9e\u65f6\u5927\u5c4f\uff0c\u5728\u5b9e\u65f6\u548c\u79bb\u7ebf\u6570\u636e\u591a\u7ef4\u5206\u6790\u65b9\u9762\uff0c\u5982\u4f55\u5229\u7528 Doris \u8fdb\u884c\u4e1a\u52a1\u63a2\u7d22\u4e0e\u5b9e\u8df5\u3002\u8fd1\u4e9b\u5e74\u6765\uff0c\u968f\u7740\u6570\u636e\u91cf\u7206\u70b8\u5f0f\u7684\u589e\u957f\uff0c\u4ee5\u53ca\u6d77\u91cf\u6570\u636e\u8054\u673a\u5206\u6790\u9700\u6c42\u7684\u51fa\u73b0\uff0cMySQL\u3001Oracle \u7b49\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5728\u5927\u6570\u636e\u91cf\u4e0b\u9047\u5230\u74f6\u9888\uff0c\u800c Hive\u3001Kylin \u7b49\u6570\u636e\u5e93\u7f3a\u4e4f\u65f6\u6548\u6027\u3002\u4e8e\u662f Apache Doris\u3001Apache Druid\u3001ClickHouse \u7b49\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93\u5f00\u59cb\u51fa\u73b0\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5e94\u5bf9\u6d77\u91cf\u6570\u636e\u7684\u79d2\u7ea7\u67e5\u8be2\uff0c\u66f4\u6ee1\u8db3\u5b9e\u65f6\u3001\u51c6\u5b9e\u65f6\u7684\u5206\u6790\u9700\u6c42\u3002\u79bb\u7ebf\u3001\u5b9e\u65f6\u8ba1\u7b97\u5f15\u64ce\u767e\u82b1\u9f50\u653e\u3002\u4f46\u662f\u9488\u5bf9\u4e0d\u540c\u7684\u573a\u666f\uff0c\u9762\u4e34\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u6ca1\u6709\u54ea\u4e00\u79cd\u5f15\u64ce\u662f\u4e07\u80fd\u7684\u3002\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u672c\u6587\uff0c\u5bf9\u4eac\u4e1c\u5ba2\u670d\u4e1a\u52a1\u5728\u79bb\u7ebf\u4e0e\u5b9e\u65f6\u5206\u6790\u7684\u5e94\u7528\u4e0e\u5b9e\u8df5\uff0c\u80fd\u591f\u7ed9\u5230\u5927\u5bb6\u4e00\u4e9b\u542f\u53d1\uff0c\u4e5f\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u4ea4\u6d41\uff0c\u7ed9\u6211\u4eec\u63d0\u51fa\u5b9d\u8d35\u7684\u5efa\u8bae","date":"2022-07-20","author":"Apache Doris","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris 1.1.1 Release","permalink":"/zh-CN/blog/release-1.1.1"},"nextItem":{"title":"Apache Doris \u5728\u7f8e\u56e2\u5916\u5356\u5b9e\u65f6\u6570\u4ed3\u5efa\u8bbe\u4e2d\u7684\u5b9e\u8df5","permalink":"/zh-CN/blog/meituan"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# **\u5f15\u8a00**\\n\\nApache Doris \u662f\u4e00\u6b3e\u5f00\u6e90\u7684 MPP \u5206\u6790\u578b\u6570\u636e\u5e93\u4ea7\u54c1\uff0c\u4e0d\u4ec5\u80fd\u591f\u5728\u4e9a\u79d2\u7ea7\u54cd\u5e94\u65f6\u95f4\u5373\u53ef\u83b7\u5f97\u67e5\u8be2\u7ed3\u679c\uff0c\u6709\u6548\u7684\u652f\u6301\u5b9e\u65f6\u6570\u636e\u5206\u6790\uff0c\u800c\u4e14\u652f\u6301 10PB \u4ee5\u4e0a\u7684\u8d85\u5927\u7684\u6570\u636e\u96c6\u3002\u76f8\u8f83\u4e8e\u5176\u4ed6\u4e1a\u754c\u6bd4\u8f83\u706b\u7684 OLAP \u6570\u636e\u5e93\u7cfb\u7edf\uff0cDoris \u7684\u5206\u5e03\u5f0f\u67b6\u6784\u975e\u5e38\u7b80\u6d01\uff0c\u652f\u6301\u5f39\u6027\u4f38\u7f29\uff0c\u6613\u4e8e\u8fd0\u7ef4\uff0c\u8282\u7701\u5927\u91cf\u4eba\u529b\u548c\u65f6\u95f4\u6210\u672c\u3002\u76ee\u524d\u56fd\u5185\u793e\u533a\u706b\u70ed\uff0c\u4e5f\u6709\u7f8e\u56e2\u3001\u5c0f\u7c73\u7b49\u5927\u5382\u5728\u4f7f\u7528\u3002\\n\\n\u672c\u6587\u4e3b\u8981\u8ba8\u8bba\u4eac\u4e1c\u5ba2\u670d\u5728\u4eba\u5de5\u54a8\u8be2\u3001\u5ba2\u6237\u4e8b\u4ef6\u5355\u3001\u552e\u540e\u670d\u52a1\u5355\u7b49\u4e13\u9898\u7684\u5b9e\u65f6\u5927\u5c4f\uff0c\u5728\u5b9e\u65f6\u548c\u79bb\u7ebf\u6570\u636e\u591a\u7ef4\u5206\u6790\u65b9\u9762\uff0c\u5982\u4f55\u5229\u7528 Doris \u8fdb\u884c\u4e1a\u52a1\u63a2\u7d22\u4e0e\u5b9e\u8df5\u3002\u8fd1\u4e9b\u5e74\u6765\uff0c\u968f\u7740\u6570\u636e\u91cf\u7206\u70b8\u5f0f\u7684\u589e\u957f\uff0c\u4ee5\u53ca\u6d77\u91cf\u6570\u636e\u8054\u673a\u5206\u6790\u9700\u6c42\u7684\u51fa\u73b0\uff0cMySQL\u3001Oracle \u7b49\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5728\u5927\u6570\u636e\u91cf\u4e0b\u9047\u5230\u74f6\u9888\uff0c\u800c Hive\u3001Kylin \u7b49\u6570\u636e\u5e93\u7f3a\u4e4f\u65f6\u6548\u6027\u3002\u4e8e\u662f Apache Doris\u3001Apache Druid\u3001ClickHouse \u7b49\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93\u5f00\u59cb\u51fa\u73b0\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5e94\u5bf9\u6d77\u91cf\u6570\u636e\u7684\u79d2\u7ea7\u67e5\u8be2\uff0c\u66f4\u6ee1\u8db3\u5b9e\u65f6\u3001\u51c6\u5b9e\u65f6\u7684\u5206\u6790\u9700\u6c42\u3002\u79bb\u7ebf\u3001\u5b9e\u65f6\u8ba1\u7b97\u5f15\u64ce\u767e\u82b1\u9f50\u653e\u3002\u4f46\u662f\u9488\u5bf9\u4e0d\u540c\u7684\u573a\u666f\uff0c\u9762\u4e34\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u6ca1\u6709\u54ea\u4e00\u79cd\u5f15\u64ce\u662f\u4e07\u80fd\u7684\u3002\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u672c\u6587\uff0c\u5bf9\u4eac\u4e1c\u5ba2\u670d\u4e1a\u52a1\u5728\u79bb\u7ebf\u4e0e\u5b9e\u65f6\u5206\u6790\u7684\u5e94\u7528\u4e0e\u5b9e\u8df5\uff0c\u80fd\u591f\u7ed9\u5230\u5927\u5bb6\u4e00\u4e9b\u542f\u53d1\uff0c\u4e5f\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u4ea4\u6d41\uff0c\u7ed9\u6211\u4eec\u63d0\u51fa\u5b9d\u8d35\u7684\u5efa\u8bae\u3002\\n\\n# **\u4eac\u4e1c\u5ba2\u670d\u4e1a\u52a1\u5f62\u6001**\\n\\n\u4eac\u4e1c\u5ba2\u670d\u4f5c\u4e3a\u96c6\u56e2\u670d\u52a1\u7684\u5165\u53e3\uff0c\u4e3a\u7528\u6237\u548c\u5546\u5bb6\u63d0\u4f9b\u4e86\u9ad8\u6548\u3001\u53ef\u9760\u7684\u4fdd\u969c\u3002\u4eac\u4e1c\u5ba2\u670d\u80a9\u8d1f\u7740\u53ca\u65f6\u89e3\u51b3\u7528\u6237\u95ee\u9898\u7684\u91cd\u4efb\uff0c\u7ed9\u7528\u6237\u63d0\u4f9b\u8be6\u7ec6\u6613\u61c2\u7684\u8bf4\u660e\u4e0e\u89e3\u91ca\uff1b\u4e3a\u66f4\u597d\u7684\u4e86\u89e3\u7528\u6237\u7684\u53cd\u9988\u4ee5\u53ca\u4ea7\u54c1\u7684\u72b6\u51b5\uff0c\u9700\u8981\u5b9e\u65f6\u7684\u76d1\u63a7\u54a8\u8be2\u91cf\u3001\u63a5\u8d77\u7387\u3001\u6295\u8bc9\u91cf\u7b49\u4e00\u7cfb\u5217\u6307\u6807\uff0c\u901a\u8fc7\u73af\u6bd4\u548c\u540c\u6bd4\uff0c\u53ca\u65f6\u53d1\u73b0\u5b58\u5728\u7684\u95ee\u9898\uff0c\u4ee5\u66f4\u597d\u7684\u9002\u5e94\u7528\u6237\u7684\u8d2d\u7269\u65b9\u5f0f\uff0c\u63d0\u9ad8\u670d\u52a1\u8d28\u91cf\u4e0e\u6548\u7387\uff0c\u8fdb\u800c\u63d0\u9ad8\u4eac\u4e1c\u54c1\u724c\u7684\u5f71\u54cd\u529b\u3002\\n\\n# **Easy OLAP \u8bbe\u8ba1**\\n\\n### **01 EasyOLAP Doris \u6570\u636e\u5bfc\u5165\u94fe\u8def**\\n\\nEasyOLAP Doris \u6570\u636e\u6e90\u4e3b\u8981\u662f\u5b9e\u65f6 Kafka \u548c\u79bb\u7ebf HDFS \u6587\u4ef6\u3002\u5b9e\u65f6\u6570\u636e\u7684\u5bfc\u5165\u4f9d\u8d56\u4e8e Routine Load \u7684\u65b9\u5f0f\uff1b\u79bb\u7ebf\u6570\u636e\u4e3b\u8981\u4f7f\u7528 Broker Load \u548c Stream Load \u7684\u65b9\u5f0f\u5bfc\u5165\u3002\\n\\n![EasyOLAP Doris \u6570\u636e\u5bfc\u5165\u94fe\u8def](/images/jd03.png)\\n\\nEasyOLAP Doris \u6570\u636e\u5bfc\u5165\u94fe\u8def\\n\\n### **02 EasyOLAP Doris \u5168\u94fe\u8def\u76d1\u63a7**\\n\\n\u76ee\u524d EasyOLAP Doris \u9879\u76ee\u7684\u76d1\u63a7\uff0c\u4f7f\u7528\u7684\u662f Prometheus + Grafana \u6846\u67b6\u3002\u5176\u4e2d node_exporter \u8d1f\u8d23\u91c7\u96c6\u673a\u5668\u5c42\u9762\u7684\u6307\u6807\uff0cDoris \u4e5f\u4f1a\u81ea\u52a8\u4ee5 Prometheus \u683c\u5f0f\u5410\u51fa FE\u3001BE \u7684\u670d\u52a1\u5c42\u9762\u7684\u6307\u6807\u3002\u53e6\u5916\uff0c\u90e8\u7f72\u4e86 OLAP Exporter \u670d\u52a1\u7528\u4e8e\u91c7\u96c6 Routine Load \u76f8\u5173\u7684\u6307\u6807\uff0c\u65e8\u5728\u7b2c\u4e00\u65f6\u95f4\u53d1\u73b0\u5b9e\u65f6\u6570\u636e\u6d41\u5bfc\u5165\u7684\u60c5\u51b5\uff0c\u786e\u4fdd\u5b9e\u65f6\u6570\u636e\u7684\u65f6\u6548\u6027\u3002\\n\\n![EasyOLAP Doris monitoring link](/images/jd04.png)\\n\\nEasyOLAP Doris \u76d1\u63a7\u94fe\u8def\\n\\n![640](/images/jd01.png)\\n\\nEasyOLAP Doris \u76d1\u63a7\u9762\u677f\u5c55\u793a\\n\\n### **03 EasyOLAP Doris \u4e3b\u5907\u53cc\u6d41\u8bbe\u8ba1**\\n\\nEasyOLAP Doris \u4e3a\u4e86\u4fdd\u969c 0 \u7ea7\u4e1a\u52a1\u5728\u5927\u4fc3\u671f\u95f4\u670d\u52a1\u7684\u7a33\u5b9a\u6027\uff0c\u91c7\u53d6\u4e86\u4e3b\u5907\u96c6\u7fa4\u53cc\u5199\u7684\u65b9\u5f0f\u3002\u5f53\u5176\u4e2d\u4e00\u4e2a\u96c6\u7fa4\u51fa\u73b0\u6296\u52a8\u6216\u8005\u6570\u636e\u5b58\u5728\u5ef6\u8fdf\u7684\u60c5\u51b5\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u4e3b\u5730\u5feb\u901f\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u96c6\u7fa4\uff0c\u5c3d\u53ef\u80fd\u7684\u51cf\u5c11\u96c6\u7fa4\u6296\u52a8\u7ed9\u4e1a\u52a1\u5e26\u6765\u7684\u5f71\u54cd\u3002\\n\\n![03 EasyOLAP Doris Primary-Secondary Dual Stream Design](/images/jd02.png)\\n\\nEasyOLAP Doris \u4e3b\u5907\u53cc\u6d41\u8bbe\u8ba1\\n\\n### **04 EasyOLAP Doris \u52a8\u6001\u5206\u533a\u7ba1\u7406**\\n\\n\u4eac\u4e1c OLAP \u56e2\u961f\u5206\u6790\u9700\u6c42\u4e4b\u540e\uff0c\u5bf9 Doris \u505a\u4e86\u4e00\u5b9a\u7684\u5b9a\u5236\u5316\u5f00\u53d1\uff0c\u5176\u4e2d\u5c31\u6d89\u53ca\u5230\u52a8\u6001\u5206\u533a\u7ba1\u7406\u529f\u80fd\u3002\u5c3d\u7ba1\u793e\u533a\u7248\u672c\u5df2\u7ecf\u62e5\u6709\u52a8\u6001\u5206\u533a\u7684\u529f\u80fd\uff0c\u4f46\u662f\u8be5\u529f\u80fd\u65e0\u6cd5\u4fdd\u7559\u6307\u5b9a\u65f6\u95f4\u7684\u5206\u533a\u3002\u9488\u5bf9\u4eac\u4e1c\u96c6\u56e2\u7684\u7279\u70b9\uff0c\u6211\u4eec\u5bf9\u6307\u5b9a\u65f6\u95f4\u7684\u5386\u53f2\u6570\u636e\u8fdb\u884c\u4e86\u7559\u5b58\uff0c\u6bd4\u5982 618 \u548c 11.11 \u671f\u95f4\u7684\u6570\u636e\uff0c\u4e0d\u4f1a\u56e0\u4e3a\u52a8\u6001\u5206\u533a\u800c\u88ab\u5220\u9664\u3002\\n\\n\u52a8\u6001\u5206\u533a\u7ba1\u7406\u529f\u80fd\u80fd\u591f\u63a7\u5236\u96c6\u7fa4\u4e2d\u5b58\u50a8\u7684\u6570\u636e\u91cf\uff0c\u800c\u4e14\u65b9\u4fbf\u4e86\u4e1a\u52a1\u65b9\u7684\u4f7f\u7528\uff0c\u65e0\u9700\u624b\u52a8\u6216\u4f7f\u7528\u989d\u5916\u4ee3\u7801\u6765\u7ba1\u7406\u5206\u533a\u4fe1\u606f\u3002\\n\\n# **Doris \u7f13\u5b58\u673a\u5236**\\n\\n### **01 \u9700\u6c42\u573a\u666f**\\n\\n\u81f4\u529b\u4e8e\u4e0d\u65ad\u63d0\u5347\u7528\u6237\u4f53\u9a8c\uff0c\u4eac\u4e1c\u5ba2\u670d\u7684\u6570\u636e\u5206\u6790\u8ffd\u6c42\u6781\u81f4\u7684\u65f6\u6548\u6027\u3002\u79bb\u7ebf\u6570\u636e\u5206\u6790\u573a\u666f\u662f\u5199\u5c11\u8bfb\u591a\uff0c\u6570\u636e\u5199\u5165\u4e00\u6b21\uff0c\u591a\u6b21\u9891\u7e41\u8bfb\u53d6\uff1b\u5b9e\u65f6\u6570\u636e\u5206\u6790\u573a\u666f\uff0c\u4e00\u90e8\u5206\u6570\u636e\u662f\u4e0d\u66f4\u65b0\u7684\u5386\u53f2\u5206\u533a\uff0c\u4e00\u90e8\u5206\u6570\u636e\u662f\u5904\u4e8e\u66f4\u65b0\u7684\u5206\u533a\u3002\u5728\u5927\u90e8\u5206\u7684\u5206\u6790\u5e94\u7528\u4e2d\uff0c\u5b58\u5728\u4e0b\u8ff0\u51e0\u79cd\u573a\u666f\uff1a\\n\\n-   \u9ad8\u5e76\u53d1\u573a\u666f\uff1aDoris \u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u662f\u8fc7\u9ad8\u7684 QPS \u4f1a\u5f15\u8d77\u96c6\u7fa4\u6296\u52a8\uff0c\u4e14\u5355\u4e2a\u8282\u70b9\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684 QPS \uff1b\\n-   \u590d\u6742\u67e5\u8be2\uff1a\u4eac\u4e1c\u5ba2\u670d\u5b9e\u65f6\u8fd0\u8425\u5e73\u53f0\u76d1\u63a7\u6839\u636e\u4e1a\u52a1\u573a\u666f\u9700\u5c55\u793a\u591a\u7ef4\u590d\u6742\u6307\u6807\uff0c\u4e30\u5bcc\u6307\u6807\u5c55\u793a\u5bf9\u5e94\u591a\u79cd\u4e0d\u540c\u7684\u67e5\u8be2\uff0c\u4e14\u6570\u636e\u6e90\u6765\u81ea\u4e8e\u591a\u5f20\u8868\uff0c\u867d\u7136\u5355\u4e2a\u67e5\u8be2\u7684\u54cd\u5e94\u65f6\u95f4\u5728\u6beb\u79d2\u7ea7\u522b\uff0c\u4f46\u662f\u6574\u4f53\u7684\u54cd\u5e94\u65f6\u95f4\u53ef\u80fd\u4f1a\u5230\u79d2\u7ea7\u522b\uff1b\\n-   \u91cd\u590d\u67e5\u8be2\uff1a\u5982\u679c\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7531\u4e8e\u5ef6\u8fdf\u6216\u624b\u8bef\uff0c\u91cd\u590d\u5237\u65b0\u9875\u9762\u4f1a\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u91cd\u590d\u7684\u67e5\u8be2\uff1b\\n\\n\u9488\u5bf9\u4e0a\u8ff0\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u6709\u89e3\u51b3\u65b9\u6848\u2014\u2014\u5c06\u67e5\u8be2\u7ed3\u679c\u653e\u5165\u5230 Redis \u4e2d\uff0c\u7f13\u5b58\u4f1a\u5468\u671f\u6027\u7684\u5237\u65b0\u6216\u8005\u7531\u7528\u6237\u624b\u52a8\u5237\u65b0\uff0c\u4f46\u662f\u4e5f\u4f1a\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff1a\\n\\n-   \u6570\u636e\u4e0d\u4e00\u81f4\uff1a\u65e0\u6cd5\u7acb\u5373\u5bf9\u6570\u636e\u7684\u66f4\u65b0\u4f5c\u51fa\u54cd\u5e94\uff0c\u7528\u6237\u63a5\u6536\u5230\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u65e7\u6570\u636e\uff1b\\n-   \u547d\u4e2d\u7387\u4f4e\uff1a\u5982\u679c\u6570\u636e\u5b9e\u65f6\u6027\u5f3a\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u5219\u7f13\u5b58\u7684\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u7684\u8d1f\u8f7d\u65e0\u6cd5\u5f97\u7f13\u89e3\uff1b\\n-   \u989d\u5916\u6210\u672c\uff1a\u5f15\u5165\u5916\u90e8\u7ec4\u4ef6\uff0c\u589e\u52a0\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\u3002\\n\\n### **02 \u7f13\u5b58\u673a\u5236\u7b80\u4ecb**\\n\\n\u5728 EasyOLAP Doris \u4e2d\uff0c\u4e00\u5171\u6709\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b Cache\u3002\u6839\u636e\u9002\u7528\u573a\u666f\u7684\u4e0d\u540c\uff0c\u5206\u522b\u4e3a Result Cache\u3001SQL Cache \u548c Partition Cache \u3002\u4e09\u79cd\u7f13\u5b58\u90fd\u53ef\u4ee5\u901a\u8fc7 MySQL \u5ba2\u6237\u7aef\u6307\u4ee4\u63a7\u5236\u5f00\u5173\u3002\\n\\n\u8fd9\u4e09\u79cd\u7f13\u5b58\u673a\u5236\u662f\u53ef\u4ee5\u5171\u5b58\u7684\uff0c\u5373\u53ef\u4ee5\u540c\u65f6\u5f00\u542f\u3002\u67e5\u8be2\u65f6\uff0c\u67e5\u8be2\u5206\u6790\u5668\u9996\u5148\u4f1a\u5224\u65ad\u662f\u5426\u5f00\u542f\u4e86 Result Cache \uff0c\u5728 Result Cache \u5f00\u542f\u7684\u60c5\u51b5\u4e0b\u5148\u4ece Result Cache \u4e2d\u67e5\u627e\u8be5\u67e5\u8be2\u662f\u5426\u5b58\u5728\u7f13\u5b58\uff0c\u5982\u679c\u5b58\u5728\u7f13\u5b58\uff0c\u76f4\u63a5\u53d6\u7f13\u5b58\u7684\u503c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff1b\u5982\u679c\u7f13\u5b58\u5931\u6548\u6216\u8005\u4e0d\u5b58\u5728\uff0c\u5219\u76f4\u63a5\u8fdb\u884c\u67e5\u8be2\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u5230\u7f13\u5b58\u3002\u7f13\u5b58\u653e\u5728\u5404\u4e2a FE \u8282\u70b9\u7684\u5185\u5b58\u4e2d\uff0c\u4ee5\u4fbf\u5feb\u901f\u8bfb\u53d6\u3002\\n\\nSQL Cache \u6309\u7167 SQL \u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533a\u7684 ID \u548c\u5206\u533a\u6700\u65b0\u7248\u672c\u53f7\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u8fd9\u4e09\u8005\u4e00\u8d77\u4f5c\u4e3a\u7f13\u5b58\u7684\u6761\u4ef6\uff0c\u5176\u4e2d\u4e00\u8005\u53d1\u751f\u53d8\u5316\uff0c\u5982 SQL \u8bed\u53e5\u53d8\u5316\u3001\u6570\u636e\u66f4\u65b0\u4e4b\u540e\u5206\u533a\u7248\u672c\u53f7\u53d8\u5316\uff0c\u90fd\u4f1a\u65e0\u6cd5\u547d\u4e2d\u7f13\u5b58\u3002\u5728\u591a\u8868 Join \u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4e2d\u4e00\u5f20\u8868\u7684\u5206\u533a\u66f4\u65b0\uff0c\u4e5f\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u547d\u4e2d\u7f13\u5b58\u3002SQL Cache \u66f4\u9002\u5408 T+1 \u66f4\u65b0\u7684\u573a\u666f\u3002\\n\\nPartition Cache \u662f\u66f4\u7ec6\u7c92\u5ea6\u7684\u7f13\u5b58\u673a\u5236\u3002Partition Cache \u4e3b\u8981\u662f\u5c06\u4e00\u4e2a\u67e5\u8be2\u6839\u636e\u5206\u533a\u5e76\u884c\u62c6\u5206\uff0c\u62c6\u5206\u4e3a\u53ea\u8bfb\u5206\u533a\u548c\u53ef\u66f4\u65b0\u5206\u533a\uff0c\u53ea\u8bfb\u5206\u533a\u7f13\u5b58\uff0c\u66f4\u65b0\u5206\u533a\u4e0d\u7f13\u5b58\uff0c\u76f8\u5e94\u7684\u7ed3\u679c\u96c6\u4e5f\u4f1a\u751f\u6210 n \u4e2a\uff0c\u7136\u540e\u518d\u5c06\u5404\u4e2a\u62c6\u5206\u540e\u7684\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u5408\u5e76\u3002\u56e0\u6b64\uff0c\u5982\u679c\u67e5\u8be2 N \u5929\u7684\u6570\u636e\uff0c\u6570\u636e\u66f4\u65b0\u6700\u8fd1\u7684 D \u5929\uff0c\u6bcf\u5929\u53ea\u662f\u65e5\u671f\u8303\u56f4\u4e0d\u4e00\u6837\u4f46\u76f8\u4f3c\u7684\u67e5\u8be2\uff0c\u5c31\u53ef\u4ee5\u5229\u7528 Partition Cache \uff0c\u53ea\u9700\u8981\u67e5\u8be2 D \u4e2a\u5206\u533a\u5373\u53ef\uff0c\u5176\u4ed6\u90e8\u5206\u90fd\u6765\u81ea\u7f13\u5b58\uff0c\u53ef\u4ee5\u6709\u6548\u964d\u4f4e\u96c6\u7fa4\u8d1f\u8f7d\uff0c\u7f29\u77ed\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u3002\\n\\n\u4e00\u4e2a\u67e5\u8be2\u8fdb\u5165\u5230 Doris\uff0c\u7cfb\u7edf\u5148\u4f1a\u5904\u7406\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u5c06\u8be5\u67e5\u8be2\u8bed\u53e5\u4f5c\u4e3a Key\uff0c\u5728\u6267\u884c\u67e5\u8be2\u8bed\u53e5\u4e4b\u524d\uff0c\u67e5\u8be2\u5206\u6790\u5668\u80fd\u591f\u81ea\u52a8\u9009\u62e9\u6700\u9002\u5408\u7684\u7f13\u5b58\u673a\u5236\uff0c\u4ee5\u786e\u4fdd\u5728\u6700\u4f18\u7684\u60c5\u51b5\u4e0b\uff0c\u5229\u7528\u7f13\u5b58\u673a\u5236\u6765\u7f29\u77ed\u67e5\u8be2\u76f8\u5e94\u65f6\u95f4\u3002\u7136\u540e\u68c0\u67e5 Cache \u4e2d\u662f\u5426\u5b58\u5728\u8be5\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u5b58\u5728\u5c31\u83b7\u53d6\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff1b\u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u5219\u6b63\u5e38\u67e5\u8be2\uff0c\u5e76\u5c06\u8be5\u67e5\u8be2\u7ed3\u679c\u4ee5 Value \u7684\u5f62\u5f0f\u548c\u8be5\u67e5\u8be2\u8bed\u53e5 Key \u5b58\u50a8\u5230\u7f13\u5b58\u4e2d\u3002Result Cache \u53ef\u4ee5\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u53d1\u6325\u5176\u4f5c\u7528\uff0c\u4e5f\u53ef\u4ee5\u4fdd\u62a4\u96c6\u7fa4\u8d44\u6e90\u4e0d\u53d7\u91cd\u590d\u7684\u5927\u67e5\u8be2\u7684\u4fb5\u5360\u3002SQL Cache \u66f4\u52a0\u9002\u5408 T+1 \u7684\u573a\u666f\uff0c\u5728\u5206\u533a\u66f4\u65b0\u4e0d\u9891\u7e41\u4ee5\u53ca SQL \u8bed\u53e5\u91cd\u590d\u7684\u60c5\u51b5\u4e0b\uff0c\u6548\u679c\u5f88\u597d\u3002Partition Cache \u662f\u7c92\u5ea6\u6700\u5c0f\u7684\u7f13\u5b58\u3002\u5728\u67e5\u8be2\u8bed\u53e5\u67e5\u8be2\u4e00\u4e2a\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u65f6\uff0c\u67e5\u8be2\u8bed\u53e5\u4f1a\u88ab\u62c6\u5206\u6210\u591a\u4e2a\u5b50\u67e5\u8be2\u3002\u5728\u6570\u636e\u53ea\u5199\u4e00\u4e2a\u5206\u533a\u6216\u8005\u90e8\u5206\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u7f29\u77ed\u67e5\u8be2\u65f6\u95f4\uff0c\u8282\u7701\u96c6\u7fa4\u8d44\u6e90\u3002\\n\\n\u4e3a\u4e86\u66f4\u597d\u7684\u89c2\u5bdf\u7f13\u5b58\u7684\u6548\u679c\uff0c\u76f8\u5173\u6307\u6807\u5df2\u7ecf\u52a0\u5165\u5230 Doris \u7684\u670d\u52a1\u6307\u6807\u4e2d\uff0c\u901a\u8fc7 Prometheus \u548c Grafana \u76d1\u63a7\u7cfb\u7edf\u83b7\u53d6\u76f4\u89c2\u7684\u76d1\u63a7\u6570\u636e\u3002\u6307\u6807\u6709\u4e0d\u540c\u79cd\u7c7b\u7684 Cache \u7684\u547d\u4e2d\u6570\u91cf\u3001\u4e0d\u540c\u79cd\u7c7b\u7684 Cache \u547d\u4e2d\u7387\u3001 Cache \u7684\u5185\u5b58\u5927\u5c0f\u7b49\u6307\u6807\u3002\\n\\n### **03 \u7f13\u5b58\u673a\u5236\u6548\u679c**\\n\\n\u4eac\u4e1c\u5ba2\u670d Doris \u4e3b\u96c6\u7fa4\uff0c11.11 \u671f\u95f4\u5728\u6ca1\u6709\u5f00\u542f\u7f13\u5b58\u65f6\uff0c\u90e8\u5206\u4e1a\u52a1\u5c31\u5bfc\u81f4 CPU \u7684\u4f7f\u7528\u7387\u8fbe\u5230 100% \uff1b\u5728\u5f00\u542f Result Cache \u7684\u60c5\u51b5\u4e0b\uff0cCPU \u4f7f\u7528\u7387\u5728 30%-40% \u4e4b\u95f4\u3002\u7f13\u5b58\u673a\u5236\u786e\u4fdd\u4e1a\u52a1\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u80fd\u591f\u5feb\u901f\u7684\u5f97\u5230\u67e5\u8be2\u7ed3\u679c\uff0c\u5e76\u5f88\u597d\u7684\u4fdd\u62a4\u4e86\u96c6\u7fa4\u8d44\u6e90\u3002\\n\\n# **Doris \u5728 2020 \u5e74 11.11 \u5927\u4fc3\u671f\u95f4\u7684\u4f18\u5316**\\n\\n### **01 \u5bfc\u5165\u4efb\u52a1\u4f18\u5316**\\n\\n\u5b9e\u65f6\u6570\u636e\u7684\u5bfc\u5165\u4e00\u76f4\u662f\u4e00\u4e2a\u6311\u6218\u3002\u5176\u4e2d\uff0c\u4fdd\u8bc1\u6570\u636e\u5b9e\u65f6\u6027\u548c\u5bfc\u5165\u7a33\u5b9a\u6027\u662f\u6700\u91cd\u8981\u7684\u3002\u4e3a\u4e86\u80fd\u591f\u66f4\u52a0\u76f4\u89c2\u7684\u89c2\u5bdf\u5b9e\u65f6\u6570\u636e\u5bfc\u5165\u7684\u60c5\u51b5\uff0c\u4eac\u4e1c OLAP \u56e2\u961f\u81ea\u4e3b\u5f00\u53d1\u4e86 OLAP Exporter \uff0c\u7528\u4e8e\u91c7\u96c6\u5b9e\u65f6\u6570\u636e\u5bfc\u5165\u76f8\u5173\u7684\u6307\u6807\uff0c\u5982\u5bfc\u5165\u901f\u5ea6\u3001\u5bfc\u5165\u79ef\u538b\u548c\u6682\u505c\u7684\u4efb\u52a1\u7b49\u3002\u901a\u8fc7\u5bfc\u5165\u901f\u5ea6\u548c\u5bfc\u5165\u79ef\u538b\uff0c\u53ef\u4ee5\u5224\u65ad\u4e00\u4e2a\u5b9e\u65f6\u5bfc\u5165\u4efb\u52a1\u7684\u72b6\u6001\uff0c\u5982\u53d1\u73b0\u4efb\u52a1\u6709\u79ef\u538b\u7684\u8d8b\u52bf\uff0c\u53ef\u4ee5\u4f7f\u7528\u81ea\u4e3b\u5f00\u53d1\u7684\u91c7\u6837\u5de5\u5177\uff0c\u5bf9\u5b9e\u65f6\u4efb\u52a1\u8fdb\u884c\u91c7\u6837\u5206\u6790\u3002\u5b9e\u65f6\u4efb\u52a1\u4e3b\u8981\u6709\u4e09\u4e2a\u9608\u503c\u6765\u63a7\u5236\u4efb\u52a1\u7684\u63d0\u4ea4\uff0c\u5206\u522b\u662f\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u65f6\u95f4\u95f4\u9694\u3001\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u6761\u6570\u548c\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u6570\u636e\u91cf\uff0c\u4e00\u4e2a\u4efb\u52a1\u53ea\u8981\u8fbe\u5230\u5176\u4e2d\u4e00\u4e2a\u9608\u503c\uff0c\u8be5\u4efb\u52a1\u5c31\u4f1a\u88ab\u63d0\u4ea4\u3002\u901a\u8fc7\u589e\u52a0\u65e5\u5fd7\uff0c\u53d1\u73b0 FE \u4e2d\u7684\u4efb\u52a1\u961f\u5217\u6bd4\u8f83\u7e41\u5fd9\uff0c\u6240\u4ee5\uff0c\u53c2\u6570\u7684\u8c03\u6574\u4e3b\u8981\u90fd\u662f\u5c06\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u6761\u6570\u548c\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u6570\u636e\u91cf\u8c03\u5927\uff0c\u7136\u540e\u6839\u636e\u4e1a\u52a1\u7684\u9700\u6c42\uff0c\u8c03\u6574\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u65f6\u95f4\u95f4\u9694\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u5ef6\u8fdf\u5728\u6bcf\u6279\u6b21\u6700\u5927\u5904\u7406\u65f6\u95f4\u95f4\u9694\u7684\u4e24\u500d\u4e4b\u5185\u3002\u901a\u8fc7\u91c7\u6837\u5de5\u5177\uff0c\u5206\u6790\u4efb\u52a1\uff0c\u4e0d\u4ec5\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u5b9e\u65f6\u6027\uff0c\u4e5f\u4fdd\u8bc1\u4e86\u5bfc\u5165\u7684\u7a33\u5b9a\u6027\u3002\u53e6\u5916\uff0c\u6211\u4eec\u4e5f\u8bbe\u7f6e\u4e86\u544a\u8b66\uff0c\u53ef\u4ee5\u53ca\u65f6\u53d1\u73b0\u5b9e\u65f6\u5bfc\u5165\u4efb\u52a1\u7684\u79ef\u538b\u4ee5\u53ca\u5bfc\u5165\u4efb\u52a1\u7684\u6682\u505c\u7b49\u5f02\u5e38\u60c5\u51b5\u3002\\n\\n### **02 \u76d1\u63a7\u6307\u6807\u4f18\u5316**\\n\\n\u76d1\u63a7\u6307\u6807\u4e3b\u8981\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u662f\u673a\u5668\u5c42\u9762\u6307\u6807\u90e8\u5206\uff0c\u4e00\u4e2a\u662f\u4e1a\u52a1\u5c42\u9762\u6307\u6807\u90e8\u5206\u3002\u5728\u6574\u4e2a\u76d1\u63a7\u9762\u677f\u91cc\uff0c\u8be6\u7ec6\u7684\u6307\u6807\u5e26\u6765\u4e86\u5168\u9762\u7684\u6570\u636e\u7684\u540c\u65f6\uff0c\u4e5f\u589e\u52a0\u4e86\u83b7\u53d6\u91cd\u8981\u6307\u6807\u7684\u96be\u5ea6\u3002\u6240\u4ee5\uff0c\u4e3a\u4e86\u66f4\u597d\u7684\u89c2\u5bdf\u6240\u6709\u96c6\u7fa4\u7684\u91cd\u8981\u6307\u6807\uff0c\u5355\u72ec\u8bbe\u7acb\u4e00\u4e2a\u677f\u5757\u2014\u2014 11.11 \u91cd\u8981\u6307\u6807\u6c47\u603b\u677f\u5757\u3002\u677f\u5757\u4e2d\u6709 BE CPU \u4f7f\u7528\u7387\u3001\u5b9e\u65f6\u4efb\u52a1\u6d88\u8d39\u79ef\u538b\u884c\u6570\u3001TP99\u3001QPS \u7b49\u6307\u6807\u3002\u6307\u6807\u6570\u91cf\u4e0d\u591a\uff0c\u4f46\u662f\u53ef\u4ee5\u89c2\u6d4b\u5230\u6240\u6709\u96c6\u7fa4\u7684\u60c5\u51b5\uff0c\u8fd9\u6837\u53ef\u4ee5\u514d\u53bb\u5728\u76d1\u63a7\u4e2d\u9891\u7e41\u5207\u6362\u7684\u9ebb\u70e6\u3002\\n\\n### **03 \u5468\u8fb9\u5de5\u5177\u652f\u6301**\\n\\n\u9664\u4e86\u4e0a\u8ff0\u8bf4\u5230\u7684\u91c7\u6837\u5de5\u5177\u548c OLAP Exporter \uff0c\u4eac\u4e1c OLAP \u56e2\u961f\u8fd8\u5f00\u53d1\u4e86\u4e00\u7cfb\u5217\u7684 Doris \u7ef4\u62a4\u5de5\u5177\u3002\\n\\n1. \u5bfc\u5165\u91c7\u6837\u5de5\u5177\uff1a\u5bfc\u5165\u91c7\u6837\u5de5\u5177\u4e0d\u4ec5\u53ef\u4ee5\u91c7\u96c6\u5b9e\u65f6\u5bfc\u5165\u7684\u6570\u636e\uff0c\u800c\u4e14\u8fd8\u652f\u6301\u8c03\u6574\u5b9e\u65f6\u5bfc\u5165\u4efb\u52a1\u7684\u53c2\u6570\uff0c\u6216\u8005\u5728\u5b9e\u65f6\u5bfc\u5165\u4efb\u52a1\u6682\u505c\u72b6\u6001\u4e0b\uff0c\u751f\u6210\u521b\u5efa\u8bed\u53e5\uff08\u5305\u62ec\u6700\u65b0\u7684\u4f4d\u70b9\u7b49\u4fe1\u606f\uff09\u7528\u4e8e\u4efb\u52a1\u7684\u8fc1\u79fb\u7b49\u64cd\u4f5c\u3002\\n\\n2. \u5927\u67e5\u8be2\u5de5\u5177\uff1a\u5927\u67e5\u8be2\u4e0d\u4ec5\u4f1a\u9020\u6210\u96c6\u7fa4 BE CPU \u4f7f\u7528\u7387\u7684\u6296\u52a8\uff0c\u8fd8\u4f1a\u5bfc\u81f4\u5176\u4ed6\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u53d8\u957f\u3002\u5728\u6709\u5927\u67e5\u8be2\u5de5\u5177\u4e4b\u524d\uff0c\u53d1\u73b0\u96c6\u7fa4 CPU \u51fa\u73b0\u6296\u52a8\uff0c\u9700\u8981\u53bb\u68c0\u67e5\u6240\u6709 FE \u4e0a\u7684\u5ba1\u8ba1\u65e5\u5fd7\uff0c\u7136\u540e\u518d\u505a\u7edf\u8ba1\uff0c\u4e0d\u4ec5\u6d6a\u8d39\u65f6\u95f4\uff0c\u800c\u4e14\u4e0d\u591f\u76f4\u89c2\u3002\u5927\u67e5\u8be2\u5de5\u5177\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u7684\u95ee\u9898\u3002\u5f53\u76d1\u63a7\u4fa7\u53d1\u73b0\u96c6\u7fa4\u6709\u6296\u52a8\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u5927\u67e5\u8be2\u5de5\u5177\uff0c\u8f93\u5165\u96c6\u7fa4\u540d\u548c\u65f6\u95f4\u70b9\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5\u65f6\u95f4\u70b9\u4e0b\uff0c\u4e0d\u540c\u4e1a\u52a1\u7684\u67e5\u8be2\u603b\u6570\uff0c\u65f6\u95f4\u8d85\u8fc7 5 \u79d2\u3001 10 \u79d2\u3001 20 \u79d2\u7684\u67e5\u8be2\u4e2a\u6570\uff0c\u626b\u63cf\u91cf\u5de8\u5927\u7684\u67e5\u8be2\u4e2a\u6570\u7b49\uff0c\u65b9\u4fbf\u6211\u4eec\u4ece\u4e0d\u540c\u7684\u7ef4\u5ea6\u5206\u6790\u5927\u67e5\u8be2\u3002\u5927\u67e5\u8be2\u7684\u8be6\u7ec6\u60c5\u51b5\u4e5f\u5c06\u88ab\u4fdd\u5b58\u5728\u4e2d\u95f4\u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u4e0d\u540c\u4e1a\u52a1\u7684\u5927\u67e5\u8be2\u3002\u6574\u4e2a\u8fc7\u7a0b\u53ea\u9700\u8981\u51e0\u5341\u79d2\u5230\u4e00\u5206\u949f\u5c31\u53ef\u4ee5\u5b9a\u4f4d\u5230\u6b63\u5728\u53d1\u751f\u7684\u5927\u67e5\u8be2\u5e76\u83b7\u53d6\u76f8\u5e94\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u5927\u5927\u8282\u7ea6\u4e86\u65f6\u95f4\u548c\u8fd0\u7ef4\u6210\u672c\u3002\\n\\n3. \u964d\u7ea7\u4e0e\u6062\u590d\u5de5\u5177\uff1a\u4e3a\u4e86\u786e\u4fdd 11.11 \u5927\u4fc3\u671f\u95f4\uff0c 0 \u7ea7\u4e1a\u52a1\u7684\u7a33\u5b9a\u6027\uff0c\u5728\u96c6\u7fa4\u538b\u529b\u8d85\u8fc7\u5b89\u5168\u4f4d\u7684\u65f6\u5019\uff0c\u9700\u8981\u5bf9\u5176\u4ed6\u975e 0 \u7ea7\u4e1a\u52a1\u505a\u964d\u7ea7\u5904\u7406\uff0c\u5f85\u5ea6\u8fc7\u9ad8\u5cf0\u671f\u540e\uff0c\u518d\u4e00\u952e\u6062\u590d\u5230\u964d\u7ea7\u524d\u7684\u8bbe\u7f6e\u3002\u964d\u7ea7\u4e3b\u8981\u662f\u964d\u4f4e\u4e1a\u52a1\u7684\u6700\u5927\u8fde\u63a5\u6570\u3001\u6682\u505c\u975e 0 \u7ea7\u7684\u5b9e\u65f6\u5bfc\u5165\u4efb\u52a1\u7b49\u3002\u8fd9\u5927\u5927\u589e\u52a0\u4e86\u64cd\u4f5c\u7684\u4fbf\u6377\u6027\uff0c\u63d0\u9ad8\u4e86\u6548\u7387\u3002\\n\\n4. \u96c6\u7fa4\u5de1\u68c0\u5de5\u5177\uff1a\u5728 11.11 \u671f\u95f4\uff0c\u96c6\u7fa4\u7684\u5065\u5eb7\u5de1\u68c0\u662f\u6781\u5176\u91cd\u8981\u7684\u3002\u5e38\u89c4\u5de1\u68c0\u5305\u62ec\u53cc\u6d41\u4e1a\u52a1\u7684\u4e3b\u5907\u96c6\u7fa4\u4e00\u81f4\u6027\u68c0\u67e5\uff0c\u4e3a\u4e86\u786e\u4fdd\u4e1a\u52a1\u5728\u4e00\u4e2a\u96c6\u7fa4\u51fa\u73b0\u95ee\u9898\u7684\u65f6\u5019\u53ef\u4ee5\u5feb\u901f\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u96c6\u7fa4\uff0c\u5c31\u9700\u8981\u4fdd\u8bc1\u4e24\u4e2a\u96c6\u7fa4\u4e0a\u7684\u5e93\u8868\u4e00\u81f4\u3001\u6570\u636e\u91cf\u5dee\u5f02\u4e0d\u5927\u7b49\uff1b\u68c0\u67e5\u5e93\u8868\u7684\u526f\u672c\u6570\u662f\u5426\u4e3a 3 \u4e14\u68c0\u67e5\u96c6\u7fa4\u662f\u5426\u5b58\u5728\u4e0d\u5065\u5eb7\u7684 Tablet \uff1b\u68c0\u67e5\u673a\u5668\u78c1\u76d8\u4f7f\u7528\u7387\u3001\u5185\u5b58\u7b49\u673a\u5668\u5c42\u9762\u7684\u6307\u6807\u7b49\u3002\\n\\n# **\u603b\u7ed3\u4e0e\u5c55\u671b**\\n\\n\u4eac\u4e1c\u5ba2\u670d\u662f\u5728 2020 \u5e74\u5e74\u521d\u5f00\u59cb\u5f15\u5165 Doris \u7684\uff0c\u76ee\u524d\u62e5\u6709\u4e00\u4e2a\u72ec\u7acb\u96c6\u7fa4\uff0c\u4e00\u4e2a\u5171\u4eab\u96c6\u7fa4\uff0c\u662f\u4eac\u4e1c OLAP \u7684\u8d44\u6df1\u7528\u6237\u3002\\n\\n\u5728\u4e1a\u52a1\u4f7f\u7528\u4e2d\u4e5f\u9047\u5230\u4e86\u4f8b\u5982\u4efb\u52a1\u8c03\u5ea6\u76f8\u5173\u7684\u3001\u5bfc\u5165\u4efb\u52a1\u914d\u7f6e\u76f8\u5173\u7684\u548c\u67e5\u8be2\u76f8\u5173\u7b49\u95ee\u9898\uff0c\u8fd9\u4e5f\u5728\u63a8\u52a8\u4eac\u4e1c OLAP \u56e2\u961f\u66f4\u6df1\u5165\u7684\u4e86\u89e3 Doris \u3002\u6211\u4eec\u8ba1\u5212\u63a8\u5e7f\u4f7f\u7528\u7269\u5316\u89c6\u56fe\u6765\u8fdb\u4e00\u6b65\u63d0\u5347\u67e5\u8be2\u7684\u6548\u7387\uff1b\u4f7f\u7528 Bitmap \u6765\u652f\u6301 UV \u7b49\u6307\u6807\u7684\u7cbe\u786e\u53bb\u91cd\u64cd\u4f5c\uff1b\u4f7f\u7528\u5ba1\u8ba1\u65e5\u5fd7\uff0c\u66f4\u65b9\u4fbf\u7684\u7edf\u8ba1\u5927\u67e5\u8be2\u3001\u6162\u67e5\u8be2\uff1b\u89e3\u51b3\u5b9e\u65f6\u5bfc\u5165\u4efb\u52a1\u7684\u8c03\u5ea6\u95ee\u9898\uff0c\u4f7f\u5bfc\u5165\u4efb\u52a1\u66f4\u52a0\u9ad8\u6548\u7a33\u5b9a\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u4e5f\u8ba1\u5212\u4f18\u5316\u5efa\u8868\u3001\u521b\u5efa\u4f18\u8d28 Rollup \u6216\u7269\u5316\u89c6\u56fe\u4ee5\u63d0\u5347\u5e94\u7528\u7684\u6d41\u7545\u6027\uff0c\u52a0\u901f\u66f4\u591a\u4e1a\u52a1\u5411 OLAP \u5e73\u53f0\u9760\u62e2\uff0c\u4ee5\u63d0\u5347\u5e94\u7528\u7684\u5f71\u54cd\u529b\u3002"},{"id":"/meituan","metadata":{"permalink":"/zh-CN/blog/meituan","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/meituan.md","title":"Apache Doris \u5728\u7f8e\u56e2\u5916\u5356\u5b9e\u65f6\u6570\u4ed3\u5efa\u8bbe\u4e2d\u7684\u5b9e\u8df5","description":"\x3c!--","date":"2022-07-20T00:00:00.000Z","formattedDate":"2022\u5e747\u670820\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris \u5728\u7f8e\u56e2\u5916\u5356\u5b9e\u65f6\u6570\u4ed3\u5efa\u8bbe\u4e2d\u7684\u5b9e\u8df5","summary":"\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e00\u79cd\u901a\u7528\u7684\u5b9e\u65f6\u6570\u4ed3\u6784\u5efa\u7684\u65b9\u6cd5\u4e0e\u5b9e\u8df5\u3002\u5b9e\u65f6\u6570\u4ed3\u4ee5\u7aef\u5230\u7aef\u4f4e\u5ef6\u8fdf\u3001SQL\u6807\u51c6\u5316\u3001\u5feb\u901f\u54cd\u5e94\u53d8\u5316\u3001\u6570\u636e\u7edf\u4e00\u4e3a\u76ee\u6807\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u603b\u7ed3\u7684\u6700\u4f73\u5b9e\u8df5\u662f\uff1a\u4e00\u4e2a\u901a\u7528\u7684\u5b9e\u65f6\u751f\u4ea7\u5e73\u53f0 + \u4e00\u4e2a\u901a\u7528\u4ea4\u4e92\u5f0f\u5b9e\u65f6\u5206\u6790\u5f15\u64ce\u76f8\u4e92\u914d\u5408\u540c\u65f6\u6ee1\u8db3\u5b9e\u65f6\u548c\u51c6\u5b9e\u65f6\u4e1a\u52a1\u573a\u666f\u3002\u4e24\u8005\u5408\u7406\u5206\u5de5\uff0c\u4e92\u76f8\u8865\u5145\uff0c\u5f62\u6210\u6613\u4e8e\u5f00\u53d1\u3001\u6613\u4e8e\u7ef4\u62a4\u3001\u6548\u7387\u6700\u9ad8\u7684\u6d41\u6c34\u7ebf\uff0c\u517c\u987e\u5f00\u53d1\u6548\u7387\u4e0e\u751f\u4ea7\u6210\u672c\uff0c\u4ee5\u8f83\u597d\u7684\u6295\u5165\u4ea7\u51fa\u6bd4\u6ee1\u8db3\u4e1a\u52a1\u591a\u6837\u9700\u6c42.","date":"2022-07-20","author":"Apache Doris","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"Apache Doris \u5728\u4eac\u4e1c\u5ba2\u670d OLAP \u4e2d\u7684\u5e94\u7528\u5b9e\u8df5","permalink":"/zh-CN/blog/jd"},"nextItem":{"title":"\u6253\u9020\u81ea\u52a9\u5bf9\u8bdd\u5f0f\u6570\u636e\u5206\u6790\u573a\u666f\uff0cApache Doris \u5728\u601d\u5fc5\u9a70\u7684\u5e94\u7528\u5b9e\u8df5\uff5c\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/scenario"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n**\u5bfc\u8bfb\uff1a**\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e00\u79cd\u901a\u7528\u7684\u5b9e\u65f6\u6570\u4ed3\u6784\u5efa\u7684\u65b9\u6cd5\u4e0e\u5b9e\u8df5\u3002\u5b9e\u65f6\u6570\u4ed3\u4ee5\u7aef\u5230\u7aef\u4f4e\u5ef6\u8fdf\u3001SQL \u6807\u51c6\u5316\u3001\u5feb\u901f\u54cd\u5e94\u53d8\u5316\u3001\u6570\u636e\u7edf\u4e00\u4e3a\u76ee\u6807\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u603b\u7ed3\u7684\u6700\u4f73\u5b9e\u8df5\u662f\uff1a\u4e00\u4e2a\u901a\u7528\u7684\u5b9e\u65f6\u751f\u4ea7\u5e73\u53f0 + \u4e00\u4e2a\u901a\u7528\u4ea4\u4e92\u5f0f\u5b9e\u65f6\u5206\u6790\u5f15\u64ce\u76f8\u4e92\u914d\u5408\u540c\u65f6\u6ee1\u8db3\u5b9e\u65f6\u548c\u51c6\u5b9e\u65f6\u4e1a\u52a1\u573a\u666f\u3002\u4e24\u8005\u5408\u7406\u5206\u5de5\uff0c\u4e92\u76f8\u8865\u5145\uff0c\u5f62\u6210\u6613\u4e8e\u5f00\u53d1\u3001\u6613\u4e8e\u7ef4\u62a4\u3001\u6548\u7387\u6700\u9ad8\u7684\u6d41\u6c34\u7ebf\uff0c\u517c\u987e\u5f00\u53d1\u6548\u7387\u4e0e\u751f\u4ea7\u6210\u672c\uff0c\u4ee5\u8f83\u597d\u7684\u6295\u5165\u4ea7\u51fa\u6bd4\u6ee1\u8db3\u4e1a\u52a1\u591a\u6837\u9700\u6c42\u3002\\n\\n# **\u5b9e\u65f6\u573a\u666f**\\n\\n\u5b9e\u65f6\u6570\u636e\u5728\u7f8e\u56e2\u5916\u5356\u7684\u573a\u666f\u662f\u975e\u5e38\u591a\u7684\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u70b9\uff1a\\n\\n-   \u8fd0\u8425\u5c42\u9762\uff1a\u6bd4\u5982\u5b9e\u65f6\u4e1a\u52a1\u53d8\u5316\uff0c\u5b9e\u65f6\u8425\u9500\u6548\u679c\uff0c\u5f53\u65e5\u8425\u4e1a\u60c5\u51b5\u4ee5\u53ca\u5f53\u65e5\u5b9e\u65f6\u4e1a\u52a1\u8d8b\u52bf\u5206\u6790\u7b49\u3002\\n\\n-   \u751f\u4ea7\u5c42\u9762\uff1a\u6bd4\u5982\u5b9e\u65f6\u7cfb\u7edf\u662f\u5426\u53ef\u9760\uff0c\u7cfb\u7edf\u662f\u5426\u7a33\u5b9a\uff0c\u5b9e\u65f6\u76d1\u63a7\u7cfb\u7edf\u7684\u5065\u5eb7\u72b6\u51b5\u7b49\u3002\\n\\n-   C \u7aef\u7528\u6237\uff1a\u6bd4\u5982\u641c\u7d22\u63a8\u8350\u6392\u5e8f\uff0c\u9700\u8981\u5b9e\u65f6\u4e86\u89e3\u7528\u6237\u7684\u60f3\u6cd5\uff0c\u884c\u4e3a\u3001\u7279\u70b9\uff0c\u7ed9\u7528\u6237\u63a8\u8350\u66f4\u52a0\u5173\u6ce8\u7684\u5185\u5bb9\u3002\\n\\n-   \u98ce\u63a7\u4fa7\uff1a\u5728\u5916\u5356\u4ee5\u53ca\u91d1\u878d\u79d1\u6280\u7528\u7684\u662f\u975e\u5e38\u591a\u7684\uff0c\u5b9e\u65f6\u98ce\u9669\u8bc6\u522b\uff0c\u53cd\u6b3a\u8bc8\uff0c\u5f02\u5e38\u4ea4\u6613\u7b49\uff0c\u90fd\u662f\u5927\u91cf\u5e94\u7528\u5b9e\u65f6\u6570\u636e\u7684\u573a\u666f\\n\\n# **\u5b9e\u65f6\u6280\u672f\u53ca\u67b6\u6784**\\n\\n### **1.\u5b9e\u65f6\u8ba1\u7b97\u6280\u672f\u9009\u578b**\\n\\n\u76ee\u524d\u5f00\u6e90\u7684\u5b9e\u65f6\u6280\u672f\u6bd4\u8f83\u591a\uff0c\u6bd4\u8f83\u901a\u7528\u7684\u662f Storm\u3001Spark Streaming \u4ee5\u53ca Flink\uff0c\u5177\u4f53\u8981\u6839\u636e\u4e0d\u540c\u516c\u53f8\u7684\u4e1a\u52a1\u60c5\u51b5\u8fdb\u884c\u9009\u578b\u3002\\n\\n\u7f8e\u56e2\u5916\u5356\u662f\u4f9d\u6258\u7f8e\u56e2\u6574\u4f53\u7684\u57fa\u7840\u6570\u636e\u4f53\u7cfb\u5efa\u8bbe\uff0c\u4ece\u6280\u672f\u6210\u719f\u5ea6\u6765\u8bb2\uff0c\u524d\u51e0\u5e74\u7528\u7684\u662f Storm\uff0cStorm \u5f53\u65f6\u5728\u6027\u80fd\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u4ee5\u53ca\u6269\u5c55\u6027\u4e0a\u662f\u65e0\u53ef\u66ff\u4ee3\u7684\uff0c\u968f\u7740 Flink \u8d8a\u6765\u8d8a\u6210\u719f\uff0c\u4ece\u6280\u672f\u6027\u80fd\u4e0a\u4ee5\u53ca\u6846\u67b6\u8bbe\u8ba1\u4f18\u52bf\u4e0a\u5df2\u7ecf\u8d85\u8d8a Storm\uff0c\u4ece\u8d8b\u52bf\u6765\u8bb2\u5c31\u50cf Spark \u66ff\u4ee3 MR \u4e00\u6837\uff0cStorm \u4e5f\u4f1a\u6162\u6162\u88ab Flink \u66ff\u4ee3\uff0c\u5f53\u7136\u4ece Storm \u8fc1\u79fb\u5230 Flink \u4f1a\u6709\u4e00\u4e2a\u8fc7\u7a0b\uff0c\u6211\u4eec\u76ee\u524d\u6709\u4e00\u4e9b\u8001\u7684\u4efb\u52a1\u4ecd\u7136\u5728 Storm \u4e0a\uff0c\u4e5f\u5728\u4e0d\u65ad\u63a8\u8fdb\u4efb\u52a1\u8fc1\u79fb\u3002\\n\\n\u5177\u4f53 Storm \u548c Flink \u7684\u5bf9\u6bd4\u53ef\u4ee5\u53c2\u8003\u4e0a\u56fe\u8868\u683c\u3002\\n\\n### 2.**\u5b9e\u65f6\u67b6\u6784**\\n\\n**\u2460 Lambda \u67b6\u6784**\\n\\nLambda \u67b6\u6784\u662f\u6bd4\u8f83\u7ecf\u5178\u7684\u67b6\u6784\uff0c\u4ee5\u524d\u5b9e\u65f6\u7684\u573a\u666f\u4e0d\u662f\u5f88\u591a\uff0c\u4ee5\u79bb\u7ebf\u4e3a\u4e3b\uff0c\u5f53\u9644\u52a0\u4e86\u5b9e\u65f6\u573a\u666f\u540e\uff0c\u7531\u4e8e\u79bb\u7ebf\u548c\u5b9e\u65f6\u7684\u65f6\u6548\u6027\u4e0d\u540c\uff0c\u5bfc\u81f4\u6280\u672f\u751f\u6001\u662f\u4e0d\u4e00\u6837\u7684\u3002Lambda \u67b6\u6784\u76f8\u5f53\u4e8e\u9644\u52a0\u4e86\u4e00\u6761\u5b9e\u65f6\u751f\u4ea7\u94fe\u8def\uff0c\u5728\u5e94\u7528\u5c42\u9762\u8fdb\u884c\u4e00\u4e2a\u6574\u5408\uff0c\u53cc\u8def\u751f\u4ea7\uff0c\u5404\u81ea\u72ec\u7acb\u3002\u8fd9\u5728\u4e1a\u52a1\u5e94\u7528\u4e2d\u4e5f\u662f\u987a\u7406\u6210\u7ae0\u91c7\u7528\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\\n\\n\u53cc\u8def\u751f\u4ea7\u4f1a\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u6bd4\u5982\u52a0\u5de5\u903b\u8f91 double\uff0c\u5f00\u53d1\u8fd0\u7ef4\u4e5f\u4f1a double\uff0c\u8d44\u6e90\u540c\u6837\u4f1a\u53d8\u6210\u4e24\u4e2a\u8d44\u6e90\u94fe\u8def\u3002\u56e0\u4e3a\u5b58\u5728\u4ee5\u4e0a\u95ee\u9898\uff0c\u6240\u4ee5\u53c8\u6f14\u8fdb\u4e86\u4e00\u4e2a Kappa \u67b6\u6784\u3002\\n\\n**\u2461 Kappa \u67b6\u6784**\\n\\nKappa \u67b6\u6784\u4ece\u67b6\u6784\u8bbe\u8ba1\u6765\u8bb2\u6bd4\u8f83\u7b80\u5355\uff0c\u751f\u4ea7\u7edf\u4e00\uff0c\u4e00\u5957\u903b\u8f91\u540c\u65f6\u751f\u4ea7\u79bb\u7ebf\u548c\u5b9e\u65f6\u3002\u4f46\u662f\u5728\u5b9e\u9645\u5e94\u7528\u573a\u666f\u6709\u6bd4\u8f83\u5927\u7684\u5c40\u9650\u6027\uff0c\u5728\u4e1a\u5185\u76f4\u63a5\u7528 Kappa \u67b6\u6784\u751f\u4ea7\u843d\u5730\u7684\u6848\u4f8b\u4e0d\u591a\u89c1\uff0c\u4e14\u573a\u666f\u6bd4\u8f83\u5355\u4e00\u3002\u8fd9\u4e9b\u95ee\u9898\u5728\u6211\u4eec\u8fd9\u8fb9\u540c\u6837\u4f1a\u9047\u5230\uff0c\u6211\u4eec\u4e5f\u4f1a\u6709\u81ea\u5df1\u7684\u4e00\u4e9b\u601d\u8003\uff0c\u5728\u540e\u9762\u4f1a\u8bb2\u5230\u3002\\n\\n# **\u4e1a\u52a1\u75db\u70b9**\\n\\n\u5728\u5916\u5356\u4e1a\u52a1\u4e0a\uff0c\u6211\u4eec\u4e5f\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\\n\\n\u4e1a\u52a1\u65e9\u671f\uff0c\u4e3a\u4e86\u6ee1\u8db3\u4e1a\u52a1\u9700\u8981\uff0c\u4e00\u822c\u662f\u62ff\u5230\u9700\u6c42\u540e case by case \u7684\u5148\u628a\u9700\u6c42\u5b8c\u6210\uff0c\u4e1a\u52a1\u5bf9\u4e8e\u5b9e\u65f6\u6027\u8981\u6c42\u662f\u5f88\u9ad8\u7684\uff0c\u4ece\u65f6\u6548\u6027\u6765\u8bf4\uff0c\u6ca1\u6709\u8fdb\u884c\u4e2d\u95f4\u5c42\u6c89\u6dc0\u7684\u673a\u4f1a\uff0c\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\uff0c\u4e00\u822c\u662f\u62ff\u5230\u4e1a\u52a1\u903b\u8f91\u76f4\u63a5\u5d4c\u5165\uff0c\u8fd9\u662f\u80fd\u60f3\u5230\u7684\u7b80\u5355\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u5728\u4e1a\u52a1\u53d1\u5c55\u521d\u671f\u8fd9\u79cd\u5f00\u53d1\u6a21\u5f0f\u6bd4\u8f83\u5e38\u89c1\u3002\\n\\n\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u62ff\u5230\u6570\u636e\u6e90\u540e\uff0c\u4f1a\u7ecf\u8fc7\u6570\u636e\u6e05\u6d17\uff0c\u6269\u7ef4\uff0c\u901a\u8fc7 Storm \u6216 Flink \u8fdb\u884c\u4e1a\u52a1\u903b\u8f91\u5904\u7406\uff0c\u6700\u540e\u76f4\u63a5\u8fdb\u884c\u4e1a\u52a1\u8f93\u51fa\u3002\u628a\u8fd9\u4e2a\u73af\u8282\u62c6\u5f00\u6765\u770b\uff0c\u6570\u636e\u6e90\u7aef\u4f1a\u91cd\u590d\u5f15\u7528\u76f8\u540c\u7684\u6570\u636e\u6e90\uff0c\u540e\u9762\u8fdb\u884c\u6e05\u6d17\u3001\u8fc7\u6ee4\u3001\u6269\u7ef4\u7b49\u64cd\u4f5c\uff0c\u90fd\u8981\u91cd\u590d\u505a\u4e00\u904d\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u662f\u4e1a\u52a1\u7684\u4ee3\u7801\u903b\u8f91\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5982\u679c\u4e1a\u52a1\u8f83\u5c11\uff0c\u8fd9\u79cd\u6a21\u5f0f\u8fd8\u53ef\u4ee5\u63a5\u53d7\uff0c\u4f46\u5f53\u540e\u7eed\u4e1a\u52a1\u91cf\u4e0a\u53bb\u540e\uff0c\u4f1a\u51fa\u73b0\u8c01\u5f00\u53d1\u8c01\u8fd0\u7ef4\u7684\u60c5\u51b5\uff0c\u7ef4\u62a4\u5de5\u4f5c\u91cf\u4f1a\u8d8a\u6765\u8d8a\u5927\uff0c\u4f5c\u4e1a\u65e0\u6cd5\u5f62\u6210\u7edf\u4e00\u7ba1\u7406\u3002\u800c\u4e14\u6240\u6709\u4eba\u90fd\u5728\u7533\u8bf7\u8d44\u6e90\uff0c\u5bfc\u81f4\u8d44\u6e90\u6210\u672c\u6025\u901f\u81a8\u80c0\uff0c\u8d44\u6e90\u4e0d\u80fd\u96c6\u7ea6\u6709\u6548\u5229\u7528\uff0c\u56e0\u6b64\u8981\u601d\u8003\u5982\u4f55\u4ece\u6574\u4f53\u6765\u8fdb\u884c\u5b9e\u65f6\u6570\u636e\u7684\u5efa\u8bbe\u3002\\n\\n# **\u6570\u636e\u7279\u70b9\u4e0e\u5e94\u7528\u573a\u666f**\\n\\n\u90a3\u4e48\u5982\u4f55\u6765\u6784\u5efa\u5b9e\u65f6\u6570\u4ed3\u5462\uff1f\\n\\n\u9996\u5148\u8981\u8fdb\u884c\u62c6\u89e3\uff0c\u6709\u54ea\u4e9b\u6570\u636e\uff0c\u6709\u54ea\u4e9b\u573a\u666f\uff0c\u8fd9\u4e9b\u573a\u666f\u6709\u54ea\u4e9b\u5171\u540c\u7279\u70b9\uff0c\u5bf9\u4e8e\u5916\u5356\u573a\u666f\u6765\u8bf4\u4e00\u5171\u6709\u4e24\u5927\u7c7b\uff0c\u65e5\u5fd7\u7c7b\u548c\u4e1a\u52a1\u7c7b\u3002\\n\\n-   \u65e5\u5fd7\u7c7b\uff1a\u6570\u636e\u91cf\u7279\u522b\u5927\uff0c\u534a\u7ed3\u6784\u5316\uff0c\u5d4c\u5957\u6bd4\u8f83\u6df1\u3002\u65e5\u5fd7\u7c7b\u7684\u6570\u636e\u6709\u4e2a\u5f88\u5927\u7684\u7279\u70b9\uff0c\u65e5\u5fd7\u6d41\u4e00\u65e6\u5f62\u6210\u662f\u4e0d\u4f1a\u53d8\u7684\uff0c\u901a\u8fc7\u57cb\u70b9\u7684\u65b9\u5f0f\u6536\u96c6\u5e73\u53f0\u6240\u6709\u7684\u65e5\u5fd7\uff0c\u7edf\u4e00\u8fdb\u884c\u91c7\u96c6\u5206\u53d1\uff0c\u5c31\u50cf\u4e00\u9897\u6811\uff0c\u6811\u6839\u975e\u5e38\u5927\uff0c\u63a8\u5230\u524d\u7aef\u5e94\u7528\u7684\u65f6\u5019\uff0c\u76f8\u5f53\u4e8e\u4ece\u6811\u6839\u5230\u6811\u679d\u5206\u53c9\u7684\u8fc7\u7a0b\uff08\u4ece 1 \u5230 n \u7684\u5206\u89e3\u8fc7\u7a0b\uff09\uff0c\u5982\u679c\u6240\u6709\u7684\u4e1a\u52a1\u90fd\u4ece\u6839\u4e0a\u627e\u6570\u636e\uff0c\u770b\u8d77\u6765\u8def\u5f84\u6700\u77ed\uff0c\u4f46\u5305\u88b1\u592a\u91cd\uff0c\u6570\u636e\u68c0\u7d22\u6548\u7387\u4f4e\u3002\u65e5\u5fd7\u7c7b\u6570\u636e\u4e00\u822c\u7528\u4e8e\u751f\u4ea7\u76d1\u63a7\u548c\u7528\u6237\u884c\u4e3a\u5206\u6790\uff0c\u65f6\u6548\u6027\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u65f6\u95f4\u7a97\u53e3\u4e00\u822c\u662f 5min \u6216 10min \u6216\u622a\u6b62\u5230\u5f53\u524d\u7684\u4e00\u4e2a\u72b6\u6001\uff0c\u4e3b\u8981\u7684\u5e94\u7528\u662f\u5b9e\u65f6\u5927\u5c4f\u548c\u5b9e\u65f6\u7279\u5f81\uff0c\u4f8b\u5982\u7528\u6237\u6bcf\u4e00\u6b21\u70b9\u51fb\u884c\u4e3a\u90fd\u80fd\u591f\u7acb\u523b\u611f\u77e5\u5230\u7b49\u9700\u6c42\u3002\\n\\n-   \u4e1a\u52a1\u7c7b\uff1a\u4e3b\u8981\u662f\u4e1a\u52a1\u4ea4\u6613\u6570\u636e\uff0c\u4e1a\u52a1\u7cfb\u7edf\u4e00\u822c\u662f\u81ea\u6210\u4f53\u7cfb\u7684\uff0c\u4ee5 Binlog \u65e5\u5fd7\u7684\u5f62\u5f0f\u5f80\u4e0b\u5206\u53d1\uff0c\u4e1a\u52a1\u7cfb\u7edf\u90fd\u662f\u4e8b\u52a1\u578b\u7684\uff0c\u4e3b\u8981\u91c7\u7528\u8303\u5f0f\u5efa\u6a21\u65b9\u5f0f\uff0c\u7279\u70b9\u662f\u7ed3\u6784\u5316\u7684\uff0c\u4e3b\u4f53\u975e\u5e38\u6e05\u6670\uff0c\u4f46\u6570\u636e\u8868\u8f83\u591a\uff0c\u9700\u8981\u591a\u8868\u5173\u8054\u624d\u80fd\u8868\u8fbe\u5b8c\u6574\u4e1a\u52a1\uff0c\u56e0\u6b64\u662f\u4e00\u4e2a n \u5230 1 \u7684\u96c6\u6210\u52a0\u5de5\u8fc7\u7a0b\u3002\\n\\n\u4e1a\u52a1\u7c7b\u5b9e\u65f6\u5904\u7406\u9762\u4e34\u7684\u51e0\u4e2a\u96be\u70b9\uff1a\\n\\n-   \u4e1a\u52a1\u7684\u591a\u72b6\u6001\u6027\uff1a\u4e1a\u52a1\u8fc7\u7a0b\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\u662f\u4e0d\u65ad\u53d8\u5316\u7684\uff0c\u6bd4\u5982\u4ece\u4e0b\u5355->\u652f\u4ed8->\u914d\u9001\uff0c\u4e1a\u52a1\u5e93\u662f\u5728\u539f\u59cb\u57fa\u7840\u4e0a\u8fdb\u884c\u53d8\u66f4\u7684\uff0cBinlog \u4f1a\u4ea7\u751f\u5f88\u591a\u53d8\u5316\u7684\u65e5\u5fd7\u3002\u800c\u4e1a\u52a1\u5206\u6790\u66f4\u52a0\u5173\u6ce8\u6700\u7ec8\u72b6\u6001\uff0c\u7531\u6b64\u4ea7\u751f\u6570\u636e\u56de\u64a4\u8ba1\u7b97\u7684\u95ee\u9898\uff0c\u4f8b\u5982 10 \u70b9\u4e0b\u5355\uff0c13 \u70b9\u53d6\u6d88\uff0c\u4f46\u5e0c\u671b\u5728 10 \u70b9\u51cf\u6389\u53d6\u6d88\u5355\u3002\\n\\n-   \u4e1a\u52a1\u96c6\u6210\uff1a\u4e1a\u52a1\u5206\u6790\u6570\u636e\u4e00\u822c\u65e0\u6cd5\u901a\u8fc7\u5355\u4e00\u4e3b\u4f53\u8868\u8fbe\uff0c\u5f80\u5f80\u662f\u5f88\u591a\u8868\u8fdb\u884c\u5173\u8054\uff0c\u624d\u80fd\u5f97\u5230\u60f3\u8981\u7684\u4fe1\u606f\uff0c\u5728\u5b9e\u65f6\u6d41\u4e2d\u8fdb\u884c\u6570\u636e\u7684\u5408\u6d41\u5bf9\u9f50\uff0c\u5f80\u5f80\u9700\u8981\u8f83\u5927\u7684\u7f13\u5b58\u5904\u7406\u4e14\u590d\u6742\u3002\\n\\n-   \u5206\u6790\u662f\u6279\u91cf\u7684\uff0c\u5904\u7406\u8fc7\u7a0b\u662f\u6d41\u5f0f\u7684\uff1a\u5bf9\u5355\u4e00\u6570\u636e\uff0c\u65e0\u6cd5\u5f62\u6210\u5206\u6790\uff0c\u56e0\u6b64\u5206\u6790\u5bf9\u8c61\u4e00\u5b9a\u662f\u6279\u91cf\u7684\uff0c\u800c\u6570\u636e\u52a0\u5de5\u662f\u9010\u6761\u7684\u3002\\n\\n\u65e5\u5fd7\u7c7b\u548c\u4e1a\u52a1\u7c7b\u7684\u573a\u666f\u4e00\u822c\u662f\u540c\u65f6\u5b58\u5728\u7684\uff0c\u4ea4\u7ec7\u5728\u4e00\u8d77\uff0c\u65e0\u8bba\u662f Lambda \u67b6\u6784\u8fd8\u662f Kappa \u67b6\u6784\uff0c\u5355\u4e00\u7684\u5e94\u7528\u90fd\u4f1a\u6709\u4e00\u4e9b\u95ee\u9898\u3002\u56e0\u6b64\u9488\u5bf9\u573a\u666f\u6765\u9009\u62e9\u67b6\u6784\u4e0e\u5b9e\u8df5\u624d\u66f4\u6709\u610f\u4e49\u3002\\n\\n# **\u5b9e\u65f6**\u6570\u4ed3\u67b6\u6784\u8bbe\u8ba1\\n\\n### **1. \u5b9e\u65f6\u67b6\u6784\uff1a\u6d41\u6279\u7ed3\u5408\u7684\u63a2\u7d22**\\n\\n\u57fa\u4e8e\u4ee5\u4e0a\u95ee\u9898\uff0c\u6211\u4eec\u6709\u81ea\u5df1\u7684\u601d\u8003\u3002\u901a\u8fc7\u6d41\u6279\u7ed3\u5408\u7684\u65b9\u5f0f\u6765\u5e94\u5bf9\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\u3002\\n\\n\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6570\u636e\u4ece\u65e5\u5fd7\u7edf\u4e00\u91c7\u96c6\u5230\u6d88\u606f\u961f\u5217\uff0c\u518d\u5230\u6570\u636e\u6d41\u7684 ETL \u8fc7\u7a0b\uff0c\u4f5c\u4e3a\u57fa\u7840\u6570\u636e\u6d41\u7684\u5efa\u8bbe\u662f\u7edf\u4e00\u7684\u3002\u4e4b\u540e\u5bf9\u4e8e\u65e5\u5fd7\u7c7b\u5b9e\u65f6\u7279\u5f81\uff0c\u5b9e\u65f6\u5927\u5c4f\u7c7b\u5e94\u7528\u8d70\u5b9e\u65f6\u6d41\u8ba1\u7b97\u3002\u5bf9\u4e8e Binlog \u7c7b\u4e1a\u52a1\u5206\u6790\u8d70\u5b9e\u65f6 OLAP \u6279\u5904\u7406\u3002\\n\\n\u6d41\u5f0f\u5904\u7406\u5206\u6790\u4e1a\u52a1\u7684\u75db\u70b9\uff1f\u5bf9\u4e8e\u8303\u5f0f\u4e1a\u52a1\uff0cStorm \u548c Flink \u90fd\u9700\u8981\u5f88\u5927\u7684\u5916\u5b58\uff0c\u6765\u5b9e\u73b0\u6570\u636e\u6d41\u4e4b\u95f4\u7684\u4e1a\u52a1\u5bf9\u9f50\uff0c\u9700\u8981\u5927\u91cf\u7684\u8ba1\u7b97\u8d44\u6e90\u3002\u4e14\u7531\u4e8e\u5916\u5b58\u7684\u9650\u5236\uff0c\u5fc5\u987b\u8fdb\u884c\u7a97\u53e3\u7684\u9650\u5b9a\u7b56\u7565\uff0c\u6700\u7ec8\u53ef\u80fd\u653e\u5f03\u4e00\u4e9b\u6570\u636e\u3002\u8ba1\u7b97\u4e4b\u540e\uff0c\u4e00\u822c\u662f\u5b58\u5230 Redis \u91cc\u505a\u67e5\u8be2\u652f\u6491\uff0c\u4e14 KV \u5b58\u50a8\u5728\u5e94\u5bf9\u5206\u6790\u7c7b\u67e5\u8be2\u573a\u666f\u4e2d\u4e5f\u6709\u8f83\u591a\u5c40\u9650\u3002\\n\\n\u5b9e\u65f6 OLAP \u600e\u4e48\u5b9e\u73b0\uff1f\u6709\u6ca1\u6709\u4e00\u79cd\u81ea\u5e26\u5b58\u50a8\u7684\u5b9e\u65f6\u8ba1\u7b97\u5f15\u64ce\uff0c\u5f53\u5b9e\u65f6\u6570\u636e\u6765\u4e86\u4e4b\u540e\uff0c\u53ef\u4ee5\u7075\u6d3b\u7684\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u81ea\u7531\u8ba1\u7b97\uff0c\u5e76\u4e14\u6709\u4e00\u5b9a\u7684\u6570\u636e\u627f\u8f7d\u80fd\u529b\uff0c\u540c\u65f6\u652f\u6301\u5206\u6790\u67e5\u8be2\u54cd\u5e94\u5462\uff1f\u968f\u7740\u6280\u672f\u7684\u53d1\u5c55\uff0c\u76ee\u524d MPP \u5f15\u64ce\u53d1\u5c55\u975e\u5e38\u8fc5\u901f\uff0c\u6027\u80fd\u4e5f\u5728\u98de\u5feb\u63d0\u5347\uff0c\u6240\u4ee5\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\u5c31\u6709\u4e86\u4e00\u79cd\u65b0\u7684\u53ef\u80fd\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u7684\u662f Doris \u5f15\u64ce\u3002\\n\\n\u8fd9\u79cd\u60f3\u6cd5\u5728\u4e1a\u5185\u4e5f\u5df2\u7ecf\u6709\u5b9e\u8df5\uff0c\u4e14\u6210\u4e3a\u4e00\u4e2a\u91cd\u8981\u63a2\u7d22\u65b9\u5411\u3002\u963f\u91cc\u57fa\u4e8e ADB \u7684\u5b9e\u65f6 OLAP \u65b9\u6848\u7b49\u3002\\n\\n### **2. \u5b9e\u65f6\u6570\u4ed3\u67b6\u6784\u8bbe\u8ba1**\\n\\n\u4ece\u6574\u4e2a\u5b9e\u65f6\u6570\u4ed3\u67b6\u6784\u6765\u770b\uff0c\u9996\u5148\u8003\u8651\u7684\u662f\u5982\u4f55\u7ba1\u7406\u6240\u6709\u7684\u5b9e\u65f6\u6570\u636e\uff0c\u8d44\u6e90\u5982\u4f55\u6709\u6548\u6574\u5408\uff0c\u6570\u636e\u5982\u4f55\u8fdb\u884c\u5efa\u8bbe\u3002\\n\\n\u4ece\u65b9\u6cd5\u8bba\u6765\u8bb2\uff0c\u5b9e\u65f6\u548c\u79bb\u7ebf\u662f\u975e\u5e38\u76f8\u4f3c\u7684\uff0c\u79bb\u7ebf\u6570\u4ed3\u65e9\u671f\u7684\u65f6\u5019\u4e5f\u662f case by case\uff0c\u5f53\u6570\u636e\u89c4\u6a21\u6da8\u5230\u4e00\u5b9a\u91cf\u7684\u65f6\u5019\u624d\u4f1a\u8003\u8651\u5982\u4f55\u6cbb\u7406\u3002\u5206\u5c42\u662f\u4e00\u79cd\u975e\u5e38\u6709\u6548\u7684\u6570\u636e\u6cbb\u7406\u65b9\u5f0f\uff0c\u6240\u4ee5\u5728\u5b9e\u65f6\u6570\u4ed3\u5982\u4f55\u8fdb\u884c\u7ba1\u7406\u7684\u95ee\u9898\u4e0a\uff0c\u9996\u5148\u8003\u8651\u7684\u4e5f\u662f\u5206\u5c42\u7684\u5904\u7406\u903b\u8f91\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n-   \u6570\u636e\u6e90\uff1a\u5728\u6570\u636e\u6e90\u7684\u5c42\u9762\uff0c\u79bb\u7ebf\u548c\u5b9e\u65f6\u5728\u6570\u636e\u6e90\u662f\u4e00\u81f4\u7684\uff0c\u4e3b\u8981\u5206\u4e3a\u65e5\u5fd7\u7c7b\u548c\u4e1a\u52a1\u7c7b\uff0c\u65e5\u5fd7\u7c7b\u53c8\u5305\u62ec\u7528\u6237\u65e5\u5fd7\uff0cDB \u65e5\u5fd7\u4ee5\u53ca\u670d\u52a1\u5668\u65e5\u5fd7\u7b49\u3002\\n\\n-   \u5b9e\u65f6\u660e\u7ec6\u5c42\uff1a\u5728\u660e\u7ec6\u5c42\uff0c\u4e3a\u4e86\u89e3\u51b3\u91cd\u590d\u5efa\u8bbe\u7684\u95ee\u9898\uff0c\u8981\u8fdb\u884c\u7edf\u4e00\u6784\u5efa\uff0c\u5229\u7528\u79bb\u7ebf\u6570\u4ed3\u7684\u6a21\u5f0f\uff0c\u5efa\u8bbe\u7edf\u4e00\u7684\u57fa\u7840\u660e\u7ec6\u6570\u636e\u5c42\uff0c\u6309\u7167\u4e3b\u9898\u8fdb\u884c\u7ba1\u7406\uff0c\u660e\u7ec6\u5c42\u7684\u76ee\u7684\u662f\u7ed9\u4e0b\u6e38\u63d0\u4f9b\u76f4\u63a5\u53ef\u7528\u7684\u6570\u636e\uff0c\u56e0\u6b64\u8981\u5bf9\u57fa\u7840\u5c42\u8fdb\u884c\u7edf\u4e00\u7684\u52a0\u5de5\uff0c\u6bd4\u5982\u6e05\u6d17\u3001\u8fc7\u6ee4\u3001\u6269\u7ef4\u7b49\u3002\\n\\n-   \u6c47\u603b\u5c42\uff1a\u6c47\u603b\u5c42\u901a\u8fc7 Flink \u6216 Storm \u7684\u7b80\u6d01\u7b97\u5b50\u76f4\u63a5\u53ef\u4ee5\u7b97\u51fa\u7ed3\u679c\uff0c\u5e76\u4e14\u5f62\u6210\u6c47\u603b\u6307\u6807\u6c60\uff0c\u6240\u6709\u7684\u6307\u6807\u90fd\u7edf\u4e00\u5728\u6c47\u603b\u5c42\u52a0\u5de5\uff0c\u6240\u6709\u4eba\u6309\u7167\u7edf\u4e00\u7684\u89c4\u8303\u7ba1\u7406\u5efa\u8bbe\uff0c\u5f62\u6210\u53ef\u590d\u7528\u7684\u6c47\u603b\u7ed3\u679c\u3002\\n\\n\u603b\u7ed3\u8d77\u6765\uff0c\u4ece\u6574\u4e2a\u5b9e\u65f6\u6570\u4ed3\u7684\u5efa\u8bbe\u89d2\u5ea6\u6765\u8bb2\uff0c\u9996\u5148\u6570\u636e\u5efa\u8bbe\u7684\u5c42\u6b21\u5316\u8981\u5148\u5efa\u51fa\u6765\uff0c\u5148\u642d\u6846\u67b6\uff0c\u7136\u540e\u5b9a\u89c4\u8303\uff0c\u6bcf\u4e00\u5c42\u52a0\u5de5\u5230\u4ec0\u4e48\u7a0b\u5ea6\uff0c\u6bcf\u4e00\u5c42\u7528\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\uff0c\u5f53\u89c4\u8303\u5b9a\u4e49\u51fa\u6765\u540e\uff0c\u4fbf\u4e8e\u5728\u751f\u4ea7\u4e0a\u8fdb\u884c\u6807\u51c6\u5316\u7684\u52a0\u5de5\u3002\u7531\u4e8e\u8981\u4fdd\u8bc1\u65f6\u6548\u6027\uff0c\u8bbe\u8ba1\u7684\u65f6\u5019\uff0c\u5c42\u6b21\u4e0d\u80fd\u592a\u591a\uff0c\u5bf9\u4e8e\u5b9e\u65f6\u6027\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u57fa\u672c\u53ef\u4ee5\u8d70\u4e0a\u56fe\u5de6\u4fa7\u7684\u6570\u636e\u6d41\uff0c\u5bf9\u4e8e\u6279\u91cf\u5904\u7406\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u4ece\u5b9e\u65f6\u660e\u7ec6\u5c42\u5bfc\u5165\u5230\u5b9e\u65f6 OLAP \u5f15\u64ce\u91cc\uff0c\u57fa\u4e8e OLAP \u5f15\u64ce\u81ea\u8eab\u7684\u8ba1\u7b97\u548c\u67e5\u8be2\u80fd\u529b\u8fdb\u884c\u5feb\u901f\u7684\u56de\u64a4\u8ba1\u7b97\uff0c\u5982\u4e0a\u56fe\u53f3\u4fa7\u7684\u6570\u636e\u6d41\u3002\\n\\n# **\u5b9e\u65f6\u5e73\u53f0\u5316\u5efa\u8bbe**\\n\\n\u67b6\u6784\u786e\u5b9a\u4e4b\u540e\uff0c\u540e\u9762\u8003\u8651\u7684\u662f\u5982\u4f55\u8fdb\u884c\u5e73\u53f0\u5316\u7684\u5efa\u8bbe\uff0c\u5b9e\u65f6\u5e73\u53f0\u5316\u5efa\u8bbe\u5b8c\u5168\u9644\u52a0\u4e8e\u5b9e\u65f6\u6570\u4ed3\u7ba1\u7406\u4e4b\u4e0a\u8fdb\u884c\u7684\u3002\\n\\n\u9996\u5148\u8fdb\u884c\u529f\u80fd\u7684\u62bd\u8c61\uff0c\u628a\u529f\u80fd\u62bd\u8c61\u6210\u7ec4\u4ef6\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8fbe\u5230\u6807\u51c6\u5316\u7684\u751f\u4ea7\uff0c\u7cfb\u7edf\u5316\u7684\u4fdd\u969c\u5c31\u53ef\u4ee5\u66f4\u6df1\u5165\u7684\u5efa\u8bbe\uff0c\u5bf9\u4e8e\u57fa\u7840\u52a0\u5de5\u5c42\u7684\u6e05\u6d17\u3001\u8fc7\u6ee4\u3001\u5408\u6d41\u3001\u6269\u7ef4\u3001\u8f6c\u6362\u3001\u52a0\u5bc6\u3001\u7b5b\u9009\u7b49\u529f\u80fd\u90fd\u53ef\u4ee5\u62bd\u8c61\u51fa\u6765\uff0c\u57fa\u7840\u5c42\u901a\u8fc7\u8fd9\u79cd\u7ec4\u4ef6\u5316\u7684\u65b9\u5f0f\u6784\u5efa\u76f4\u63a5\u53ef\u7528\u7684\u6570\u636e\u7ed3\u679c\u6d41\u3002\u8fd9\u5176\u4e2d\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u7528\u6237\u7684\u9700\u6c42\u591a\u6837\uff0c\u6ee1\u8db3\u4e86\u8fd9\u4e2a\u7528\u6237\uff0c\u5982\u4f55\u517c\u5bb9\u5176\u4ed6\u7684\u7528\u6237\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u51fa\u73b0\u5197\u4f59\u52a0\u5de5\u7684\u60c5\u51b5\uff0c\u4ece\u5b58\u50a8\u6765\u8bb2\uff0c\u5b9e\u65f6\u6570\u636e\u4e0d\u5b58\u5386\u53f2\uff0c\u4e0d\u4f1a\u6d88\u8017\u8fc7\u591a\u7684\u5b58\u50a8\uff0c\u8fd9\u79cd\u5197\u4f59\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u901a\u8fc7\u5197\u4f59\u7684\u65b9\u5f0f\u53ef\u4ee5\u63d0\u9ad8\u751f\u4ea7\u6548\u7387\uff0c\u662f\u4e00\u79cd\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u601d\u60f3\u5e94\u7528\u3002\\n\\n\u901a\u8fc7\u57fa\u7840\u5c42\u7684\u52a0\u5de5\uff0c\u6570\u636e\u5168\u90e8\u6c89\u6dc0\u5230 IDL \u5c42\uff0c\u540c\u65f6\u5199\u5230 OLAP \u5f15\u64ce\u7684\u57fa\u7840\u5c42\uff0c\u518d\u5f80\u4e0a\u662f\u5b9e\u65f6\u6c47\u603b\u5c42\u8ba1\u7b97\uff0c\u57fa\u4e8e Storm\u3001Flink \u6216 Doris\uff0c\u751f\u4ea7\u591a\u7ef4\u5ea6\u7684\u6c47\u603b\u6307\u6807\uff0c\u5f62\u6210\u7edf\u4e00\u7684\u6c47\u603b\u5c42\uff0c\u8fdb\u884c\u7edf\u4e00\u7684\u5b58\u50a8\u5206\u53d1\u3002\\n\\n\u5f53\u8fd9\u4e9b\u529f\u80fd\u90fd\u6709\u4e86\u4ee5\u540e\uff0c\u5143\u6570\u636e\u7ba1\u7406\uff0c\u6307\u6807\u7ba1\u7406\uff0c\u6570\u636e\u5b89\u5168\u6027\u3001SLA\u3001\u6570\u636e\u8d28\u91cf\u7b49\u7cfb\u7edf\u80fd\u529b\u4e5f\u4f1a\u9010\u6e10\u6784\u5efa\u8d77\u6765\u3002\\n\\n### 1.\u5b9e\u65f6\u57fa\u7840\u5c42\u529f\u80fd\\n\\n\u5b9e\u65f6\u57fa\u7840\u5c42\u7684\u5efa\u8bbe\u8981\u89e3\u51b3\u4e00\u4e9b\u95ee\u9898\u3002\\n\\n\u9996\u5148\u662f\u4e00\u6761\u6d41\u91cd\u590d\u8bfb\u7684\u95ee\u9898\uff0c\u4e00\u6761 Binlog \u6253\u8fc7\u6765\uff0c\u662f\u4ee5 DB \u5305\u7684\u5f62\u5f0f\u5b58\u5728\u7684\uff0c\u7528\u6237\u53ef\u80fd\u53ea\u7528\u5176\u4e2d\u4e00\u5f20\u8868\uff0c\u5982\u679c\u5927\u5bb6\u90fd\u8981\u7528\uff0c\u53ef\u80fd\u5b58\u5728\u6240\u6709\u4eba\u90fd\u8981\u63a5\u8fd9\u4e2a\u6d41\u7684\u95ee\u9898\u3002\u89e3\u51b3\u65b9\u6848\u662f\u53ef\u4ee5\u6309\u7167\u4e0d\u540c\u7684\u4e1a\u52a1\u89e3\u6784\u51fa\u6765\uff0c\u8fd8\u539f\u5230\u57fa\u7840\u6570\u636e\u6d41\u5c42\uff0c\u6839\u636e\u4e1a\u52a1\u7684\u9700\u8981\u505a\u6210\u8303\u5f0f\u7ed3\u6784\uff0c\u6309\u7167\u6570\u4ed3\u7684\u5efa\u6a21\u65b9\u5f0f\u8fdb\u884c\u96c6\u6210\u5316\u7684\u4e3b\u9898\u5efa\u8bbe\u3002\\n\\n\u5176\u6b21\u8981\u8fdb\u884c\u7ec4\u4ef6\u7684\u5c01\u88c5\uff0c\u6bd4\u5982\u57fa\u7840\u5c42\u7684\u6e05\u6d17\u3001\u8fc7\u6ee4\u3001\u6269\u7ef4\u7b49\u529f\u80fd\uff0c\u901a\u8fc7\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u8868\u8fbe\u5165\u53e3\uff0c\u8ba9\u7528\u6237\u5c06\u903b\u8f91\u5199\u51fa\u6765\u3002trans \u73af\u8282\u662f\u6bd4\u8f83\u7075\u6d3b\u7684\uff0c\u6bd4\u5982\u4ece\u4e00\u4e2a\u503c\u8f6c\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u503c\uff0c\u5bf9\u4e8e\u8fd9\u79cd\u81ea\u5b9a\u4e49\u903b\u8f91\u8868\u8fbe\uff0c\u6211\u4eec\u4e5f\u5f00\u653e\u4e86\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7 Java \u6216 Python \u5f00\u53d1\u81ea\u5b9a\u4e49\u811a\u672c\uff0c\u8fdb\u884c\u6570\u636e\u52a0\u5de5\u3002\\n\\n### 2.**\u5b9e\u65f6\u7279\u5f81\u751f\u4ea7\u529f\u80fd**\\n\\n\u7279\u5f81\u751f\u4ea7\u53ef\u4ee5\u901a\u8fc7 SQL \u8bed\u6cd5\u8fdb\u884c\u903b\u8f91\u8868\u8fbe\uff0c\u5e95\u5c42\u8fdb\u884c\u903b\u8f91\u7684\u9002\u914d\uff0c\u900f\u4f20\u5230\u8ba1\u7b97\u5f15\u64ce\uff0c\u5c4f\u853d\u7528\u6237\u5bf9\u8ba1\u7b97\u5f15\u64ce\u7684\u4f9d\u8d56\u3002\u5c31\u50cf\u5bf9\u4e8e\u79bb\u7ebf\u573a\u666f\uff0c\u76ee\u524d\u5927\u516c\u53f8\u5f88\u5c11\u901a\u8fc7\u4ee3\u7801\u7684\u65b9\u5f0f\u5f00\u53d1\uff0c\u9664\u975e\u4e00\u4e9b\u7279\u522b\u7684 case\uff0c\u6240\u4ee5\u57fa\u672c\u4e0a\u53ef\u4ee5\u901a\u8fc7 SQL \u5316\u7684\u65b9\u5f0f\u8868\u8fbe\u3002\\n\\n\u5728\u529f\u80fd\u5c42\u9762\uff0c\u628a\u6307\u6807\u7ba1\u7406\u7684\u601d\u60f3\u878d\u5408\u8fdb\u53bb\uff0c\u539f\u5b50\u6307\u6807\u3001\u6d3e\u751f\u6307\u6807\uff0c\u6807\u51c6\u8ba1\u7b97\u53e3\u5f84\uff0c\u7ef4\u5ea6\u9009\u62e9\uff0c\u7a97\u53e3\u8bbe\u7f6e\u7b49\u64cd\u4f5c\u90fd\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u5316\u7684\u65b9\u5f0f\uff0c\u8fd9\u6837\u53ef\u4ee5\u7edf\u4e00\u89e3\u6790\u751f\u4ea7\u903b\u8f91\uff0c\u8fdb\u884c\u7edf\u4e00\u5c01\u88c5\u3002\\n\\n\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u540c\u4e00\u4e2a\u6e90\uff0c\u5199\u4e86\u5f88\u591a SQL\uff0c\u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u4f1a\u8d77\u4e00\u4e2a\u6570\u636e\u6d41\uff0c\u6bd4\u8f83\u6d6a\u8d39\u8d44\u6e90\uff0c\u6211\u4eec\u7684\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u901a\u8fc7\u540c\u4e00\u6761\u6d41\u5b9e\u73b0\u52a8\u6001\u6307\u6807\u7684\u751f\u4ea7\uff0c\u5728\u4e0d\u505c\u670d\u52a1\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u52a8\u6001\u6dfb\u52a0\u6307\u6807\u3002\\n\\n\u6240\u4ee5\u5728\u5b9e\u65f6\u5e73\u53f0\u5efa\u8bbe\u8fc7\u7a0b\u4e2d\uff0c\u66f4\u591a\u8003\u8651\u7684\u662f\u5982\u4f55\u66f4\u6709\u6548\u7684\u5229\u7528\u8d44\u6e90\uff0c\u5728\u54ea\u4e9b\u73af\u8282\u66f4\u80fd\u8282\u7ea6\u5316\u7684\u4f7f\u7528\u8d44\u6e90\uff0c\u8fd9\u662f\u5728\u5de5\u7a0b\u65b9\u9762\u66f4\u591a\u8003\u8651\u7684\u4e8b\u60c5\u3002\\n\\n### 3.SLA \u5efa\u8bbe\\n\\nSLA \u4e3b\u8981\u89e3\u51b3\u4e24\u4e2a\u95ee\u9898\uff0c\u4e00\u4e2a\u662f\u7aef\u5230\u7aef\u7684 SLA\uff0c\u4e00\u4e2a\u662f\u4f5c\u4e1a\u751f\u4ea7\u6548\u7387\u7684 SLA\uff0c\u6211\u4eec\u91c7\u7528\u57cb\u70b9+\u4e0a\u62a5\u7684\u65b9\u5f0f\uff0c\u7531\u4e8e\u5b9e\u65f6\u6d41\u6bd4\u8f83\u5927\uff0c\u57cb\u70b9\u8981\u5c3d\u91cf\u7b80\u5355\uff0c\u4e0d\u80fd\u57cb\u592a\u591a\u7684\u4e1c\u897f\uff0c\u80fd\u8868\u8fbe\u4e1a\u52a1\u5373\u53ef\uff0c\u6bcf\u4e2a\u4f5c\u4e1a\u7684\u8f93\u51fa\u7edf\u4e00\u4e0a\u62a5\u5230 SLA \u76d1\u63a7\u5e73\u53f0\uff0c\u901a\u8fc7\u7edf\u4e00\u63a5\u53e3\u7684\u5f62\u5f0f\uff0c\u5728\u6bcf\u4e00\u4e2a\u4f5c\u4e1a\u70b9\u4e0a\u62a5\u6240\u9700\u8981\u7684\u4fe1\u606f\uff0c\u6700\u540e\u80fd\u591f\u7edf\u8ba1\u5230\u7aef\u5230\u7aef\u7684 SLA\u3002\\n\\n\u5728\u5b9e\u65f6\u751f\u4ea7\u4e2d\uff0c\u7531\u4e8e\u94fe\u8def\u975e\u5e38\u957f\uff0c\u65e0\u6cd5\u63a7\u5236\u6240\u6709\u94fe\u8def\uff0c\u4f46\u662f\u53ef\u4ee5\u63a7\u5236\u81ea\u5df1\u4f5c\u4e1a\u7684\u6548\u7387\uff0c\u6240\u4ee5\u4f5c\u4e1a SLA \u4e5f\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\\n\\n### 4. \u5b9e\u65f6 OLAP \u65b9\u6848\\n\\n\u95ee\u9898\uff1a\\n\\n-   Binlog \u4e1a\u52a1\u8fd8\u539f\u590d\u6742\uff1a\u4e1a\u52a1\u53d8\u5316\u5f88\u591a\uff0c\u9700\u8981\u67d0\u4e2a\u65f6\u95f4\u70b9\u7684\u53d8\u5316\uff0c\u56e0\u6b64\u9700\u8981\u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u4e14\u6570\u636e\u8981\u5b58\u8d77\u6765\uff0c\u8fd9\u5bf9\u4e8e\u5185\u5b58\u548c CPU \u7684\u8d44\u6e90\u6d88\u8017\u90fd\u662f\u975e\u5e38\u5927\u7684\u3002\\n\\n-   Binlog \u4e1a\u52a1\u5173\u8054\u590d\u6742\uff1a\u6d41\u5f0f\u8ba1\u7b97\u91cc\uff0c\u6d41\u548c\u6d41\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u5bf9\u4e8e\u4e1a\u52a1\u903b\u8f91\u7684\u8868\u8fbe\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\\n\\n\u89e3\u51b3\u65b9\u6848\uff1a\\n\\n\u901a\u8fc7\u5e26\u8ba1\u7b97\u80fd\u529b\u7684 OLAP \u5f15\u64ce\u6765\u89e3\u51b3\uff0c\u4e0d\u9700\u8981\u628a\u4e00\u4e2a\u6d41\u8fdb\u884c\u903b\u8f91\u5316\u6620\u5c04\uff0c\u53ea\u9700\u8981\u89e3\u51b3\u6570\u636e\u5b9e\u65f6\u7a33\u5b9a\u7684\u5165\u5e93\u95ee\u9898\u3002\\n\\n\u6211\u4eec\u8fd9\u8fb9\u91c7\u7528\u7684\u662f Doris \u4f5c\u4e3a\u9ad8\u6027\u80fd\u7684 OLAP \u5f15\u64ce\uff0c\u7531\u4e8e\u4e1a\u52a1\u6570\u636e\u4ea7\u751f\u7684\u7ed3\u679c\u548c\u7ed3\u679c\u4e4b\u95f4\u8fd8\u9700\u8981\u8fdb\u884c\u884d\u751f\u8ba1\u7b97\uff0cDoris \u53ef\u4ee5\u5229\u7528 unique \u6a21\u578b\u6216\u805a\u5408\u6a21\u578b\u5feb\u901f\u8fd8\u539f\u4e1a\u52a1\uff0c\u8fd8\u539f\u4e1a\u52a1\u7684\u540c\u65f6\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6c47\u603b\u5c42\u7684\u805a\u5408\uff0c\u4e5f\u662f\u4e3a\u4e86\u590d\u7528\u800c\u8bbe\u8ba1\u3002\u5e94\u7528\u5c42\u53ef\u4ee5\u662f\u7269\u7406\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u903b\u8f91\u5316\u89c6\u56fe\u3002\\n\\n\u8fd9\u79cd\u6a21\u5f0f\u91cd\u5728\u89e3\u51b3\u4e1a\u52a1\u56de\u64a4\u8ba1\u7b97\uff0c\u6bd4\u5982\u4e1a\u52a1\u72b6\u6001\u6539\u53d8\uff0c\u9700\u8981\u5728\u5386\u53f2\u7684\u67d0\u4e2a\u70b9\u5c06\u503c\u53d8\u66f4\uff0c\u8fd9\u79cd\u573a\u666f\u7528\u6d41\u8ba1\u7b97\u7684\u6210\u672c\u975e\u5e38\u5927\uff0cOLAP \u6a21\u5f0f\u53ef\u4ee5\u5f88\u597d\u7684\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n# \u5b9e\u65f6\u5e94\u7528\u6848\u4f8b\\n\\n\u6700\u540e\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u8bf4\u660e\uff0c\u6bd4\u5982\u5546\u5bb6\u8981\u6839\u636e\u7528\u6237\u5386\u53f2\u4e0b\u5355\u6570\u7ed9\u7528\u6237\u4f18\u60e0\uff0c\u5546\u5bb6\u9700\u8981\u770b\u5230\u5386\u53f2\u4e0b\u4e86\u591a\u5c11\u5355\uff0c\u5386\u53f2 T+1 \u7684\u6570\u636e\u8981\u6709\uff0c\u4eca\u5929\u5b9e\u65f6\u7684\u6570\u636e\u4e5f\u8981\u6709\uff0c\u8fd9\u79cd\u573a\u666f\u662f\u5178\u578b\u7684 Lambda \u67b6\u6784\uff0c\u53ef\u4ee5\u5728 Doris \u91cc\u8bbe\u8ba1\u4e00\u4e2a\u5206\u533a\u8868\uff0c\u4e00\u4e2a\u662f\u5386\u53f2\u5206\u533a\uff0c\u4e00\u4e2a\u662f\u4eca\u65e5\u5206\u533a\uff0c\u5386\u53f2\u5206\u533a\u53ef\u4ee5\u901a\u8fc7\u79bb\u7ebf\u7684\u65b9\u5f0f\u751f\u4ea7\uff0c\u4eca\u65e5\u6307\u6807\u53ef\u4ee5\u901a\u8fc7\u5b9e\u65f6\u7684\u65b9\u5f0f\u8ba1\u7b97\uff0c\u5199\u5230\u4eca\u65e5\u5206\u533a\u91cc\uff0c\u67e5\u8be2\u7684\u65f6\u5019\u8fdb\u884c\u4e00\u4e2a\u7b80\u5355\u7684\u6c47\u603b\u3002\\n\\n\u8fd9\u79cd\u573a\u666f\u770b\u8d77\u6765\u6bd4\u8f83\u7b80\u5355\uff0c\u96be\u70b9\u5728\u4e8e\u5546\u5bb6\u7684\u91cf\u4e0a\u6765\u4e4b\u540e\uff0c\u5f88\u591a\u7b80\u5355\u7684\u95ee\u9898\u90fd\u4f1a\u53d8\u7684\u590d\u6742\uff0c\u56e0\u6b64\u540e\u9762\u6211\u4eec\u4e5f\u4f1a\u901a\u8fc7\u66f4\u591a\u7684\u4e1a\u52a1\u8f93\u5165\uff0c\u6c89\u6dc0\u51fa\u66f4\u591a\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u62bd\u8c61\u51fa\u6765\u5f62\u6210\u7edf\u4e00\u7684\u751f\u4ea7\u65b9\u6848\u548c\u529f\u80fd\uff0c\u4ee5\u6700\u5c0f\u5316\u7684\u5b9e\u65f6\u8ba1\u7b97\u8d44\u6e90\u652f\u6491\u591a\u6837\u5316\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u8fd9\u4e5f\u662f\u672a\u6765\u9700\u8981\u8fbe\u5230\u7684\u76ee\u7684\u3002\\n\\n\u4eca\u5929\u7684\u5206\u4eab\u5c31\u5230\u8fd9\u91cc\uff0c\u8c22\u8c22\u5927\u5bb6\u3002\\n\\n### \u5609\u5bbe\u4ecb\u7ecd\uff1a\\n\\n\u6731\u826f\uff0c5 \u5e74\u4ee5\u4e0a\u4f20\u7edf\u884c\u4e1a\u6570\u4ed3\u5efa\u8bbe\u7ecf\u9a8c\uff0c6 \u5e74\u4e92\u8054\u7f51\u6570\u4ed3\u7ecf\u9a8c\uff0c\u6280\u672f\u65b9\u5411\u6d89\u53ca\u79bb\u7ebf\uff0c\u5b9e\u65f6\u6570\u4ed3\u6cbb\u7406\uff0c\u7cfb\u7edf\u5316\u80fd\u529b\u5efa\u8bbe\uff0cOLAP \u7cfb\u7edf\u53ca\u5f15\u64ce\uff0c\u5927\u6570\u636e\u76f8\u5173\u6280\u672f\uff0c\u91cd\u70b9\u8ddf\u8fdb OLAP\uff0c\u5b9e\u65f6\u6280\u672f\u524d\u6cbf\u53d1\u5c55\u8d8b\u52bf\u3002\u4e1a\u52a1\u65b9\u5411\u6d89\u53ca\u5373\u5e2d\u67e5\u8be2\uff0c\u8fd0\u8425\u5206\u6790\uff0c\u7b56\u7565\u62a5\u544a\u4ea7\u54c1\uff0c\u7528\u6237\u753b\u50cf\uff0c\u4eba\u7fa4\u63a8\u8350\uff0c\u5b9e\u9a8c\u8bc4\u4f30\u7b49\u3002"},{"id":"/scenario","metadata":{"permalink":"/zh-CN/blog/scenario","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/scenario.md","title":"\u6253\u9020\u81ea\u52a9\u5bf9\u8bdd\u5f0f\u6570\u636e\u5206\u6790\u573a\u666f\uff0cApache Doris \u5728\u601d\u5fc5\u9a70\u7684\u5e94\u7528\u5b9e\u8df5\uff5c\u6700\u4f73\u5b9e\u8df5","description":"\x3c!--","date":"2022-07-20T00:00:00.000Z","formattedDate":"2022\u5e747\u670820\u65e5","tags":[{"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"truncated":false,"authors":[{"name":"\u8d75\u4f1f"}],"frontMatter":{"title":"\u6253\u9020\u81ea\u52a9\u5bf9\u8bdd\u5f0f\u6570\u636e\u5206\u6790\u573a\u666f\uff0cApache Doris \u5728\u601d\u5fc5\u9a70\u7684\u5e94\u7528\u5b9e\u8df5\uff5c\u6700\u4f73\u5b9e\u8df5","summary":"\u601d\u5fc5\u9a70\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165 Apache Doris \uff0c\u57fa\u4e8e Apache Doris \u6784\u5efa\u4e86\u5b9e\u65f6\u4e0e\u79bb\u7ebf\u4e00\u4f53\u7684\u6570\u4ed3\u67b6\u6784\u3002\u76f8\u5bf9\u4e8e\u8fc7\u53bb\u67b6\u6784\uff0cApache Doris \u51ed\u501f\u5176\u7075\u6d3b\u7684\u67e5\u8be2\u6a21\u578b\u3001\u6781\u4f4e\u7684\u8fd0\u7ef4\u6210\u672c\u3001\u77ed\u5e73\u5feb\u7684\u5f00\u53d1\u94fe\u8def\u4ee5\u53ca\u4f18\u79c0\u7684\u67e5\u8be2\u6027\u80fd\u7b49\u8bf8\u591a\u65b9\u9762\u4f18\u52bf\uff0c\u5982\u4eca\u5df2\u7ecf\u5728\u5b9e\u65f6\u4e1a\u52a1\u8fd0\u8425\u3001\u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u7b49\u591a\u4e2a\u4e1a\u52a1\u573a\u666f\u5f97\u5230\u8fd0\u7528\uff0c\u6ee1\u8db3\u4e86 \u8bbe\u5907\u753b\u50cf/\u7528\u6237\u6807\u7b7e\u3001\u4e1a\u52a1\u573a\u666f\u5b9e\u65f6\u8fd0\u8425\u3001\u6570\u636e\u5206\u6790\u770b\u677f\u3001\u81ea\u52a9 BI\u3001\u8d22\u52a1\u5bf9\u8d26\u7b49\u591a\u79cd\u6570\u636e\u5206\u6790\u9700\u6c42","date":"2022-07-20","author":"\u8d75\u4f1f","tags":["\u6700\u4f73\u5b9e\u8df5"]},"prevItem":{"title":"Apache Doris \u5728\u7f8e\u56e2\u5916\u5356\u5b9e\u65f6\u6570\u4ed3\u5efa\u8bbe\u4e2d\u7684\u5b9e\u8df5","permalink":"/zh-CN/blog/meituan"},"nextItem":{"title":"Apache Doris 1.1 Release \u7248\u672c\u6b63\u5f0f\u53d1\u5e03","permalink":"/zh-CN/blog/1.1 Release"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n> \u4f5c\u8005\uff1a\u8d75\u4f1f\uff0c\u601d\u5fc5\u9a70\u5927\u6570\u636e\u9ad8\u7ea7\u7814\u53d1\uff0c10\u5e74\u5927\u6570\u636e\u5f00\u53d1\u548c\u8bbe\u8ba1\u7ecf\u9a8c\uff0c\u8d1f\u8d23\u5927\u6570\u636e\u5e73\u53f0\u57fa\u7840\u6280\u672f\u548cOLAP\u5206\u6790\u6280\u672f\u5f00\u53d1\u3002\u793e\u533a\u8d21\u732e\uff1aDoris-spark-connector \u7684\u5b9e\u65f6\u8bfb\u5199\u548c\u4f18\u5316\u3002\\n\\n# \u4e1a\u52a1\u80cc\u666f\\n\\n\u601d\u5fc5\u9a70\u662f\u56fd\u5185\u4e13\u4e1a\u7684\u5bf9\u8bdd\u5f0f\u4eba\u5de5\u667a\u80fd\u5e73\u53f0\u516c\u53f8\uff0c\u62e5\u6709\u5168\u94fe\u8def\u7684\u667a\u80fd\u8bed\u97f3\u8bed\u8a00\u6280\u672f\uff0c\u81f4\u529b\u4e8e\u6210\u4e3a\u5168\u94fe\u8def\u667a\u80fd\u8bed\u97f3\u53ca\u8bed\u8a00\u4ea4\u4e92\u7684\u5e73\u53f0\u578b\u4f01\u4e1a\uff0c\u81ea\u4e3b\u7814\u53d1\u4e86\u65b0\u4e00\u4ee3\u4eba\u673a\u4ea4\u4e92\u5e73\u53f0 DUI \u548c\u4eba\u5de5\u667a\u80fd\u82af\u7247 TH1520\uff0c\u4e3a\u8f66\u8054\u7f51\u3001IoT \u53ca\u653f\u52a1\u3001\u91d1\u878d\u7b49\u4f17\u591a\u884c\u4e1a\u573a\u666f\u5408\u4f5c\u4f19\u4f34\u63d0\u4f9b\u81ea\u7136\u8bed\u8a00\u4ea4\u4e92\u89e3\u51b3\u65b9\u6848\u3002\\n\\n\u601d\u5fc5\u9a70\u4e8e 2019 \u5e74\u9996\u6b21\u5f15\u5165 Apache Doris \uff0c\u57fa\u4e8e Apache Doris \u6784\u5efa\u4e86\u5b9e\u65f6\u4e0e\u79bb\u7ebf\u4e00\u4f53\u7684\u6570\u4ed3\u67b6\u6784\u3002\u76f8\u5bf9\u4e8e\u8fc7\u53bb\u67b6\u6784\uff0cApache Doris \u51ed\u501f\u5176\u7075\u6d3b\u7684\u67e5\u8be2\u6a21\u578b\u3001\u6781\u4f4e\u7684\u8fd0\u7ef4\u6210\u672c\u3001\u77ed\u5e73\u5feb\u7684\u5f00\u53d1\u94fe\u8def\u4ee5\u53ca\u4f18\u79c0\u7684\u67e5\u8be2\u6027\u80fd\u7b49\u8bf8\u591a\u65b9\u9762\u4f18\u52bf\uff0c\u5982\u4eca\u5df2\u7ecf\u5728\u5b9e\u65f6\u4e1a\u52a1\u8fd0\u8425\u3001\u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u7b49\u591a\u4e2a\u4e1a\u52a1\u573a\u666f\u5f97\u5230\u8fd0\u7528\uff0c\u6ee1\u8db3\u4e86 \u8bbe\u5907\u753b\u50cf/\u7528\u6237\u6807\u7b7e\u3001\u4e1a\u52a1\u573a\u666f\u5b9e\u65f6\u8fd0\u8425\u3001\u6570\u636e\u5206\u6790\u770b\u677f\u3001\u81ea\u52a9 BI\u3001\u8d22\u52a1\u5bf9\u8d26\u7b49\u591a\u79cd\u6570\u636e\u5206\u6790\u9700\u6c42\u3002\u5728\u8fd9\u4e00\u8fc7\u7a0b\u4e2d\u6211\u4eec\u4e5f\u79ef\u7d2f\u4e86\u8bf8\u591a\u4f7f\u7528\u4e0a\u7684\u7ecf\u9a8c\uff0c\u5728\u6b64\u5206\u4eab\u7ed9\u5927\u5bb6\u3002\\n\\n# \u67b6\u6784\u6f14\u8fdb\\n\\n\u65e9\u671f\u4e1a\u52a1\u4e2d\u79bb\u7ebf\u6570\u636e\u5206\u6790\u662f\u6211\u4eec\u7684\u4e3b\u8981\u9700\u6c42\uff0c\u8fd1\u51e0\u5e74\uff0c\u968f\u7740\u4e1a\u52a1\u7684\u4e0d\u65ad\u53d1\u5c55\uff0c\u4e1a\u52a1\u573a\u666f\u5bf9\u5b9e\u65f6\u6570\u636e\u5206\u6790\u7684\u8981\u6c42\u4e5f\u8d8a\u6765\u8d8a\u9ad8\uff0c\u65e9\u671f\u6570\u4ed3\u67b6\u6784\u9010\u6e10\u529b\u4e0d\u4ece\u5fc3\uff0c\u66b4\u9732\u51fa\u5f88\u591a\u95ee\u9898\u3002\u4e3a\u4e86\u6ee1\u8db3\u4e1a\u52a1\u573a\u666f\u5bf9\u67e5\u8be2\u6027\u80fd\u3001\u54cd\u5e94\u65f6\u95f4\u53ca\u5e76\u53d1\u80fd\u529b\u66f4\u9ad8\u7684\u8981\u6c42\uff0c2019\u5e74\u6b63\u5f0f\u5f15\u5165 Apache Doris \u6784\u5efa\u5b9e\u65f6\u79bb\u7ebf\u4e00\u4f53\u7684\u6570\u4ed3\u67b6\u6784\u3002\\n\\n\u4ee5\u4e0b\u5c06\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u601d\u5fc5\u9a70\u6570\u4ed3\u67b6\u6784\u7684\u6f14\u8fdb\u4e4b\u8def\uff0c\u65e9\u671f\u6570\u4ed3\u5b58\u5728\u7684\u4f18\u7f3a\u70b9\uff0c\u540c\u65f6\u5206\u4eab\u6211\u4eec\u9009\u62e9 Apache Doris \u6784\u5efa\u65b0\u67b6\u6784\u7684\u539f\u56e0\u4ee5\u53ca\u9762\u4e34\u7684\u65b0\u95ee\u9898\u4e0e\u6311\u6218\u3002\\n\\n## \u65e9\u671f\u6570\u4ed3\u67b6\u6784\u53ca\u75db\u70b9\\n\\n![data_wharehouse_architecture_v1_0_git](/images/data_wharehouse_architecture_v1_0_git.png)\\n\\n\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u65e9\u671f\u67b6\u6784\u57fa\u4e8e Hive +Kylin \u6765\u6784\u5efa\u79bb\u7ebf\u6570\u4ed3\uff0c\u5b9e\u65f6\u6570\u4ed3\u67b6\u57fa\u4e8e Spark+MySQL \u6765\u6784\u5efa\u5b9e\u65f6\u5206\u6790\u6570\u4ed3\u3002\\n\\n\u6211\u4eec\u4e1a\u52a1\u573a\u666f\u7684\u6570\u636e\u6e90\u4e3b\u8981\u5206\u4e3a\u4e09\u7c7b\uff0c\u4e1a\u52a1\u6570\u636e\u5e93\u5982 MySQL\uff0c\u5e94\u7528\u7cfb\u7edf\u5982 K8s \u5bb9\u5668\u670d\u52a1\u65e5\u5fd7\uff0c\u8fd8\u6709\u8f66\u673a\u8bbe\u5907\u7ec8\u7aef\u7684\u65e5\u5fd7\u3002\u6570\u636e\u6e90\u901a\u8fc7 MQTT/HTTP \u534f\u8bae\u3001\u4e1a\u52a1\u6570\u636e\u5e93 Binlog \u3001Filebeat\u65e5\u5fd7\u91c7\u96c6\u7b49\u591a\u79cd\u65b9\u5f0f\u5148\u5199\u5165 Kafka \u3002\u5728\u65e9\u671f\u67b6\u6784\u4e2d\uff0c\u6570\u636e\u7ecf Kafka \u540e\u5c06\u5206\u4e3a\u5b9e\u65f6\u548c\u79bb\u7ebf\u4e24\u6761\u94fe\u8def\uff0c\u9996\u5148\u662f\u5b9e\u65f6\u90e8\u5206\uff0c\u5b9e\u65f6\u90e8\u5206\u94fe\u8def\u8f83\u77ed\uff0c\u7ecf\u8fc7 Kafka \u7f13\u51b2\u5b8c\u7684\u6570\u636e\u901a\u8fc7 Spark \u8ba1\u7b97\u540e\u653e\u5165 MySQL \u4e2d\u8fdb\u884c\u5206\u6790\uff0c\u5bf9\u4e8e\u65e9\u671f\u7684\u5b9e\u65f6\u5206\u6790\u9700\u6c42\uff0cMySQL \u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u5206\u6790\u9700\u6c42\u3002\u800c\u79bb\u7ebf\u90e8\u5206\u5219\u7531 Spark \u8fdb\u884c\u6570\u636e\u6e05\u6d17\u53ca\u8ba1\u7b97\u540e\u5728 Hive \u4e2d\u6784\u5efa\u79bb\u7ebf\u6570\u4ed3\uff0c\u5e76\u4f7f\u7528 Apache Kylin \u6784\u5efa Cube\uff0c\u5728\u6784\u5efa Cube \u4e4b\u524d\u9700\u8981\u63d0\u524d\u505a\u597d\u6570\u636e\u6a21\u578b\u7684\u7684\u8bbe\u8ba1\uff0c\u5305\u62ec\u5173\u8054\u8868\u3001\u7ef4\u5ea6\u8868\u3001\u6307\u6807\u5b57\u6bb5\u3001\u6307\u6807\u9700\u8981\u7684\u805a\u5408\u51fd\u6570\u7b49\uff0c\u901a\u8fc7\u8c03\u5ea6\u7cfb\u7edf\u8fdb\u884c\u5b9a\u65f6\u89e6\u53d1\u6784\u5efa\uff0c\u6700\u7ec8\u4f7f\u7528 HBase \u5b58\u50a8\u6784\u5efa\u597d\u7684 Cube\u3002\\n\\n### **\u65e9\u671f\u67b6\u6784\u7684\u4f18\u52bf\uff1a**\\n\\n1.  \u65e9\u671f\u67b6\u6784\u4e0e Hive \u7ed3\u5408\u8f83\u597d\uff0c\u65e0\u7f1d\u5bf9\u63a5 Hadoop \u6280\u672f\u4f53\u7cfb\u3002\\n\\n2.  \u79bb\u7ebf\u6570\u4ed3\u4e2d\u57fa\u4e8e Kylin \u7684\u9884\u8ba1\u7b97\u3001\u8868\u5173\u8054\u3001\u805a\u5408\u8ba1\u7b97\u3001\u7cbe\u786e\u53bb\u91cd\u7b49\u573a\u666f\uff0c\u67e5\u8be2\u6027\u80fd\u8f83\u9ad8\uff0c\u5728\u5e76\u53d1\u573a\u666f\u4e0b\u67e5\u8be2\u7a33\u5b9a\u6027\u4e5f\u8f83\u9ad8\u3002\\n\\n\u65e9\u671f\u67b6\u6784\u89e3\u51b3\u4e86\u5f53\u65f6\u4e1a\u52a1\u4e2d\u8f83\u4e3a\u7d27\u8feb\u7684\u67e5\u8be2\u6027\u80fd\u95ee\u9898\uff0c\u4f46\u968f\u7740\u4e1a\u52a1\u7684\u53d1\u5c55\uff0c\u5bf9\u6570\u636e\u5206\u6790\u8981\u6c42\u4e0d\u65ad\u5347\u9ad8\uff0c\u65e9\u671f\u67b6\u6784\u7f3a\u70b9\u4e5f\u5f00\u59cb\u9010\u6e10\u51f8\u663e\u51fa\u6765\u3002\\n\\n### **\u65e9\u671f\u67b6\u6784\u7684\u75db\u70b9\uff1a**\\n\\n1.  \u4f9d\u8d56\u7ec4\u4ef6\u591a\u3002Kylin \u5728 2.x\u30013.x \u7248\u672c\u4e2d\u5f3a\u4f9d\u8d56 Hadoop \u548c HBase \uff0c\u5e94\u7528\u7ec4\u4ef6\u8f83\u591a\u5bfc\u81f4\u5f00\u53d1\u94fe\u8def\u8f83\u957f\uff0c\u67b6\u6784\u7a33\u5b9a\u6027\u9690\u60a3\u591a\uff0c\u7ef4\u62a4\u6210\u672c\u6bd4\u5f88\u9ad8\u3002\\n\\n2.  Kylin \u7684\u6784\u5efa\u8fc7\u7a0b\u590d\u6742\uff0c\u6784\u5efa\u4efb\u52a1\u5bb9\u6613\u5931\u8d25\u3002Kylin \u6784\u5efa\u9700\u8981\u8fdb\u884c\u6253\u5bbd\u8868\u3001\u53bb\u91cd\u5217\u3001\u751f\u6210\u5b57\u5178\uff0c\u6784\u5efa Cube \u7b49\u5982\u679c\u6bcf\u5929\u6709 1000-2000 \u4e2a\u751a\u81f3\u66f4\u591a\u7684\u4efb\u52a1\uff0c\u5176\u4e2d\u81f3\u5c11\u4f1a\u6709 10 \u4e2a\u751a\u81f3\u66f4\u591a\u4efb\u52a1\u6784\u5efa\u5931\u8d25\uff0c\u5bfc\u81f4\u9700\u8981\u5927\u91cf\u65f6\u95f4\u53bb\u5199\u81ea\u52a8\u8fd0\u7ef4\u811a\u672c\u3002\\n\\n3.  \u7ef4\u5ea6/\u5b57\u5178\u81a8\u80c0\u4e25\u91cd\u3002\u7ef4\u5ea6\u81a8\u80c0\u6307\u7684\u662f\u5728\u67d0\u4e9b\u4e1a\u52a1\u573a\u666f\u4e2d\u9700\u8981\u591a\u4e2a\u5206\u6790\u6761\u4ef6\u548c\u5b57\u6bb5\uff0c\u5982\u679c\u5728\u6570\u636e\u5206\u6790\u6a21\u578b\u4e2d\u9009\u62e9\u4e86\u5f88\u591a\u5b57\u6bb5\u800c\u6ca1\u6709\u8fdb\u884c\u526a\u679d\uff0c\u5219\u4f1a\u5bfc\u81f4 Cube \u7ef4\u5ea6\u81a8\u80c0\u4e25\u91cd\uff0c\u6784\u5efa\u65f6\u95f4\u53d8\u957f\u3002\u800c\u5b57\u5178\u81a8\u80c0\u6307\u7684\u662f\u5728\u67d0\u4e9b\u573a\u666f\u4e2d\u9700\u8981\u957f\u65f6\u95f4\u505a\u5168\u5c40\u7cbe\u786e\u53bb\u91cd\uff0c\u4f1a\u4f7f\u5f97\u5b57\u5178\u6784\u5efa\u8d8a\u6765\u8d8a\u5927\uff0c\u6784\u5efa\u65f6\u95f4\u4e5f\u4f1a\u8d8a\u6765\u8d8a\u957f\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u5206\u6790\u6027\u80fd\u6301\u7eed\u4e0b\u964d\u3002\\n\\n4.  \u6570\u636e\u5206\u6790\u6a21\u578b\u56fa\u5b9a\uff0c\u7075\u6d3b\u6027\u8f83\u4f4e\u3002\u5728\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u5bf9\u8ba1\u7b97\u5b57\u6bb5\u6216\u8005\u4e1a\u52a1\u573a\u666f\u8fdb\u884c\u53d8\u66f4\uff0c\u5219\u8981\u56de\u6eaf\u90e8\u5206\u751a\u81f3\u5168\u90e8\u6570\u636e\u3002\\n\\n5.  \u4e0d\u652f\u6301\u6570\u636e\u660e\u7ec6\u67e5\u8be2\u3002\u65e9\u671f\u6570\u4ed3\u67b6\u6784\u662f\u65e0\u6cd5\u63d0\u4f9b\u660e\u7ec6\u6570\u636e\u67e5\u8be2\u7684\uff0cKylin \u5b98\u65b9\u7ed9\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u4e0b\u63a8\u7ed9 Presto \u505a\u660e\u7ec6\u67e5\u8be2\uff0c\u8fd9\u53c8\u5f15\u5165\u4e86\u65b0\u7684\u67b6\u6784\uff0c\u589e\u52a0\u4e86\u5f00\u53d1\u548c\u8fd0\u7ef4\u6210\u672c\u3002\\n\\n## \u67b6\u6784\u9009\u578b\\n\\n\u4e3a\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\uff0c\u6211\u4eec\u5f00\u59cb\u63a2\u7d22\u65b0\u7684\u6570\u4ed3\u67b6\u6784\u4f18\u5316\u65b9\u6848\uff0c\u5148\u540e\u5bf9\u5e02\u9762\u4e0a\u5e94\u7528\u6700\u4e3a\u5e7f\u6cdb\u7684 Apache Doris\u3001Clickhouse \u7b49 OLAP \u5f15\u64ce\u8fdb\u884c\u9009\u578b\u8c03\u7814\u3002\u76f8\u8f83\u4e8e ClickHouse \u7684\u7e41\u91cd\u8fd0\u7ef4\u3001\u5404\u79cd\u5404\u6837\u7684\u8868\u7c7b\u578b\u3001\u4e0d\u652f\u6301\u5173\u8054\u67e5\u8be2\u7b49\uff0c\u7ed3\u5408\u6211\u4eec\u7684 OLAP \u5206\u6790\u573a\u666f\u4e2d\u7684\u9700\u6c42\uff0c\u7efc\u5408\u8003\u8651\uff0cApache Doris \u8868\u73b0\u8f83\u4e3a\u4f18\u79c0\uff0c\u6700\u7ec8\u51b3\u5b9a\u5f15\u5165 Apache Doris \u3002\\n\\n## \u65b0\u6570\u4ed3\u67b6\u6784\\n\\n![data_wharehouse_architecture_v2_0_git](/images/data_wharehouse_architecture_v2_0_git.png)\\n\\n\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6211\u4eec\u57fa\u4e8e Apache Doris \u6784\u5efa\u4e86\u5b9e\u65f6+\u79bb\u7ebf\u4e00\u4f53\u7684\u65b0\u6570\u4ed3\u67b6\u6784\uff0c\u4e0e\u65e9\u671f\u67b6\u6784\u4e0d\u540c\u7684\u662f\uff0c\u5b9e\u65f6\u548c\u79bb\u7ebf\u7684\u6570\u636e\u5206\u522b\u8fdb\u884c\u5904\u7406\u540e\u5747\u5199\u5165 Apache Doris \u4e2d\u8fdb\u884c\u5206\u6790\u3002\\n\\n\u56e0\u5386\u53f2\u539f\u56e0\u6570\u636e\u8fc1\u79fb\u96be\u5ea6\u8f83\u5927\uff0c\u79bb\u7ebf\u90e8\u5206\u57fa\u672c\u548c\u65e9\u671f\u6570\u4ed3\u67b6\u6784\u4fdd\u6301\u4e00\u81f4\uff0c\u5728Hive\u4e0a\u6784\u5efa\u79bb\u7ebf\u6570\u4ed3\uff0c\u5f53\u7136\u5b8c\u5168\u53ef\u4ee5\u5728Apache Doris \u4e0a\u76f4\u63a5\u6784\u5efa\u79bb\u7ebf\u6570\u4ed3\u3002\\n\\n\u76f8\u5bf9\u65e9\u671f\u67b6\u6784\u4e0d\u540c\u7684\u662f\uff0c\u79bb\u7ebf\u6570\u636e\u901a\u8fc7 Spark \u8fdb\u884c\u6e05\u6d17\u8ba1\u7b97\u540e\u5728 Hive \u4e2d\u6784\u5efa\u6570\u4ed3\uff0c\u7136\u540e\u901a\u8fc7 Broker Load \u5c06\u5b58\u50a8\u5728 Hive \u4e2d\u7684\u6570\u636e\u5199\u5165\u5230 Apache Doris \u4e2d\u3002\u8fd9\u91cc\u8981\u8bf4\u660e\u7684\uff0c Broker Load \u6570\u636e\u5bfc\u5165\u901f\u5ea6\u5f88\u5feb\uff0c\u5929\u7ea7\u522b 100-200G \u6570\u636e\u5bfc\u5165\u5230 Apache Doris \u4e2d\u4ec5\u9700\u8981 10-20 \u5206\u949f\u3002\\n\\n\u5b9e\u65f6\u6570\u636e\u6d41\u90e8\u5206\uff0c\u65b0\u67b6\u6784\u4f7f\u7528\u4e86 Doris-Spark-Connector \u6765\u6d88\u8d39 Kafka \u4e2d\u7684\u6570\u636e\u5e76\u7ecf\u8fc7\u7b80\u5355\u8ba1\u7b97\u540e\u5199\u5165 Apache Doris \u3002\u4ece\u67b6\u6784\u56fe\u6240\u793a\uff0c\u5b9e\u65f6\u548c\u79bb\u7ebf\u6570\u636e\u7edf\u4e00\u5728 Apache Doris \u8fdb\u884c\u5206\u6790\u5904\u7406\uff0c\u6ee1\u8db3\u4e86\u6570\u636e\u5e94\u7528\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u5b9e\u73b0\u4e86\u5b9e\u65f6+\u79bb\u7ebf\u4e00\u4f53\u7684\u6570\u4ed3\u67b6\u6784\u3002\\n\\n### **\u65b0\u67b6\u6784\u7684\u6536\u76ca\uff1a**\\n\\n1.  \u6781\u7b80\u8fd0\u7ef4\uff0c\u7ef4\u62a4\u6210\u672c\u4f4e\uff0c\u4e0d\u4f9d\u8d56 Hadoop \u751f\u6001\u7ec4\u4ef6\u3002Apache Doris \u7684\u90e8\u7f72\u7b80\u5355\uff0c\u53ea\u6709 FE \u548c BE \u4e24\u4e2a\u8fdb\u7a0b\uff0c FE \u548c BE \u8fdb\u7a0b\u90fd\u662f\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55\u7684\uff0c\u5355\u96c6\u7fa4\u652f\u6301\u5230\u6570\u767e\u53f0\u673a\u5668\uff0c\u6570\u5341 PB \u7684\u5b58\u50a8\u5bb9\u91cf\uff0c\u5e76\u4e14\u8fd9\u4e24\u7c7b\u8fdb\u7a0b\u901a\u8fc7\u4e00\u81f4\u6027\u534f\u8bae\u6765\u4fdd\u8bc1\u670d\u52a1\u7684\u9ad8\u53ef\u7528\u548c\u6570\u636e\u7684\u9ad8\u53ef\u9760\u3002\u8fd9\u79cd\u9ad8\u5ea6\u96c6\u6210\u7684\u67b6\u6784\u8bbe\u8ba1\u6781\u5927\u7684\u964d\u4f4e\u4e86\u4e00\u6b3e\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u8fd0\u7ef4\u6210\u672c\u3002\u5728\u4f7f\u7528 Doris \u4e09\u5e74\u65f6\u95f4\u4e2d\u82b1\u8d39\u7684\u8fd0\u7ef4\u65f6\u95f4\u975e\u5e38\u5c11\uff0c\u76f8\u6bd4\u4e8e\u57fa\u4e8e Kylin \u642d\u5efa\u7684\u65e9\u671f\u67b6\u6784\uff0c\u65b0\u67b6\u6784\u82b1\u8d39\u6781\u5c11\u7684\u65f6\u95f4\u53bb\u505a\u8fd0\u7ef4\u3002\\n\\n2.  \u94fe\u8def\u77ed\uff0c\u5f00\u53d1\u6392\u67e5\u95ee\u9898\u96be\u5ea6\u5927\u5927\u964d\u4f4e\u3002\u57fa\u4e8e Doris \u6784\u5efa\u5b9e\u65f6\u548c\u79bb\u7ebf\u7edf\u4e00\u6570\u4ed3\uff0c\u652f\u6301\u5b9e\u65f6\u6570\u636e\u670d\u52a1\u3001\u4ea4\u4e92\u6570\u636e\u5206\u6790\u548c\u79bb\u7ebf\u6570\u636e\u5904\u7406\u573a\u666f\uff0c\u8fd9\u4f7f\u5f97\u5f00\u53d1\u94fe\u8def\u53d8\u7684\u5f88\u77ed\uff0c\u95ee\u9898\u6392\u67e5\u96be\u5ea6\u5927\u5927\u964d\u4f4e\u3002\\n\\n3.  \u652f\u6301 Runtime \u5f62\u5f0f\u7684 Join \u67e5\u8be2\u3002Runtime \u7c7b\u4f3c MySQL \u7684\u8868\u5173\u8054\uff0c\u8fd9\u5bf9\u6570\u636e\u5206\u6790\u6a21\u578b\u9891\u7e41\u53d8\u66f4\u7684\u573a\u666f\u975e\u5e38\u53cb\u597d\uff0c\u89e3\u51b3\u4e86\u65e9\u671f\u7ed3\u6784\u6570\u636e\u6a21\u578b\u7075\u6d3b\u6027\u8f83\u4f4e\u7684\u95ee\u9898\u3002\\n\\n4.  \u540c\u65f6\u652f\u6301 Join\u3001\u805a\u5408\u3001\u660e\u7ec6\u67e5\u8be2\u3002\u89e3\u51b3\u4e86\u65e9\u671f\u67b6\u6784\u4e2d\u90e8\u5206\u573a\u666f\u65e0\u6cd5\u67e5\u8be2\u6570\u636e\u660e\u7ec6\u7684\u95ee\u9898\u3002\\n\\n5.  \u652f\u6301\u591a\u79cd\u52a0\u901f\u67e5\u8be2\u65b9\u5f0f\u3002\u652f\u6301\u4e0a\u5377\u7d22\u5f15\uff0c\u7269\u5316\u89c6\u56fe\uff0c\u901a\u8fc7\u4e0a\u5377\u7d22\u5f15\u5b9e\u73b0\u4e8c\u7ea7\u7d22\u5f15\u6765\u52a0\u901f\u67e5\u8be2\uff0c\u6781\u5927\u7684\u63d0\u5347\u4e86\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u3002\\n\\n6.  \u652f\u6301\u591a\u79cd\u8054\u90a6\u67e5\u8be2\u65b9\u5f0f\u3002\u652f\u6301\u5bf9 Hive\u3001Iceberg\u3001Hudi \u7b49\u6570\u636e\u6e56\u548c MySQL\u3001Elasticsearch \u7b49\u6570\u636e\u5e93\u7684\u8054\u90a6\u67e5\u8be2\u5206\u6790\u3002\\n\\n### **\u95ee\u9898\u548c\u6311\u6218\uff1a**\\n\\n\u5728\u5efa\u8bbe\u65b0\u6570\u4ed3\u67b6\u6784\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff1a\\n\\n-   \u9ad8\u5e76\u53d1\u573a\u666f\u5bf9 Apache Doris \u67e5\u8be2\u6027\u80fd\u5b58\u5728\u4e00\u5b9a\u5f71\u54cd\u3002\u6211\u4eec\u5206\u522b\u5728 Doris 0.12 \u548c Doris 1.1\u7248\u672c\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff0c\u540c\u4e00\u65f6\u95f4\u540c\u6837\u7684 SQL\uff0c10 \u5e76\u53d1\u548c 50 \u5e76\u53d1\u8fdb\u884c\u8bbf\u95ee\uff0c\u6027\u80fd\u5dee\u522b\u8f83\u5927\u3002\\n\\n-   \u5728\u5b9e\u65f6\u5199\u5165\u573a\u666f\u4e2d\uff0c\u5f53\u5b9e\u65f6\u5199\u5165\u7684\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u65f6\uff0c\u4f1a\u4f7f\u5f97 IO \u6bd4\u8f83\u5bc6\u96c6\uff0c\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u4e0b\u964d\u3002\\n\\n-   \u5927\u6570\u636e\u91cf\u4e0b\u5b57\u7b26\u4e32\u7cbe\u786e\u53bb\u91cd\u8f83\u6162\u3002\u76ee\u524d\u4f7f\u7528\u7684\u662f count distinct \u51fd\u6570\u3001Shuffle \u548c\u805a\u5408\u7b97\u5b50\u53bb\u91cd\uff0c\u6b64\u65b9\u5f0f\u7b97\u529b\u6bd4\u8f83\u6162\u3002\u5f53\u524d\u4e1a\u5185\u5e38\u89c1\u7684\u89e3\u51b3\u65b9\u6cd5\u4e00\u822c\u662f\u9488\u5bf9\u53bb\u91cd\u5217\u6784\u5efa\u5b57\u5178\uff0c\u57fa\u4e8e\u5b57\u5178\u6784\u5efa Bitmap \u7d22\u5f15\u540e\u4f7f\u7528 Bitmap \u51fd\u6570\u53bb\u91cd\u3002\u76ee\u524d Apache Doris \u53ea\u652f\u6301\u6570\u5b57\u7c7b\u578b\u7684 Bitmap \u7d22\u5f15\uff0c\u5177\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002\\n\\n# \u4e1a\u52a1\u573a\u666f\u7684\u5e94\u7528\\n\\nApache Doris \u5728\u601d\u5fc5\u9a70\u6700\u5148\u5e94\u7528\u5728\u5b9e\u65f6\u8fd0\u8425\u4e1a\u52a1\u573a\u666f\u4ee5\u53ca\u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u573a\u666f\uff0c\u672c\u7ae0\u8282\u5c06\u4ecb\u7ecd\u4e24\u4e2a\u573a\u666f\u7684\u9700\u6c42\u53ca\u5e94\u7528\u60c5\u51b5\u3002\\n\\n## \u5b9e\u65f6\u8fd0\u8425\u4e1a\u52a1\u573a\u666f\\n\\n![real-time_operation_git](/images/real-time_operation_git.png)\\n\\n\u9996\u5148\u662f\u5b9e\u65f6\u8fd0\u8425\u4e1a\u52a1\u573a\u666f\uff0c\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5b9e\u65f6\u8fd0\u8425\u4e1a\u52a1\u573a\u666f\u7684\u6280\u672f\u67b6\u6784\u548c\u524d\u6587\u6240\u8ff0\u7684\u65b0\u7248\u6570\u4ed3\u67b6\u6784\u57fa\u672c\u4e00\u81f4\uff1a\\n\\n-   \u6570\u636e\u6e90\uff1a\u6570\u636e\u6e90\u65b0\u7248\u67b6\u6784\u56fe\u4e2d\u4e00\u81f4\uff0c\u5305\u62ec MySQL \u4e2d\u7684\u4e1a\u52a1\u6570\u636e\uff0c\u5e94\u7528\u7cfb\u7edf\u57cb\u70b9\u6570\u636e\u4ee5\u53ca\u8bbe\u5907\u548c\u7ec8\u7aef\u65e5\u5fd7\u3002\\n\\n-   \u6570\u636e\u5bfc\u5165\uff1a\u79bb\u7ebf\u6570\u636e\u5bfc\u5165\u4f7f\u7528 Broker Load\uff0c\u5b9e\u65f6\u6570\u636e\u5bfc\u5165\u4f7f\u7528 Doris-Spark-Connector \u3002\\n\\n-   \u6570\u636e\u5b58\u50a8\u4e0e\u5f00\u53d1\uff1a\u51e0\u4e4e\u6240\u6709\u7684\u5b9e\u65f6\u6570\u4ed3\u5168\u90e8\u5728 Apache Doris \u6784\u5efa\uff0c\u6709\u4e00\u90e8\u5206\u79bb\u7ebf\u6570\u636e\u653e\u5728 Airflow \u4e0a\u6267\u884c DAG \u8dd1\u6279\u4efb\u52a1\u3002\\n\\n-   \u6570\u636e\u5e94\u7528\uff1a\u6700\u4e0a\u5c42\u662f\u4e1a\u52a1\u4fa7\u63d0\u51fa\u7684\u4e1a\u52a1\u5206\u6790\u9700\u6c42\uff0c\u5305\u62ec\u5927\u5c4f\u5c55\u793a\uff0c\u6570\u636e\u8fd0\u8425\u7684\u5b9e\u65f6\u770b\u677f\u3001\u7528\u6237\u753b\u50cf\u3001BI \u770b\u677f\u7b49\u3002\\n\\n**\u5728\u5b9e\u65f6\u8fd0\u8425\u4e1a\u52a1\u573a\u666f\u4e2d\uff0c\u6570\u636e\u5206\u6790\u7684\u9700\u6c42\u4e3b\u8981\u6709\u4e24\u65b9\u9762\uff1a**\\n\\n-   \u7531\u4e8e\u5b9e\u65f6\u5bfc\u5165\u6570\u636e\u91cf\u6bd4\u8f83\u5927\uff0c\u56e0\u6b64\u5bf9\u5b9e\u65f6\u6570\u636e\u7684\u67e5\u8be2\u6548\u7387\u8981\u6c42\u8f83\u9ad8\\n\\n-   \u5728\u6b64\u573a\u666f\u4e2d\uff0c\u6709 20+ \u4eba\u7684\u56e2\u961f\u5728\u8fd0\u8425\uff0c\u9700\u8981\u540c\u65f6\u5f00\u6570\u636e\u8fd0\u8425\u7684\u770b\u677f\uff0c\u56e0\u6b64\u5bf9\u5b9e\u65f6\u5199\u5165\u7684\u6027\u80fd\u548c\u67e5\u8be2\u5e76\u53d1\u4f1a\u6709\u6bd4\u8f83\u9ad8\u7684\u8981\u6c42\u3002\\n\\n## \u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u573a\u666f\\n\\n\u9664\u4ee5\u4e0a\u4e4b\u5916\uff0cApache Doris \u5728\u601d\u5fc5\u9a70\u7b2c\u4e8c\u4e2a\u5e94\u7528\u662f\u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u573a\u666f\u3002\\n\\n![ai_chatbots_git](/images/ai_chatbots_git.png)\\n\\n\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u4e00\u822c\u7684 BI \u573a\u666f\u4e2d\uff0c\u7528\u6237\u65b9\u6bd4\u5982\u5546\u52a1\u3001\u8d22\u52a1\u3001\u9500\u552e\u3001\u8fd0\u8425\u3001\u9879\u76ee\u7ecf\u7406\u7b49\u4f1a\u63d0\u51fa\u9700\u6c42\u7ed9\u6570\u636e\u5206\u6790\u4eba\u5458\uff0c\u6570\u636e\u5206\u6790\u4eba\u5458\u5728 BI \u5e73\u53f0\u4e0a\u505a\u6570\u636e\u770b\u677f\uff0c\u6700\u7ec8\u628a\u770b\u677f\u63d0\u4f9b\u7ed9\u7528\u6237\uff0c\u7528\u6237\u4ece BI \u770b\u677f\u4e0a\u83b7\u53d6\u6240\u9700\u4fe1\u606f\uff0c\u4f46\u662f\u6709\u65f6\u5019\u7528\u6237\u60f3\u8981\u67e5\u770b\u660e\u7ec6\u6570\u636e\u3001\u5b9a\u5236\u5316\u7684\u770b\u677f\u9700\u6c42\uff0c\u6216\u8005\u5728\u67d0\u4e9b\u573a\u666f\u9700\u505a\u4efb\u610f\u7ef4\u5ea6\u7684\u4e0a\u5377\u6216\u8005\u4e0b\u94bb\u7684\u5206\u6790\uff0c\u4e00\u822c\u573a\u666f\u4e0b BI \u770b\u677f\u662f\u4e0d\u652f\u6301\u7684\u7684\uff0c\u57fa\u4e8e\u4ee5\u4e0a\u6240\u8ff0\u7528\u6237\u9700\u6c42\uff0c\u6211\u4eec\u6253\u9020\u4e86\u81ea\u52a9\u5bf9\u8bdd\u5f0f BI \u573a\u666f\u6765\u89e3\u51b3\u7528\u6237\u5b9a\u5236\u5316\u7684\u9700\u6c42\u3002\\n\\n\u4e0e\u4e00\u822c BI \u573a\u666f\u4e0d\u540c\u7684\u662f\uff0c\u6211\u4eec\u5c06\u81ea\u52a9/\u5bf9\u8bdd\u5f0f BI \u573a\u666f\u4ece\u6570\u636e\u5206\u6790\u4eba\u5458\u65b9\u4e0b\u6c89\u5230\u7528\u6237\u65b9\uff0c\u7528\u6237\u65b9\u53ea\u9700\u8981\u901a\u8fc7\u6253\u5b57\uff0c\u63cf\u8ff0\u6570\u636e\u5206\u6790\u7684\u9700\u6c42\u3002\u57fa\u4e8e\u6211\u4eec\u516c\u53f8\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u80fd\u529b\uff0c\u81ea\u52a9/\u5bf9\u8bdd\u5f0f BI \u573a\u666f\u4f1a\u5c06\u81ea\u7136\u8bed\u8a00\u8f6c\u6362\u6210SQL\uff0c\u7c7b\u4f3c NL2SQL \u6280\u672f\uff0c\u9700\u8981\u8bf4\u660e\u7684\u662f\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u5b9a\u5236\u7684\u81ea\u7136\u8bed\u8a00\u89e3\u6790\uff0c\u76f8\u5bf9\u5f00\u6e90\u7684 NL2SQL \u547d\u4e2d\u7387\u9ad8\u3001\u89e3\u6790\u7ed3\u679c\u66f4\u7cbe\u786e\u3002\u5f53\u81ea\u7136\u8bed\u8a00\u8f6c\u6362\u6210 SQL \u540e\uff0c\u5c06 SQL \u7ed9\u5230 Apache Doris \u67e5\u8be2\u5f97\u5230\u5206\u6790\u7ed3\u679c\u3002\u7531\u6b64\uff0c\u7528\u6237\u901a\u8fc7\u6253\u5b57\u5c31\u53ef\u4ee5\u968f\u65f6\u67e5\u770b\u4efb\u610f\u573a\u666f\u4e0b\u7684\u660e\u7ec6\u6570\u636e\uff0c\u6216\u8005\u4efb\u610f\u5b57\u6bb5\u7684\u4e0a\u5377\u3001\u4e0b\u94bb\u3002\\n\\n\u76f8\u6bd4 Apache Kylin\u3001Apache Druid \u7b49\u9884\u8ba1\u7b97\u7684 OLAP \u5f15\u64ce\uff0cApache Doris \u7b26\u5408\u4ee5\u4e0b\u51e0\u4e2a\u7279\u70b9\uff1a\\n\\n-   \u67e5\u8be2\u7075\u6d3b\uff0c\u6a21\u578b\u4e0d\u56fa\u5b9a\uff0c\u652f\u6301\u81ea\u7531\u5b9a\u5236\u573a\u666f\u3002\\n\\n-   \u652f\u6301\u8868\u5173\u8054\u3001\u805a\u5408\u8ba1\u7b97\u3001\u660e\u7ec6\u67e5\u8be2\u3002\\n\\n-   \u54cd\u5e94\u65f6\u95f4\u8981\u5feb\u901f\u3002\\n\\n\u56e0\u6b64\u6211\u4eec\u5f88\u987a\u5229\u7684\u8fd0\u7528 Apache Doris \u5b9e\u73b0\u4e86\u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u573a\u666f\u3002\u540c\u65f6\uff0c\u81ea\u52a9/\u5bf9\u8bdd\u5f0f\u5206\u6790\u5728\u6211\u4eec\u516c\u53f8\u591a\u4e2a\u6570\u636e\u5206\u6790\u573a\u666f\u5e94\u7528\u53cd\u9988\u975e\u5e38\u597d\u3002\\n\\n# \u5b9e\u8df5\u7ecf\u9a8c\\n\\n\u57fa\u4e8e\u4e0a\u9762\u7684\u4e24\u4e2a\u573a\u666f\uff0c\u6211\u4eec\u4f7f\u7528\u8fc7\u7a0b\u5f53\u4e2d\u79ef\u7d2f\u4e86\u4e00\u4e9b\u7ecf\u9a8c\u548c\u5fc3\u5f97\uff0c\u5206\u4eab\u7ed9\u5927\u5bb6\u3002\\n\\n### **\u6570\u4ed3** **\u8868\u8bbe\u8ba1\uff1a**\\n\\n1.  \u5343\u4e07\u7ea7(\u91cf\u7ea7\u4f9b\u53c2\u8003\uff0c\u8ddf\u96c6\u7fa4\u89c4\u6a21\u6709\u5173\u7cfb)\u4ee5\u4e0b\u7684\u6570\u636e\u8868\u4f7f\u7528 Duplicate \u8868\u7c7b\u578b\uff0cDuplicate \u8868\u7c7b\u578b\u540c\u65f6\u652f\u6301\u805a\u5408\u3001\u660e\u7ec6\u67e5\u8be2\uff0c\u4e0d\u9700\u8981\u989d\u5916\u5199\u660e\u7ec6\u8868\u3002\\n\\n2.  \u5f53\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u65f6\uff0c\u4f7f\u7528 Aggregate \u805a\u5408\u8868\u7c7b\u578b\uff0c\u5728\u805a\u5408\u8868\u7c7b\u578b\u4e0a\u505a\u4e0a\u5377\u7d22\u5f15\uff0c\u4f7f\u7528\u7269\u5316\u89c6\u56fe\u4f18\u5316\u67e5\u8be2\u3001\u4f18\u5316\u805a\u5408\u5b57\u6bb5\u3002\u7531\u4e8e Aggregate \u8868\u7c7b\u578b\u662f\u9884\u8ba1\u7b97\u8868\uff0c\u4f1a\u4e22\u5931\u660e\u7ec6\u6570\u636e\uff0c\u5982\u6709\u660e\u7ec6\u67e5\u8be2\u9700\u6c42\uff0c\u9700\u8981\u989d\u5916\u5199\u4e00\u5f20\u660e\u7ec6\u8868\u3002\\n\\n3.  \u5f53\u6570\u636e\u91cf\u53c8\u5927\u3001\u5173\u8054\u8868\u53c8\u591a\u65f6\uff0c\u53ef\u7528 ETL \u5148\u5199\u6210\u5bbd\u8868\uff0c\u7136\u540e\u5bfc\u5165\u5230 Doris\uff0c\u7ed3\u5408 Aggregate \u5728\u805a\u5408\u8868\u7c7b\u578b\u4e0a\u9762\u505a\u4f18\u5316\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b98\u65b9\u63a8\u8350Doris \u7684 Join \u4f18\u5316\uff1a<https://doris.apache.org/zh-CN/docs/dev/advanced/join-optimization/doris-join-optimization>\\n\\n### **\u5199\u5165\uff1a**\\n\\n1.  \u901a\u8fc7 Spark Connector \u6216 Flink Connector \u66ff\u4ee3 Routine Load\uff1a \u6700\u65e9\u6211\u4eec\u4f7f\u7528\u7684\u662f Routine Load \u5b9e\u65f6\u5199\u5165 BE \u8282\u70b9\uff0c Routine Load \u7684\u5de5\u4f5c\u539f\u7406\u662f\u901a\u8fc7 SQL \u5728 FE \u8282\u70b9\u8d77\u4e00\u4e2a\u7c7b\u4f3c\u4e8e Task Manager \u7684\u7ba1\u7406\uff0c\u628a\u4efb\u52a1\u5206\u53d1\u7ed9 BE \u8282\u70b9\uff0c\u5728 BE \u8282\u70b9\u8d77 Routine Load \u4efb\u52a1\u3002\u5728\u6211\u4eec\u5b9e\u65f6\u573a\u666f\u5e76\u53d1\u5f88\u9ad8\u7684\u60c5\u51b5\u4e0b\uff0cBE \u8282\u70b9 CPU \u5cf0\u503c\u4e00\u822c\u4f1a\u8fbe\u5230 70% \u5de6\u53f3\uff0c\u5728\u8fd9\u4e2a\u524d\u63d0\u4e0b\uff0cRoutine Load \u4e5f\u8dd1\u5230 BE \u8282\u70b9\uff0c\u5c06\u4e25\u91cd\u5f71\u54cd BE \u8282\u70b9\u7684\u67e5\u8be2\u6027\u80fd\uff0c\u5e76\u4e14\u67e5\u8be2 CPU \u4e5f\u5c06\u5f71\u54cd Routine Load \u5bfc\u5165\uff0c Routine Load \u5c31\u4f1a\u56e0\u4e3a\u5404\u79cd\u8d44\u6e90\u7ade\u4e89\u6b7b\u6389\u3002\u9762\u5bf9\u6b64\u95ee\u9898\uff0c\u76ee\u524d\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06 Routine Load \u4ece BE \u8282\u70b9\u62ff\u51fa\u6765\u653e\u5230\u8d44\u6e90\u8c03\u5ea6\u4e0a\uff0c\u7528 Doris-Spark/Flink-Connector \u66ff\u6362 Routine Load\u3002\u5f53\u65f6 Doris-spark-Connector \u8fd8\u6ca1\u6709\u5b9e\u65f6\u5199\u5165\u7684\u529f\u80fd\uff0c\u6211\u4eec\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5e76\u5c06\u65b9\u6848\u8d21\u732e\u7ed9\u793e\u533a\u3002\\n\\n2.  \u901a\u8fc7\u6512\u6279\u6765\u63a7\u5236\u5b9e\u65f6\u5199\u5165\u9891\u7387\uff1a\u5f53\u5b9e\u65f6\u5199\u5165\u9891\u7387\u8f83\u9ad8\u65f6\uff0c\u5c0f\u6587\u4ef6\u5806\u79ef\u8fc7\u591a\u3001\u67e5\u8be2 IO \u5347\u9ad8\uff0c\u5c0f\u6587\u4ef6\u6392\u5e8f\u5f52\u5e76\u7684\u8fc7\u7a0b\u5c06\u5bfc\u81f4\u67e5\u8be2\u65f6\u95f4\u52a0\u957f\uff0c\u8fdb\u800c\u51fa\u73b0\u67e5\u8be2\u6296\u52a8\u7684\u60c5\u51b5\u3002\u5f53\u524d\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u63a7\u5236\u5bfc\u5165\u9891\u6b21\uff0c\u8c03\u6574 Compaction \u7684\u5408\u5e76\u7ebf\u7a0b\u3001\u95f4\u9694\u65f6\u95f4\u7b49\u53c2\u6570\uff0c\u907f\u514d Tablet \u4e0b\u5c0f\u6587\u4ef6\u7684\u5806\u79ef\u3002\\n\\n### \u67e5\u8be2\uff1a\\n\\n1.  \u589e\u52a0 SQL \u9ed1\u540d\u5355\uff0c\u63a7\u5236\u5f02\u5e38\u5927\u67e5\u8be2\u3002\u4e2a\u522b\u7528\u6237\u5728\u67e5\u8be2\u65f6\u6ca1\u6709\u52a0 where \u6761\u4ef6\uff0c\u6216\u8005\u67e5\u8be2\u65f6\u9009\u62e9\u7684\u65f6\u95f4\u8303\u56f4\u8f83\u957f\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b BE \u8282\u70b9\u7684 SQL \u4f1a\u628a\u78c1\u76d8\u7684\u8d1f\u8f7d\u548c CPU \u62c9\u9ad8\uff0c\u5bfc\u81f4\u5176\u4ed6\u8282\u70b9\u7684 SQL \u67e5\u8be2\u53d8\u6162\uff0c\u751a\u81f3\u51fa\u73b0 BE \u8282\u70b9\u5b95\u673a\u7684\u60c5\u51b5\u3002\u76ee\u524d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u4f7f\u7528 SQL \u9ed1\u540d\u5355\u7981\u6b62\u5168\u8868\u53ca\u5927\u91cf\u5206\u533a\u5b9e\u65f6\u8868\u7684\u67e5\u8be2\u3002\\n\\n2.  \u4f7f\u7528 SQL Cache \u548c SQL Proxy \u5b9e\u73b0\u9ad8\u5e76\u53d1\u8bbf\u95ee\u3002\u540c\u65f6\u4f7f\u7528 SQL Cache \u548c SQL Proxy \u7684\u539f\u56e0\u5728\u4e8e\uff0cSQL Cache\u7684\u9897\u7c92\u5ea6\u5230\u8868\u7684\u5206\u533a\uff0c\u5982\u679c\u6570\u636e\u53d1\u751f\u53d8\u66f4\uff0c SQL Cache \u5c06\u5931\u6548\uff0c\u56e0\u6b64 SQL Cache \u7f13\u5b58\u9002\u5408\u6570\u636e\u66f4\u65b0\u9891\u6b21\u8f83\u4f4e\u7684\u573a\u666f\uff08\u79bb\u7ebf\u573a\u666f\u3001\u5386\u53f2\u5206\u533a\u7b49\uff09\u3002\u5bf9\u4e8e\u6570\u636e\u9700\u8981\u6301\u7eed\u5199\u5230\u6700\u65b0\u5206\u533a\u7684\u573a\u666f\uff0c SQL Cache \u5219\u662f\u4e0d\u9002\u7528\u7684\u3002\u5f53 SQL Cache \u5931\u6548\u65f6 Query \u5c06\u5168\u90e8\u53d1\u9001\u5230 Doris \u9020\u6210\u91cd\u590d\u7684 Runtime \u8ba1\u7b97\uff0c\u800c SQL Proxy \u53ef\u4ee5\u8bbe\u7f6e\u4e00\u79d2\u5de6\u53f3\u7684\u7f13\u5b58\uff0c\u53ef\u4ee5\u907f\u514d\u76f8\u540c\u6761\u4ef6\u7684\u91cd\u590d\u8ba1\u7b97\uff0c\u6709\u6548\u63d0\u9ad8\u96c6\u7fa4\u7684\u5e76\u53d1\u3002\\n\\n### \u5b58\u50a8\uff1a\\n\\n\u4f7f\u7528 SSD \u548c HDD \u505a\u70ed\u6e29\u6570\u636e\u5b58\u50a8\u5468\u671f\u7684\u5206\u79bb\uff0c\u8fd1\u4e00\u5e74\u4ee5\u5185\u7684\u6570\u636e\u5b58\u5728 SSD\uff0c\u8d85\u8fc7\u4e00\u5e74\u7684\u6570\u636e\u5b58\u5728 HDD\u3002Apache Doris \u652f\u6301\u5bf9\u5206\u533a\u8bbe\u7f6e\u51b7\u5374\u65f6\u95f4\uff0c\u4f46\u53ea\u652f\u6301\u521b\u5efa\u8868\u5206\u533a\u65f6\u8bbe\u7f6e\u51b7\u5374\u7684\u65f6\u95f4\uff0c\u76ee\u524d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u8bbe\u7f6e\u81ea\u52a8\u540c\u6b65\u903b\u8f91\uff0c\u628a\u5386\u53f2\u7684\u4e00\u4e9b\u6570\u636e\u4ece SSD \u8fc1\u79fb\u5230 HDD\uff0c\u786e\u4fdd 1\u5e74\u5185\u7684\u6570\u636e\u90fd\u653e\u5728 SSD \u4e0a\u3002\\n\\n### \u5347\u7ea7\uff1a\\n\\n\u5347\u7ea7\u524d\u4e00\u5b9a\u8981\u5907\u4efd\u5143\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u65b0\u5f00\u96c6\u7fa4\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7 Broker \u5c06\u6570\u636e\u6587\u4ef6\u5907\u4efd\u5230 S3 \u6216 HDFS \u7b49\u8fdc\u7aef\u5b58\u50a8\u7cfb\u7edf\u4e2d\uff0c\u518d\u901a\u8fc7\u5907\u4efd\u6062\u590d\u7684\u65b9\u5f0f\u5c06\u65e7\u96c6\u7fa4\u6570\u636e\u5bfc\u5165\u5230\u65b0\u96c6\u7fa4\u4e2d\u3002\\n\\n## **\u5347\u7ea7\u524d\u540e\u6027\u80fd\u5bf9\u6bd4**\\n\\n![doris_1_1_performance_test_git](/images/doris_1_1_performance_test_git.png)\\n\\n\u601d\u5fc5\u9a70\u6700\u65e9\u662f\u4ece 0.12 \u7248\u672c\u5f00\u59cb\u4f7f\u7528 Apache Doris \u7684\uff0c\u5728\u4eca\u5e74\u6211\u4eec\u4e5f\u5b8c\u6210\u4e86\u4ece 0.15 \u7248\u672c\u5230\u6700\u65b0 1.1 \u7248\u672c\u7684\u5347\u7ea7\u64cd\u4f5c\uff0c\u5e76\u8fdb\u884c\u4e86\u57fa\u4e8e\u771f\u5b9e\u4e1a\u52a1\u573a\u666f\u548c\u6570\u636e\u7684\u6027\u80fd\u6d4b\u8bd5\u3002\\n\\n\u4ece\u4ee5\u4e0a\u6d4b\u8bd5\u62a5\u544a\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u603b\u5171 13 \u4e2a\u6d4b\u8bd5 SQL \u4e2d\uff0c\u524d 3 \u4e2a SQL \u5347\u7ea7\u524d\u540e\u6027\u80fd\u5dee\u5f02\u4e0d\u660e\u663e\uff0c\u56e0\u4e3a\u8fd9 3 \u4e2a\u573a\u666f\u4e3b\u8981\u662f\u7b80\u5355\u7684\u805a\u5408\u51fd\u6570\uff0c\u5bf9 Apache Doris \u6027\u80fd\u8981\u6c42\u4e0d\u9ad8\uff0c0.15 \u7248\u672c\u5373\u53ef\u6ee1\u8db3\u9700\u6c42\u3002\u800c\u5728 Q4 \u4e4b\u540e\u7684\u573a\u666f\u4e2d \uff0cSQL \u8f83\u4e3a\u590d\u6742\uff0cGroup By \u6709\u591a\u4e2a\u5b57\u6bb5\u3001\u591a\u4e2a\u5b57\u6bb5\u805a\u5408\u51fd\u6570\u4ee5\u53ca\u590d\u6742\u51fd\u6570\uff0c\u56e0\u6b64\u5347\u7ea7\u65b0\u7248\u672c\u540e\u5e26\u6765\u7684\u6027\u80fd\u63d0\u5347\u975e\u5e38\u660e\u663e\uff0c\u5e73\u5747\u67e5\u8be2\u6027\u80fd\u8f83 0.15 \u7248\u672c\u63d0\u5347 2-3 \u500d\u3002\u7531\u6b64\uff0c\u975e\u5e38\u63a8\u8350\u5927\u5bb6\u53bb\u5347\u7ea7\u5230 Apache Doris \u6700\u65b0\u7248\u672c\u3002\\n\\n# \u603b\u7ed3\u548c\u6536\u76ca\\n\\n1.  Apache Doris \u652f\u6301\u6784\u5efa\u79bb\u7ebf+\u5b9e\u65f6\u7edf\u4e00\u6570\u4ed3\uff0c\u4e00\u4e2a ETL \u811a\u672c\u5373\u53ef\u652f\u6301\u5b9e\u65f6\u548c\u79bb\u7ebf\u6570\u4ed3\uff0c\u5927\u5927\u7f29\u77ed\u5f00\u53d1\u5468\u671f\uff0c\u964d\u4f4e\u5b58\u50a8\u6210\u672c\uff0c\u907f\u514d\u4e86\u79bb\u7ebf\u548c\u5b9e\u65f6\u6307\u6807\u4e0d\u4e00\u81f4\u7b49\u95ee\u9898\u3002\\n\\n2.  Apache Doris 1.1.x \u7248\u672c\u5f00\u59cb\u5168\u9762\u652f\u6301\u5411\u91cf\u5316\u8ba1\u7b97\uff0c\u8f83\u4e4b\u524d\u7248\u672c\u67e5\u8be2\u6027\u80fd\u63d0\u5347 2-3 \u500d\u3002\u7ecf\u6d4b\u8bd5\uff0cApache Doris 1.1.x \u7248\u672c\u5728\u5bbd\u8868\u573a\u666f\u7684\u67e5\u8be2\u6027\u80fd\u5df2\u57fa\u672c\u4e0e ClickHouse \u6301\u5e73\u3002\\n\\n3.  \u529f\u80fd\u5f3a\u5927\uff0c\u4e0d\u4f9d\u8d56\u5176\u4ed6\u7ec4\u4ef6\u3002\u76f8\u6bd4 Apache Kylin\u3001Apache Druid\u3001ClickHouse \u7b49\uff0cApache Doris \u4e0d\u9700\u8981\u5f15\u5165\u7b2c 2 \u4e2a\u7ec4\u4ef6\u586b\u8865\u6280\u672f\u7a7a\u6863\u3002Apache Doris \u652f\u6301\u805a\u5408\u8ba1\u7b97\u3001\u660e\u7ec6\u67e5\u8be2\u3001\u5173\u8054\u67e5\u8be2\uff0c\u5f53\u524d\u601d\u5fc5\u9a70\u8d85 90% \u7684\u5206\u6790\u9700\u6c42\u5df2\u79fb\u6b65 Apache Doris\u5b9e\u73b0\u3002 \u5f97\u76ca\u4e8e\u6b64\u4f18\u52bf\uff0c\u6280\u672f\u4eba\u5458\u9700\u8981\u8fd0\u7ef4\u7684\u7ec4\u4ef6\u51cf\u5c11\uff0c\u6781\u5927\u964d\u4f4e\u8fd0\u7ef4\u6210\u672c\u3002\\n\\n4.  \u6613\u7528\u6027\u6781\u9ad8\uff0c\u652f\u6301 MySQL \u534f\u8bae\u548c\u6807\u51c6 SQL\uff0c\u5927\u5e45\u964d\u4f4e\u7528\u6237\u5b66\u4e60\u6210\u672c\u3002\\n\\n# \u672a\u6765\u8ba1\u5212\\n\\n1.  Tablet \u5c0f\u6587\u4ef6\u8fc7\u591a\u7684\u95ee\u9898\u3002Tablet \u662f Apache Doris \u4e2d\u8bfb\u5199\u6570\u636e\u6700\u5c0f\u7684\u903b\u8f91\u5355\u5143\uff0c\u5f53 Tablet \u5c0f\u6587\u4ef6\u6bd4\u8f83\u591a\u65f6\u4f1a\u4ea7\u751f 2 \u4e2a\u95ee\u9898\uff0c\u4e00\u662f Tablet \u5c0f\u6587\u4ef6\u589e\u591a\u4f1a\u5bfc\u81f4\u5143\u6570\u636e\u5185\u5b58\u538b\u529b\u53d8\u5927\u3002\u4e8c\u662f\u5bf9\u67e5\u8be2\u6027\u80fd\u7684\u5f71\u54cd\uff0c\u5373\u4f7f\u662f\u51e0\u767e\u5146\u7684\u67e5\u8be2\uff0c\u4f46\u5728\u5c0f\u6587\u4ef6\u6709\u51e0\u5341\u4e07\u3001\u4e0a\u767e\u4e07\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5c0f\u5c0f\u7684\u67e5\u8be2\u4e5f\u4f1a\u5bfc\u81f4 IO \u975e\u5e38\u9ad8\u3002\u672a\u6765\uff0c\u6211\u4eec\u5c06\u505a\u4e00\u4e2a Tablet \u6587\u4ef6\u6570\u91cf/\u5927\u5c0f\u6bd4\u503c\u7684\u76d1\u63a7\uff0c\u5f53\u6bd4\u503c\u5728\u4e0d\u5408\u7406\u8303\u56f4\u5185\u65f6\u53ca\u65f6\u8fdb\u884c\u8868\u8bbe\u8ba1\u7684\u4fee\u6539\uff0c\u4f7f\u5f97\u6587\u4ef6\u6570\u91cf\u548c\u5927\u5c0f\u7684\u6bd4\u503c\u5728\u5408\u7406\u7684\u8303\u56f4\u5185\u3002\\n\\n2.  \u652f\u6301\u57fa\u4e8e Bitmap \u7684\u5b57\u7b26\u4e32\u7cbe\u786e\u53bb\u91cd\u3002\u4e1a\u52a1\u4e2d\u7cbe\u786e\u53bb\u91cd\u7684\u573a\u666f\u8f83\u591a\uff0c\u7279\u522b\u662f\u57fa\u4e8e\u5b57\u7b26\u4e32\u7684 UV \u573a\u666f\uff0c\u76ee\u524d Apache Doris \u4f7f\u7528\u7684\u662f Distinct \u51fd\u6570\u6765\u5b9e\u73b0\u7684\u3002\u672a\u6765\u6211\u4eec\u4f1a\u5c1d\u8bd5\u7684\u5728 Apache Doris \u4e2d\u521b\u5efa\u5b57\u5178\uff0c\u57fa\u4e8e\u5b57\u5178\u53bb\u6784\u5efa\u5b57\u7b26\u4e32\u7684 Bitmap \u7d22\u5f15\u3002\\n\\n3.  Doris-Spark-Connector \u6d41\u5f0f\u5199\u5165\u652f\u6301\u5206\u5757\u4f20\u8f93\u3002Doris-Spark-Connector \u5e95\u5c42\u662f\u590d\u7528\u7684 Stream Load\uff0c\u5de5\u4f5c\u673a\u5236\u662f\u6512\u6279\uff0c\u5bb9\u6613\u51fa\u73b0\u4e24\u4e2a\u95ee\u9898\uff0c\u4e00\u662f\u6512\u6279\u53ef\u80fd\u4f1a\u4f1a\u51fa\u73b0\u5185\u5b58\u538b\u529b\u5bfc\u81f4 OOM\uff0c\u4e8c\u662f\u5f53Doris-Spark-Connector \u6512\u6279\u65f6\uff0cSpark Checkpoint \u6ca1\u6709\u63d0\u4ea4\uff0c\u4f46 Buffer \u5df2\u6ee1\u5e76\u63d0\u4ea4\u7ed9 Doris\uff0c\u6b64\u65f6 Apacche Doris \u4e2d\u5df2\u7ecf\u6709\u6570\u636e\uff0c\u4f46\u7531\u4e8e\u6ca1\u6709\u63d0\u4ea4 Checkpoint\uff0c\u5047\u5982\u6b64\u65f6\u4efb\u52a1\u6070\u5de7\u5931\u8d25\uff0c\u542f\u52a8\u540e\u53c8\u4f1a\u91cd\u65b0\u6d88\u8d39\u5199\u5165\u4e00\u904d\u3002\u672a\u6765\u6211\u4eec\u5c06\u4f18\u5316\u6b64\u95ee\u9898\uff0c\u5b9e\u73b0 Doris-Spark-Connector \u6d41\u5f0f\u5199\u5165\u652f\u6301\u5206\u5757\u4f20\u8f93\u3002"},{"id":"/1.1 Release","metadata":{"permalink":"/zh-CN/blog/1.1 Release","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/1.1 Release.md","title":"Apache Doris 1.1 Release \u7248\u672c\u6b63\u5f0f\u53d1\u5e03","description":"\x3c!--","date":"2022-07-14T00:00:00.000Z","formattedDate":"2022\u5e747\u670814\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"Apache Doris 1.1 Release \u7248\u672c\u6b63\u5f0f\u53d1\u5e03","summary":"\u4eb2\u7231\u7684\u793e\u533a\u5c0f\u4f19\u4f34\u4eec\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0cApache Doris \u5728 2022 \u5e74 7 \u6708 14 \u65e5\u8fce\u6765 1.1 Release \u7248\u672c\u7684\u6b63\u5f0f\u53d1\u5e03\uff01\u8fd9\u662f Apache Doris \u6b63\u5f0f\u4ece Apache \u5b75\u5316\u5668\u6bd5\u4e1a\u540e\u5e76\u6210\u4e3a Apache \u9876\u7ea7\u9879\u76ee\u540e\u53d1\u5e03\u7684\u7b2c\u4e00\u4e2a Release \u7248\u672c\u3002\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u6709 90 \u4f4d Contributor \u4e3a Apache Doris \u63d0\u4ea4\u4e86\u8d85\u8fc7 450 \u9879\u4f18\u5316\u548c\u4fee\u590d\uff0c\u611f\u8c22\u6bcf\u4e00\u4e2a\u8ba9 Apache Doris \u53d8\u5f97\u66f4\u597d\u7684\u4f60\uff01","date":"2022-07-14","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"\u6253\u9020\u81ea\u52a9\u5bf9\u8bdd\u5f0f\u6570\u636e\u5206\u6790\u573a\u666f\uff0cApache Doris \u5728\u601d\u5fc5\u9a70\u7684\u5e94\u7528\u5b9e\u8df5\uff5c\u6700\u4f73\u5b9e\u8df5","permalink":"/zh-CN/blog/scenario"},"nextItem":{"title":"\u5f00\u6e90\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93 Apache Doris \u6b63\u5f0f\u6210\u4e3a\u9876\u7ea7\u9879\u76ee","permalink":"/zh-CN/blog/Annoucing"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n\u4eb2\u7231\u7684\u793e\u533a\u5c0f\u4f19\u4f34\u4eec\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0cApache Doris \u5728 2022 \u5e74 7 \u6708 14 \u65e5\u8fce\u6765 1.1 Release \u7248\u672c\u7684\u6b63\u5f0f\u53d1\u5e03\uff01\u8fd9\u662f Apache Doris \u6b63\u5f0f\u4ece Apache \u5b75\u5316\u5668\u6bd5\u4e1a\u540e\u5e76\u6210\u4e3a Apache \u9876\u7ea7\u9879\u76ee\u540e\u53d1\u5e03\u7684\u7b2c\u4e00\u4e2a Release \u7248\u672c\u3002\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u6709 90 \u4f4d Contributor \u4e3a Apache Doris \u63d0\u4ea4\u4e86\u8d85\u8fc7 450 \u9879\u4f18\u5316\u548c\u4fee\u590d\uff0c\u611f\u8c22\u6bcf\u4e00\u4e2a\u8ba9 Apache Doris \u53d8\u5f97\u66f4\u597d\u7684\u4f60\uff01\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c**\u6211\u4eec\u5b9e\u73b0\u4e86\u8ba1\u7b97\u5c42\u548c\u5b58\u50a8\u5c42\u7684\u5168\u9762\u5411\u91cf\u5316\u3001\u6b63\u5f0f\u5c06\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4f5c\u4e3a\u7a33\u5b9a\u529f\u80fd\u8fdb\u884c\u5168\u9762\u542f\u7528**\uff0c\u6240\u6709\u67e5\u8be2\u9ed8\u8ba4\u901a\u8fc7\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u6765\u6267\u884c\uff0c**\u6027\u80fd\u8f83\u4e4b\u524d\u7248\u672c\u6709 3-5 \u500d\u7684\u5de8\u5927\u63d0\u5347**\uff1b\u589e\u52a0\u4e86\u76f4\u63a5\u8bbf\u95ee Apache Iceberg \u5916\u90e8\u8868\u7684\u80fd\u529b\uff0c\u652f\u6301\u5bf9 Doris \u548c Iceberg \u4e2d\u7684\u6570\u636e\u8fdb\u884c\u8054\u90a6\u67e5\u8be2\uff0c**\u6269\u5c55\u4e86 Apache Doris \u5728\u6570\u636e\u6e56\u4e0a\u7684\u5206\u6790\u80fd\u529b**\uff1b\u5728\u539f\u6709\u7684 LZ4 \u57fa\u7840\u4e0a\u589e\u52a0\u4e86 ZSTD \u538b\u7f29\u7b97\u6cd5\uff0c\u8fdb\u4e00\u6b65\u63d0\u5347\u4e86\u6570\u636e\u538b\u7f29\u7387\uff1b**\u4fee\u590d\u4e86\u8bf8\u591a\u4e4b\u524d\u7248\u672c\u5b58\u5728\u7684\u6027\u80fd\u4e0e\u7a33\u5b9a\u6027\u95ee\u9898**\uff0c\u4f7f\u7cfb\u7edf\u7a33\u5b9a\u6027\u5f97\u5230\u5927\u5e45\u63d0\u5347\u3002\u6b22\u8fce\u5927\u5bb6\u4e0b\u8f7d\u4f7f\u7528\u3002\\n\\n## \u5347\u7ea7\u8bf4\u660e\\n\\n### \u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u9ed8\u8ba4\u5f00\u542f\\n\\n\u5728 Apache Doris 1.0 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4f5c\u4e3a\u5b9e\u9a8c\u6027\u529f\u80fd\u3002\u7528\u6237\u9700\u8981\u5728\u6267\u884c SQL \u67e5\u8be2\u624b\u5de5\u5f00\u542f\uff0c\u901a\u8fc7 `set batch_size = 4096` \u548c `set enable_vectorized_engine = true `\u914d\u7f6e session \u53d8\u91cf\u6765\u5f00\u542f\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3002\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u6b63\u5f0f\u5c06\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u4f5c\u4e3a\u7a33\u5b9a\u529f\u80fd\u8fdb\u884c\u4e86\u5168\u9762\u542f\u7528\uff0csession \u53d8\u91cf`enable_vectorized_engine` \u9ed8\u8ba4\u8bbe\u7f6e\u4e3a true\uff0c\u65e0\u9700\u7528\u6237\u624b\u5de5\u5f00\u542f\uff0c\u6240\u6709\u67e5\u8be2\u9ed8\u8ba4\u901a\u8fc7\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u6765\u6267\u884c\u3002\\n\\n### BE \u4e8c\u8fdb\u5236\u6587\u4ef6\u66f4\u540d\\n\\nBE \u4e8c\u8fdb\u5236\u6587\u4ef6\u4ece\u539f\u6709\u7684 palo_be \u66f4\u540d\u4e3a doris_be \uff0c\u5982\u679c\u60a8\u4ee5\u524d\u4f9d\u8d56\u8fdb\u7a0b\u540d\u79f0\u8fdb\u884c\u96c6\u7fa4\u7ba1\u7406\u548c\u5176\u4ed6\u64cd\u4f5c\uff0c\u8bf7\u6ce8\u610f\u4fee\u6539\u76f8\u5173\u811a\u672c\u3002\\n\\n### Segment \u5b58\u50a8\u683c\u5f0f\u5347\u7ea7\\n\\nApache Doris \u65e9\u671f\u7248\u672c\u7684\u5b58\u50a8\u683c\u5f0f\u4e3a Segment V1\uff0c\u5728 0.12 \u7248\u672c\u4e2d\u6211\u4eec\u5b9e\u73b0\u4e86\u65b0\u7684\u5b58\u50a8\u683c\u5f0f Segment V2 \uff0c\u5f15\u5165\u4e86 Bitmap \u7d22\u5f15\u3001\u5185\u5b58\u8868\u3001Page Cache\u3001\u5b57\u5178\u538b\u7f29\u4ee5\u53ca\u5ef6\u8fdf\u7269\u5316\u7b49\u8bf8\u591a\u7279\u6027\u3002\u4ece 0.13 \u7248\u672c\u5f00\u59cb\uff0c\u65b0\u5efa\u8868\u7684\u9ed8\u8ba4\u5b58\u50a8\u683c\u5f0f\u4e3a Segment V2\uff0c\u4e0e\u6b64\u540c\u65f6\u4e5f\u4fdd\u7559\u4e86\u5bf9 Segment V1 \u683c\u5f0f\u7684\u517c\u5bb9\u3002\\n\\n\u4e3a\u4e86\u4fdd\u8bc1\u4ee3\u7801\u7ed3\u6784\u7684\u53ef\u7ef4\u62a4\u6027\u3001\u964d\u4f4e\u5197\u4f59\u5386\u53f2\u4ee3\u7801\u5e26\u6765\u7684\u989d\u5916\u5b66\u4e60\u53ca\u5f00\u53d1\u6210\u672c\uff0c\u6211\u4eec\u51b3\u5b9a\u4ece\u4e0b\u4e00\u4e2a\u7248\u672c\u8d77\u4e0d\u518d\u652f\u6301 Segment v1 \u5b58\u50a8\u683c\u5f0f\uff0c\u9884\u8ba1\u5728 Apache Doris 1.2 \u7248\u672c\u4e2d\u5c06\u5220\u9664\u8fd9\u90e8\u5206\u4ee3\u7801\uff0c\u8fd8\u8bf7\u6240\u6709\u4ecd\u5728\u4f7f\u7528 Segment V1 \u5b58\u50a8\u683c\u5f0f\u7684\u7528\u6237\u52a1\u5fc5\u5728 1.1 \u7248\u672c\u4e2d\u5b8c\u6210\u6570\u636e\u683c\u5f0f\u7684\u8f6c\u6362\uff0c\u64cd\u4f5c\u624b\u518c\u8bf7\u53c2\u8003\u4ee5\u4e0b\u94fe\u63a5\uff1a\\n\\n[https://doris.apache.org/zh-CN/docs/1.0/administrator-guide/segment-v2-usage\\n](https://doris.apache.org/zh-CN/docs/1.0/administrator-guide/segment-v2-usage)\\n\\n### \u6b63\u5e38\u5347\u7ea7\\n\\n\u6b63\u5e38\u5347\u7ea7\u64cd\u4f5c\u8bf7\u6309\u7167\u5b98\u7f51\u4e0a\u7684\u96c6\u7fa4\u5347\u7ea7\u6587\u6863\u8fdb\u884c\u6eda\u52a8\u5347\u7ea7\u5373\u53ef\u3002\\n\\n[https://doris.apache.org/zh-CN/docs/admin-manual/cluster-management/upgrade](https://doris.apache.org/zh-CN/docs/admin-manual/cluster-management/upgrade)\\n\\n## \u91cd\u8981\u529f\u80fd\\n\\n### \u652f\u6301\u6570\u636e\u968f\u673a\u5206\u5e03 [\u5b9e\u9a8c\u6027\u529f\u80fd] [#8259](https://github.com/apache/doris/pull/8259) [#8041](https://github.com/apache/doris/pull/8041)\\n\\n\u5728\u67d0\u4e9b\u573a\u666f\u4e2d\uff08\u4f8b\u5982\u65e5\u5fd7\u5206\u6790\u7c7b\u573a\u666f\uff09\uff0c\u7528\u6237\u53ef\u80fd\u65e0\u6cd5\u627e\u5230\u4e00\u4e2a\u5408\u9002\u7684\u5206\u6876\u952e\u6765\u907f\u514d\u6570\u636e\u503e\u659c\uff0c\u56e0\u6b64\u9700\u8981\u7531\u7cfb\u7edf\u63d0\u4f9b\u989d\u5916\u7684\u5206\u5e03\u65b9\u5f0f\u6765\u89e3\u51b3\u6570\u636e\u503e\u659c\u7684\u95ee\u9898\u3002\\n\\n\u56e0\u6b64\u901a\u8fc7\u5728\u5efa\u8868\u65f6\u53ef\u4ee5\u4e0d\u6307\u5b9a\u5177\u4f53\u5206\u6876\u952e\uff0c\u9009\u62e9\u4f7f\u7528\u968f\u673a\u5206\u5e03\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u6876`DISTRIBUTED BY random BUCKET number`\uff0c\u6570\u636e\u5bfc\u5165\u65f6\u5c06\u4f1a\u968f\u673a\u5199\u5165\u5355\u4e2a Tablet \uff0c\u4ee5\u51cf\u5c11\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u7684\u6570\u636e\u6247\u51fa\uff0c\u5e76\u51cf\u5c11\u8d44\u6e90\u5f00\u9500\u3001\u63d0\u5347\u7cfb\u7edf\u7a33\u5b9a\u6027\u3002\\n\\n### \u652f\u6301\u521b\u5efa Iceberg \u5916\u90e8\u8868 [\u5b9e\u9a8c\u6027\u529f\u80fd] [#7391](https://github.com/apache/doris/pull/7391) [#7981](https://github.com/apache/doris/pull/7981) [#8179](https://github.com/apache/doris/pull/8179)\\n\\nIceberg \u5916\u90e8\u8868\u4e3a Apache Doris \u63d0\u4f9b\u4e86\u76f4\u63a5\u8bbf\u95ee\u5b58\u50a8\u5728 Iceberg \u6570\u636e\u7684\u80fd\u529b\u3002\u901a\u8fc7 Iceberg \u5916\u90e8\u8868\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u672c\u5730\u5b58\u50a8\u548c Iceberg \u5b58\u50a8\u7684\u6570\u636e\u8fdb\u884c\u8054\u90a6\u67e5\u8be2\uff0c\u7701\u53bb\u7e41\u7410\u7684\u6570\u636e\u52a0\u8f7d\u5de5\u4f5c\u3001\u7b80\u5316\u6570\u636e\u5206\u6790\u7684\u7cfb\u7edf\u67b6\u6784\uff0c\u5e76\u8fdb\u884c\u66f4\u590d\u6742\u7684\u5206\u6790\u64cd\u4f5c\u3002\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0cApache Doris \u652f\u6301\u4e86\u521b\u5efa Iceberg \u5916\u90e8\u8868\u5e76\u67e5\u8be2\u6570\u636e\uff0c\u5e76\u652f\u6301\u901a\u8fc7 REFRESH \u547d\u4ee4\u5b9e\u73b0 Iceberg \u6570\u636e\u5e93\u4e2d\u6240\u6709\u8868 Schema \u7684\u81ea\u52a8\u540c\u6b65\u3002\\n\\n### \u589e\u52a0 ZSTD \u538b\u7f29\u7b97\u6cd5 [#8923](https://github.com/apache/doris/pull/8923) [#9747](https://github.com/apache/doris/pull/9747)\\n\\n\u76ee\u524d Apache Doris \u4e2d\u6570\u636e\u538b\u7f29\u65b9\u6cd5\u662f\u7cfb\u7edf\u7edf\u4e00\u6307\u5b9a\u7684\uff0c\u9ed8\u8ba4\u4e3a LZ4\u3002\u9488\u5bf9\u90e8\u5206\u5bf9\u6570\u636e\u5b58\u50a8\u6210\u672c\u654f\u611f\u7684\u573a\u666f\uff0c\u4f8b\u5982\u65e5\u5fd7\u7c7b\u573a\u666f\uff0c\u539f\u6709\u7684\u6570\u636e\u538b\u7f29\u7387\u9700\u6c42\u65e0\u6cd5\u5f97\u5230\u6ee1\u8db3\u3002\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u7528\u6237\u5efa\u8868\u65f6\u53ef\u4ee5\u5728\u8868\u5c5e\u6027\u4e2d\u8bbe\u7f6e`\\"compression\\"=\\"zstd\\"` \u5c06\u538b\u7f29\u65b9\u6cd5\u6307\u5b9a\u4e3a ZSTD\u3002\u5728 25GB 1.1 \u4ebf\u884c\u7684\u6587\u672c\u65e5\u5fd7\u6d4b\u8bd5\u6570\u636e\u4e2d\uff0c**\u6700\u9ad8\u83b7\u5f97\u4e86\u8fd1 10 \u500d\u7684\u538b\u7f29\u7387\u3001\u8f83\u539f\u6709\u538b\u7f29\u7387\u63d0\u5347\u4e86 53%\uff0c\u4ece\u78c1\u76d8\u8bfb\u53d6\u6570\u636e\u5e76\u8fdb\u884c\u89e3\u538b\u7f29\u7684\u901f\u5ea6\u63d0\u5347\u4e86 30%** \u3002\\n\\n## \u529f\u80fd\u4f18\u5316\\n\\n### **\u66f4\u5168\u9762\u7684\u5411\u91cf\u5316\u652f\u6301**\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u8ba1\u7b97\u5c42\u548c\u5b58\u50a8\u5c42\u7684\u5168\u9762\u5411\u91cf\u5316\uff0c\u5305\u62ec\uff1a\\n\\n-   \u5b9e\u73b0\u4e86\u6240\u6709\u5185\u7f6e\u51fd\u6570\u7684\u5411\u91cf\u5316\\n\\n-   \u5b58\u50a8\u5c42\u5b9e\u73b0\u5411\u91cf\u5316\uff0c\u5e76\u652f\u6301\u4e86\u4f4e\u57fa\u6570\u5b57\u7b26\u4e32\u5217\u7684\u5b57\u5178\u4f18\u5316\\n\\n-   \u4f18\u5316\u5e76\u89e3\u51b3\u4e86\u5411\u91cf\u5316\u5f15\u64ce\u7684\u5927\u91cf\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u95ee\u9898\u3002\\n\\n\u6211\u4eec\u5bf9 Apache Doris 1.1 \u7248\u672c\u4e0e 0.15 \u7248\u672c\u5206\u522b\u5728 SSB \u548c TPC-H \u6807\u51c6\u6d4b\u8bd5\u6570\u636e\u96c6\u4e0a\u8fdb\u884c\u4e86\u6027\u80fd\u6d4b\u8bd5\uff1a\\n\\n-   \u5728 SSB \u6d4b\u8bd5\u6570\u636e\u96c6\u7684\u5168\u90e8 13 \u4e2a SQL \u4e0a\uff0c1.1 \u7248\u672c\u5747\u4f18\u4e8e 0.15 \u7248\u672c\uff0c\u6574\u4f53\u6027\u80fd\u7ea6\u63d0\u5347\u4e86 3 \u500d\uff0c\u89e3\u51b3\u4e86 1.0 \u7248\u672c\u4e2d\u5b58\u5728\u7684\u90e8\u5206\u573a\u666f\u6027\u80fd\u52a3\u5316\u95ee\u9898\uff1b\\n\\n-   \u5728 TPC-H \u6d4b\u8bd5\u6570\u636e\u96c6\u7684\u5168\u90e8 22 \u4e2a SQL \u4e0a\uff0c1.1 \u7248\u672c\u5747\u4f18\u4e8e 0.15 \u7248\u672c\uff0c\u6574\u4f53\u6027\u80fd\u7ea6\u63d0\u5347\u4e86 4.5 \u500d\uff0c\u90e8\u5206\u573a\u666f\u6027\u80fd\u8fbe\u5230\u4e86\u5341\u4f59\u500d\u7684\u63d0\u5347\uff1b\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/edb59781b0f74ff08821467f23a63bad~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n<p align=\'center\'>SSB \u6d4b\u8bd5\u6570\u636e\u96c6</p>\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e34377054f4448b3b367789a391f2122~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n<p align=\'center\'>TPC-H \u6d4b\u8bd5\u6570\u636e\u96c6</p>\\n\\n**\u6027\u80fd\u6d4b\u8bd5\u62a5\u544a\uff1a**\\n\\n[https://doris.apache.org/zh-CN/docs/benchmark/ssb](https://doris.apache.org/zh-CN/docs/benchmark/ssb)\\n\\n[https://doris.apache.org/zh-CN/docs/benchmark/tpch](https://doris.apache.org/zh-CN/docs/benchmark/tpch)\\n\\n### Compaction \u903b\u8f91\u4f18\u5316\u4e0e\u5b9e\u65f6\u6027\u4fdd\u8bc1 [#10153](https://github.com/apache/doris/pull/10153)\\n\\n\u5728 Apache Doris \u4e2d\u6bcf\u6b21 Commit \u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u6570\u636e\u7248\u672c\uff0c\u5728\u9ad8\u5e76\u53d1\u5199\u5165\u573a\u666f\u4e0b\uff0c\u5bb9\u6613\u51fa\u73b0\u56e0\u6570\u636e\u7248\u672c\u8fc7\u591a\u4e14 Compaction \u4e0d\u53ca\u65f6\u800c\u5bfc\u81f4\u7684 -235 \u9519\u8bef\uff0c\u540c\u65f6\u67e5\u8be2\u6027\u80fd\u4e5f\u4f1a\u968f\u4e4b\u4e0b\u964d\u3002\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\u6211\u4eec\u5f15\u5165\u4e86 QuickCompaction\uff0c\u589e\u52a0\u4e86\u4e3b\u52a8\u89e6\u53d1\u5f0f\u7684 Compaction \u68c0\u67e5\uff0c\u5728\u6570\u636e\u7248\u672c\u589e\u52a0\u7684\u65f6\u5019\u4e3b\u52a8\u89e6\u53d1 Compaction\uff0c\u540c\u65f6\u901a\u8fc7\u63d0\u5347\u5206\u7247\u5143\u4fe1\u606f\u626b\u63cf\u7684\u80fd\u529b\uff0c\u5feb\u901f\u53d1\u73b0\u6570\u636e\u7248\u672c\u8fc7\u591a\u7684\u5206\u7247\u5e76\u89e6\u53d1 Compaction\u3002\u901a\u8fc7\u4e3b\u52a8\u5f0f\u89e6\u53d1\u52a0\u88ab\u52a8\u5f0f\u626b\u63cf\u7684\u65b9\u5f0f\uff0c\u5f7b\u5e95\u89e3\u51b3\u6570\u636e\u5408\u5e76\u7684\u5b9e\u65f6\u6027\u95ee\u9898\u3002\\n\\n\u540c\u65f6\uff0c\u9488\u5bf9\u9ad8\u9891\u7684\u5c0f\u6587\u4ef6 Cumulative Compaction\uff0c\u5b9e\u73b0\u4e86 Compaction \u4efb\u52a1\u7684\u8c03\u5ea6\u9694\u79bb\uff0c\u9632\u6b62\u91cd\u91cf\u7ea7\u7684 Base Compaction \u5bf9\u65b0\u589e\u6570\u636e\u7684\u5408\u5e76\u9020\u6210\u5f71\u54cd\u3002\\n\\n\u6700\u540e\uff0c\u9488\u5bf9\u5c0f\u6587\u4ef6\u5408\u5e76\uff0c\u4f18\u5316\u4e86\u5c0f\u6587\u4ef6\u5408\u5e76\u7684\u7b56\u7565\uff0c\u91c7\u7528\u68af\u5ea6\u5408\u5e76\u7684\u65b9\u5f0f\uff0c\u6bcf\u6b21\u53c2\u4e0e\u5408\u5e76\u7684\u6587\u4ef6\u90fd\u5c5e\u4e8e\u540c\u4e00\u4e2a\u6570\u636e\u91cf\u7ea7\uff0c\u9632\u6b62\u5927\u5c0f\u5dee\u522b\u5f88\u5927\u7684\u7248\u672c\u8fdb\u884c\u5408\u5e76\uff0c\u9010\u6e10\u6709\u5c42\u6b21\u7684\u5408\u5e76\uff0c\u51cf\u5c11\u5355\u4e2a\u6587\u4ef6\u53c2\u4e0e\u5408\u5e76\u7684\u6b21\u6570\uff0c\u80fd\u591f\u5927\u5e45\u5730\u8282\u7701\u7cfb\u7edf\u7684 CPU \u6d88\u8017\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6d5c50f16a048f3ab27357bc97b7461~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n\u5728\u6570\u636e\u4e0a\u6e38\u7ef4\u6301\u6bcf\u79d2 10w \u7684\u5199\u5165\u9891\u7387\u65f6\uff0820 \u4e2a\u5e76\u53d1\u5199\u5165\u4efb\u52a1\u3001\u6bcf\u4e2a\u4f5c\u4e1a 5000 \u884c\u3001 Checkpoint \u95f4\u9694 1s\uff09\uff0c1.1 \u7248\u672c\u8868\u73b0\u5982\u4e0b\uff1a\\n\\n-   \u6570\u636e\u5feb\u901f\u5408\u5e76\uff1aTablet \u6570\u636e\u7248\u672c\u7ef4\u6301\u5728 50 \u4ee5\u4e0b\uff0cCompaction Score \u7a33\u5b9a\u3002\u76f8\u8f83\u4e8e\u4e4b\u524d\u7248\u672c\u9ad8\u5e76\u53d1\u5199\u5165\u65f6\u9891\u7e41\u51fa\u73b0\u7684 -235 \u95ee\u9898\uff0c**Compaction \u5408\u5e76\u6548\u7387\u6709 10 \u500d\u4ee5\u4e0a\u7684\u63d0\u5347**\u3002\\n\\n\x3c!----\x3e\\n\\n-   CPU \u8d44\u6e90\u6d88\u8017\u663e\u8457\u964d\u4f4e\uff1a\u9488\u5bf9\u5c0f\u6587\u4ef6 Compaction \u8fdb\u884c\u4e86\u7b56\u7565\u4f18\u5316\uff0c\u5728\u4e0a\u8ff0\u9ad8\u5e76\u53d1\u5199\u5165\u573a\u666f\u4e0b\uff0c**CPU \u8d44\u6e90\u6d88\u8017\u964d\u4f4e 25%** \uff1b\\n\\n\x3c!----\x3e\\n\\n-   \u67e5\u8be2\u8017\u65f6\u7a33\u5b9a\uff1a\u63d0\u5347\u4e86\u6570\u636e\u6574\u4f53\u6709\u5e8f\u6027\uff0c\u5927\u5e45\u964d\u4f4e\u67e5\u8be2\u8017\u65f6\u7684\u6ce2\u52a8\u6027\uff0c**\u9ad8\u5e76\u53d1\u5199\u5165\u65f6\u7684\u67e5\u8be2\u8017\u65f6\u4e0e\u4ec5\u67e5\u8be2\u65f6\u6301\u5e73**\uff0c\u67e5\u8be2\u6027\u80fd\u8f83\u4e4b\u524d\u7248\u672c**\u6709 3-4 \u500d\u63d0\u5347**\u3002\\n\\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c79ee9efba0416d81cc7bed1a349fdf~tplv-k3u1fbpfcp-zoom-1.image)\\n\\n### Parquet \u548c ORC \u6587\u4ef6\u7684\u8bfb\u53d6\u6548\u7387\u4f18\u5316 [#9472](https://github.com/apache/doris/pull/9472)\\n\\n\u901a\u8fc7\u8c03\u6574 Arrow \u53c2\u6570\uff0c\u5229\u7528 Arrow \u7684\u591a\u7ebf\u7a0b\u8bfb\u53d6\u80fd\u529b\u6765\u52a0\u901f Arrow \u5bf9\u6bcf\u4e2a row_group \u7684\u8bfb\u53d6\uff0c\u5e76\u4fee\u6539\u6210 SPSC \u6a21\u578b\uff0c\u901a\u8fc7\u9884\u53d6\u6765\u964d\u4f4e\u7b49\u5f85\u7f51\u7edc\u7684\u4ee3\u4ef7\u3002\u4f18\u5316\u524d\u540e\u5bf9 Parquet \u6587\u4ef6\u5bfc\u5165\u7684\u6027\u80fd\u6709 4 \uff5e 5 \u500d\u7684\u63d0\u5347\u3002\\n\\n### \u66f4\u5b89\u5168\u7684\u5143\u6570\u636e Checkpoint [#9180](https://github.com/apache/doris/pull/9180) [#9192](https://github.com/apache/doris/pull/9192)\\n\\n\u901a\u8fc7\u5bf9\u5143\u6570\u636e\u68c0\u67e5\u70b9\u540e\u751f\u6210\u7684 image \u6587\u4ef6\u8fdb\u884c\u53cc\u91cd\u68c0\u67e5\u548c\u4fdd\u7559\u5386\u53f2 image \u6587\u4ef6\u7684\u529f\u80fd\uff0c\u89e3\u51b3\u4e86 image \u6587\u4ef6\u9519\u8bef\u5bfc\u81f4\u7684\u5143\u6570\u636e\u635f\u574f\u95ee\u9898\u3002\\n\\n## Bug \u4fee\u590d\\n\\n### \u4fee\u590d\u7531\u4e8e\u7f3a\u5c11\u6570\u636e\u7248\u672c\u800c\u65e0\u6cd5\u67e5\u8be2\u6570\u636e\u7684\u95ee\u9898\u3002\uff08\u4e25\u91cd\uff09[#9267](https://github.com/apache/doris/pull/9267) [#9266](https://github.com/apache/doris/pull/9266)\\n\\n\u95ee\u9898\u63cf\u8ff0\uff1a`failed to initialize storage reader. tablet=924991.xxxx, res=-214, backend=xxxx`\\n\\n\u8be5\u95ee\u9898\u662f\u5728\u7248\u672c 1.0 \u4e2d\u5f15\u5165\u7684\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u591a\u4e2a\u526f\u672c\u7684\u6570\u636e\u7248\u672c\u4e22\u5931\u3002\\n\\n### \u89e3\u51b3\u4e86\u8d44\u6e90\u9694\u79bb\u5bf9\u52a0\u8f7d\u4efb\u52a1\u7684\u8d44\u6e90\u4f7f\u7528\u9650\u5236\u65e0\u6548\u7684\u95ee\u9898\uff08\u4e2d\u7b49\uff09[#9492](https://github.com/apache/doris/pull/9492)\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c Broker Load \u548c Routine Load \u5c06\u4f7f\u7528\u5177\u6709\u6307\u5b9a\u8d44\u6e90\u6807\u8bb0\u7684 BE \u8282\u70b9\u8fdb\u884c\u52a0\u8f7d\u3002\\n\\n### \u4fee\u590d\u4f7f\u7528 HTTP BRPC \u8d85\u8fc7 2GB \u4f20\u8f93\u7f51\u7edc\u6570\u636e\u5305\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u9519\u8bef\u7684\u95ee\u9898\uff08\u4e2d\u7b49\uff09[#9770](https://github.com/apache/doris/pull/9770)\\n\\n\u5728\u4ee5\u524d\u7684\u7248\u672c\u4e2d\uff0c\u5f53\u901a\u8fc7 BRPC \u5728\u540e\u7aef\u4e4b\u95f4\u4f20\u8f93\u7684\u6570\u636e\u8d85\u8fc7 2GB \u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u9519\u8bef\u3002\\n\\n## \u5176\u4ed6\\n\\n### \u7981\u7528 Mini Load\\n\\nMini Load \u4e0e Stream Load \u7684\u5bfc\u5165\u5b9e\u73b0\u65b9\u5f0f\u5b8c\u5168\u4e00\u81f4\uff0c\u90fd\u662f\u901a\u8fc7 HTTP \u534f\u8bae\u63d0\u4ea4\u548c\u4f20\u8f93\u6570\u636e\uff0c\u5728\u5bfc\u5165\u529f\u80fd\u652f\u6301\u4e0a Stream Load \u66f4\u52a0\u5b8c\u5907\u3002\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b Mini Load \u63a5\u53e3 `/_load` \u5c06\u5904\u4e8e\u7981\u7528\u72b6\u6001\uff0c\u8bf7\u7edf\u4e00\u4f7f\u7528 Stream Load \u6765\u66ff\u6362 Mini Load\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5173\u95ed FE \u914d\u7f6e\u9879 `disable_mini_load` \u6765\u91cd\u65b0\u542f\u7528 Mini Load \u63a5\u53e3\u3002\u5728\u7248\u672c 1.2 \u4e2d\uff0c\u5c06\u5f7b\u5e95\u5220\u9664 Mini Load \u3002\\n\\n### \u5b8c\u5168\u7981\u7528 SegmentV1 \u5b58\u50a8\u683c\u5f0f\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\u5c06\u4e0d\u518d\u5141\u8bb8\u65b0\u521b\u5efa SegmentV1 \u5b58\u50a8\u683c\u5f0f\u7684\u6570\u636e\uff0c\u73b0\u6709\u6570\u636e\u4ecd\u53ef\u4ee5\u7ee7\u7eed\u6b63\u5e38\u8bbf\u95ee\u3002\\n\\n\u60a8\u53ef\u4ee5\u4f7f\u7528 ADMIN SHOW TABLET STORAGE FORMAT \u8bed\u53e5\u68c0\u67e5\u96c6\u7fa4\u4e2d\u662f\u5426\u4ecd\u7136\u5b58\u5728 SegmentV1 \u683c\u5f0f\u7684\u6570\u636e\uff0c\u5982\u679c\u5b58\u5728\u8bf7\u52a1\u5fc5\u901a\u8fc7\u6570\u636e\u8f6c\u6362\u547d\u4ee4\u8f6c\u6362\u4e3a SegmentV2\u3002\\n\\n\u5728 Apache Doris 1.2 \u7248\u672c\u4e2d\u4e0d\u518d\u652f\u6301\u5bf9 Segment V1 \u6570\u636e\u7684\u8bbf\u95ee\uff0c\u540c\u65f6 Segment V1 \u4ee3\u7801\u5c06\u88ab\u5f7b\u5e95\u5220\u9664\u3002\\n\\n### \u9650\u5236 String \u7c7b\u578b\u7684\u6700\u5927\u957f\u5ea6 [#8567](https://github.com/apache/doris/pull/8567)\\n\\nString \u7c7b\u578b\u662f Apache Doris \u5728 0.15 \u7248\u672c\u4e2d\u5f15\u5165\u7684\u65b0\u6570\u636e\u7c7b\u578b\uff0c\u5728\u8fc7\u53bb String \u7c7b\u578b\u7684\u6700\u5927\u957f\u5ea6\u5141\u8bb8\u4e3a 2GB\u3002\\n\\n\u5728 1.1 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5c06 String \u7c7b\u578b\u7684\u6700\u5927\u957f\u5ea6\u9650\u5236\u4e3a 1 MB\uff0c\u8d85\u8fc7\u6b64\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u65e0\u6cd5\u518d\u5199\u5165\uff0c\u540c\u65f6\u4e0d\u518d\u652f\u6301\u5c06 String \u7c7b\u578b\u7528\u4f5c\u8868\u7684 Key \u5217\u3001\u5206\u533a\u5217\u4ee5\u53ca\u5206\u6876\u5217\u3002\\n\\n\u5df2\u5199\u5165\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\u3002\\n\\n### \u4fee\u590d fastjson \u76f8\u5173\u6f0f\u6d1e [#9763](https://github.com/apache/doris/pull/9763)\\n\\n\u5bf9 Canal \u7248\u672c\u8fdb\u884c\u66f4\u65b0\u4ee5\u4fee\u590d fastjson \u5b89\u5168\u6f0f\u6d1e\\n\\n### \u6dfb\u52a0\u4e86 ADMIN DIAGNOSE TABLET \u547d\u4ee4 [#8839](https://github.com/apache/doris/pull/8839)\\n\\n\u901a\u8fc7 ADMIN DIAGNOSE TABLET tablet_id \u547d\u4ee4\u53ef\u4ee5\u5feb\u901f\u8bca\u65ad\u6307\u5b9a Tablet \u7684\u95ee\u9898\u3002\\n\\n## \u4e0b\u8f7d\u4f7f\u7528\\n\\n### \u4e0b\u8f7d\u94fe\u63a5\\n\\n[https://doris.apache.org/zh-CN/download](https://doris.apache.org/zh-CN/download)\\n\\n### \u5347\u7ea7\u8bf4\u660e\\n\\n\u60a8\u53ef\u4ee5\u4ece Apache Doris 1.0 Release \u7248\u672c\u548c 1.0.x \u53d1\u884c\u7248\u672c\u5347\u7ea7\u5230 1.1 Release \u7248\u672c\uff0c\u5347\u7ea7\u8fc7\u7a0b\u8bf7\u5b98\u7f51\u53c2\u8003\u6587\u6863\u3002\u5982\u679c\u60a8\u5f53\u524d\u662f 0.15 Release \u7248\u672c\u6216 0.15.x \u53d1\u884c\u7248\u672c\uff0c\u53ef\u8df3\u8fc7 1.0 \u7248\u672c\u76f4\u63a5\u5347\u7ea7\u81f3 1.1\u3002\\n\\n[https://doris.apache.org/zh-CN/docs/admin-manual/cluster-management/upgrade](https://doris.apache.org/zh-CN/docs/admin-manual/cluster-management/upgrade\\n\\n### \u610f\u89c1\u53cd\u9988\\n\\n\u5982\u679c\u60a8\u9047\u5230\u4efb\u4f55\u4f7f\u7528\u4e0a\u7684\u95ee\u9898\uff0c\u6b22\u8fce\u968f\u65f6\u901a\u8fc7 GitHub Discussion \u8bba\u575b\u6216\u8005 Dev \u90ae\u4ef6\u7ec4\u4e0e\u6211\u4eec\u53d6\u5f97\u8054\u7cfb\u3002\\n\\nGitHub \u8bba\u575b\uff1a[https://github.com/apache/incubator-doris/discussions](https://github.com/apache/incubator-doris/discussions)\\n\\nDev \u90ae\u4ef6\u7ec4\uff1a[dev@doris.apache.org](dev@doris.apache.org)\\n\\n## \u81f4\u8c22\\n\\nApache Doris 1.1 Release \u7248\u672c\u7684\u53d1\u5e03\u79bb\u4e0d\u5f00\u6240\u6709\u793e\u533a\u7528\u6237\u7684\u652f\u6301\uff0c\u5728\u6b64\u5411\u6240\u6709\u53c2\u4e0e\u7248\u672c\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u8ba8\u8bba\u7684\u793e\u533a\u8d21\u732e\u8005\u4eec\u8868\u793a\u611f\u8c22\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff1a\\n\\n```\\n\\n@adonis0147\\n\\n@airborne12\\n\\n@amosbird\\n\\n@aopangzi\\n\\n@arthuryangcs\\n\\n@awakeljw\\n\\n@BePPPower\\n\\n@BiteTheDDDDt\\n\\n@bridgeDream\\n\\n@caiconghui\\n\\n@cambyzju\\n\\n@ccoffline\\n\\n@chenlinzhong\\n\\n@daikon12\\n\\n@DarvenDuan\\n\\n@dataalive\\n\\n@dataroaring\\n\\n@deardeng\\n\\n@Doris-Extras\\n\\n@emerkfu\\n\\n@EmmyMiao87\\n\\n@englefly\\n\\n@Gabriel39\\n\\n@GoGoWen\\n\\n@gtchaos\\n\\n@HappenLee\\n\\n@hello-stephen\\n\\n@Henry2SS\\n\\n@hewei-nju\\n\\n@hf200012\\n\\n@jacktengg\\n\\n@jackwener\\n\\n@Jibing-Li\\n\\n@JNSimba\\n\\n@kangshisen\\n\\n@Kikyou1997\\n\\n@kylinmac\\n\\n@Lchangliang\\n\\n@leo65535\\n\\n@liaoxin01\\n\\n@liutang123\\n\\n@lovingfeel\\n\\n@luozenglin\\n\\n@luwei16\\n\\n@luzhijing\\n\\n@mklzl\\n\\n@morningman\\n\\n@morrySnow\\n\\n@nextdreamblue\\n\\n@Nivane\\n\\n@pengxiangyu\\n\\n@qidaye\\n\\n@qzsee\\n\\n@SaintBacchus\\n\\n@SleepyBear96\\n\\n@smallhibiscus\\n\\n@spaces-X\\n\\n@stalary\\n\\n@starocean999\\n\\n@steadyBoy\\n\\n@SWJTU-ZhangLei\\n\\n@Tanya-W\\n\\n@tarepanda1024\\n\\n@tianhui5\\n\\n@Userwhite\\n\\n@wangbo\\n\\n@wangyf0555\\n\\n@weizuo93\\n\\n@whutpencil\\n\\n@wsjz\\n\\n@wunan1210\\n\\n@xiaokang\\n\\n@xinyiZzz\\n\\n@xlwh\\n\\n@xy720\\n\\n@yangzhg\\n\\n@Yankee24\\n\\n@yiguolei\\n\\n@yinzhijian\\n\\n@yixiutt\\n\\n@zbtzbtzbt\\n\\n@zenoyang\\n\\n@zhangstar333\\n\\n@zhangyifan27\\n\\n@zhannngchen\\n\\n@zhengshengjun\\n\\n@zhengshiJ\\n\\n@zingdle\\n\\n@zuochunwei\\n\\n@zy-kkk\\n```"},{"id":"/Annoucing","metadata":{"permalink":"/zh-CN/blog/Annoucing","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/Annoucing.md","title":"\u5f00\u6e90\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93 Apache Doris \u6b63\u5f0f\u6210\u4e3a\u9876\u7ea7\u9879\u76ee","description":"\x3c!--","date":"2022-06-16T00:00:00.000Z","formattedDate":"2022\u5e746\u670816\u65e5","tags":[{"label":"\u91cd\u5927\u65b0\u95fb","permalink":"/zh-CN/blog/tags/\u91cd\u5927\u65b0\u95fb"}],"truncated":false,"authors":[{"name":"\u9648\u660e\u96e8"}],"frontMatter":{"title":"\u5f00\u6e90\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93 Apache Doris \u6b63\u5f0f\u6210\u4e3a\u9876\u7ea7\u9879\u76ee","summary":"Apache Doris \u662f\u4e00\u4e2a\u57fa\u4e8e MPP \u7684\u73b0\u4ee3\u5316\u3001\u9ad8\u6027\u80fd\u3001\u5b9e\u65f6\u7684\u5206\u6790\u578b\u6570\u636e\u5e93\uff0c\u4ee5\u6781\u901f\u6613\u7528\u7684\u7279\u70b9\u88ab\u4eba\u4eec\u6240\u719f\u77e5\uff0c\u4ec5\u9700\u4e9a\u79d2\u7ea7\u54cd\u5e94\u65f6\u95f4\u5373\u53ef\u8fd4\u56de\u6d77\u91cf\u6570\u636e\u4e0b\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u652f\u6301\u9ad8\u5e76\u53d1\u7684\u70b9\u67e5\u8be2\u573a\u666f\uff0c\u4e5f\u80fd\u652f\u6301\u9ad8\u541e\u5410\u7684\u590d\u6742\u5206\u6790\u573a\u666f\u3002\u57fa\u4e8e\u6b64\uff0cApache Doris \u5728\u591a\u7ef4\u62a5\u8868\u3001\u7528\u6237\u753b\u50cf\u3001\u5373\u5e2d\u67e5\u8be2\u3001\u5b9e\u65f6\u5927\u5c4f\u7b49\u8bf8\u591a\u4e1a\u52a1\u9886\u57df\u90fd\u80fd\u5f97\u5230\u5f88\u597d\u5e94\u7528\u3002","date":"2022-06-16","author":"\u9648\u660e\u96e8","tags":["\u91cd\u5927\u65b0\u95fb"]},"prevItem":{"title":"Apache Doris 1.1 Release \u7248\u672c\u6b63\u5f0f\u53d1\u5e03","permalink":"/zh-CN/blog/1.1 Release"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 1.0.0 Release","permalink":"/zh-CN/blog/release-note-1.0.0"}},"content":"\x3c!-- \\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\nApache Doris \u662f\u4e00\u4e2a\u57fa\u4e8e MPP \u7684\u73b0\u4ee3\u5316\u3001\u9ad8\u6027\u80fd\u3001\u5b9e\u65f6\u7684\u5206\u6790\u578b\u6570\u636e\u5e93\uff0c\u4ee5\u6781\u901f\u6613\u7528\u7684\u7279\u70b9\u88ab\u4eba\u4eec\u6240\u719f\u77e5\uff0c\u4ec5\u9700\u4e9a\u79d2\u7ea7\u54cd\u5e94\u65f6\u95f4\u5373\u53ef\u8fd4\u56de\u6d77\u91cf\u6570\u636e\u4e0b\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u652f\u6301\u9ad8\u5e76\u53d1\u7684\u70b9\u67e5\u8be2\u573a\u666f\uff0c\u4e5f\u80fd\u652f\u6301\u9ad8\u541e\u5410\u7684\u590d\u6742\u5206\u6790\u573a\u666f\u3002\u57fa\u4e8e\u6b64\uff0cApache Doris \u5728\u591a\u7ef4\u62a5\u8868\u3001\u7528\u6237\u753b\u50cf\u3001\u5373\u5e2d\u67e5\u8be2\u3001\u5b9e\u65f6\u5927\u5c4f\u7b49\u8bf8\u591a\u4e1a\u52a1\u9886\u57df\u90fd\u80fd\u5f97\u5230\u5f88\u597d\u5e94\u7528\u3002\\n\\nApache Doris \u6700\u65e9\u662f\u8bde\u751f\u4e8e\u767e\u5ea6\u5185\u90e8\u5e7f\u544a\u62a5\u8868\u4e1a\u52a1\u7684 Palo \u9879\u76ee\uff0c2017 \u5e74\u6b63\u5f0f\u5bf9\u5916\u5f00\u6e90\uff0c2018 \u5e74 7 \u6708\u7531\u767e\u5ea6\u6350\u8d60\u7ed9 Apache \u57fa\u91d1\u4f1a\u8fdb\u884c\u5b75\u5316\uff0c\u4e4b\u540e\u5728 Apache \u5bfc\u5e08\u7684\u6307\u5bfc\u4e0b\u7531\u5b75\u5316\u5668\u9879\u76ee\u7ba1\u7406\u59d4\u5458\u4f1a\u6210\u5458\u8fdb\u884c\u5b75\u5316\u548c\u8fd0\u8425\u3002\\n\\n\u6211\u4eec\u5f88\u81ea\u8c6a Doris \u80fd\u591f\u987a\u5229\u4ece Apache \u5b75\u5316\u5668\u6bd5\u4e1a\uff0c\u8fd9\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u91cc\u7a0b\u7891\u3002\u5728\u6574\u4e2a\u5b75\u5316\u9636\u6bb5\uff0c\u4f9d\u9760 Apache \u7406\u5ff5\u7684\u6307\u5bfc\u548c\u5b75\u5316\u5668\u5bfc\u5e08\u7684\u5e2e\u52a9\uff0c\u6211\u4eec\u5b66\u4f1a\u4e86\u5982\u4f55\u4ee5 Apache \u7684\u65b9\u5f0f\u53bb\u53d1\u5c55\u6211\u4eec\u7684\u9879\u76ee\u4e0e\u793e\u533a\uff0c\u4e5f\u5728\u8fd9\u4e00\u8fdb\u7a0b\u4e2d\u83b7\u5f97\u4e86\u5de8\u5927\u7684\u6210\u957f\u3002\\n\\n\u76ee\u524d Apache Doris \u793e\u533a\u5df2\u7ecf\u805a\u96c6\u4e86\u6765\u81ea\u4e0d\u540c\u884c\u4e1a\u8fd1\u767e\u5bb6\u4f01\u4e1a\u7684 300 \u4f59\u4f4d\u8d21\u732e\u8005\uff0c\u5e76\u4e14\u6bcf\u6708\u6d3b\u8dc3\u8d21\u732e\u8005\u4eba\u6570\u4e5f\u63a5\u8fd1 100 \u4f4d\u3002\u5728\u5b75\u5316\u671f\u95f4\uff0cApache Doris \u4e00\u5171\u53d1\u5e03\u4e86 8 \u4e2a\u91cd\u8981\u7248\u672c\uff0c\u5b8c\u6210\u4e86\u5305\u62ec\u5b58\u50a8\u5f15\u64ce\u5347\u7ea7\u3001\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u7b49\u8bf8\u591a\u91cd\u5927\u529f\u80fd\uff0c\u5e76\u6b63\u5f0f\u53d1\u5e03\u4e86 1.0 \u7248\u672c\u3002\u6b63\u662f\u4f9d\u9760\u8fd9\u4e9b\u6765\u81ea\u5f00\u6e90\u8d21\u732e\u8005\u7684\u529b\u91cf\uff0c\u624d\u4f7f\u5f97 Apache Doris \u53d6\u5f97\u4e86\u4eca\u5929\u7684\u6210\u7ee9\u3002\\n\\n\u4e0e\u6b64\u540c\u65f6\uff0cApache Doris \u5982\u4eca\u5728\u4e2d\u56fd\u4e43\u81f3\u5168\u7403\u8303\u56f4\u5185\u90fd\u62e5\u6709\u7740\u6781\u4e3a\u5e7f\u6cdb\u7684\u7528\u6237\u7fa4\u4f53\uff0c\u622a\u6b62\u76ee\u524d\uff0c Apache Doris \u5df2\u7ecf\u5728\u5168\u7403\u8d85\u8fc7 500 \u5bb6\u4f01\u4e1a\u7684\u751f\u4ea7\u73af\u5883\u4e2d\u5f97\u5230\u5e94\u7528\uff0c\u5728\u4e2d\u56fd\u5e02\u503c\u6216\u4f30\u503c\u6392\u884c\u524d 50 \u7684\u4e92\u8054\u7f51\u516c\u53f8\u4e2d\uff0c\u6709\u8d85\u8fc7 80% \u957f\u671f\u4f7f\u7528 Apache Doris\uff0c\u5305\u62ec\u767e\u5ea6\u3001\u7f8e\u56e2\u3001\u5c0f\u7c73\u3001\u4eac\u4e1c\u3001\u5b57\u8282\u8df3\u52a8\u3001\u817e\u8baf\u3001\u5feb\u624b\u3001\u7f51\u6613\u3001\u5fae\u535a\u3001\u65b0\u6d6a\u3001360 \u7b49\u77e5\u540d\u516c\u53f8\u3002\u540c\u65f6\u5728\u4e00\u4e9b\u4f20\u7edf\u884c\u4e1a\u5982\u91d1\u878d\u3001\u80fd\u6e90\u3001\u5236\u9020\u3001\u7535\u4fe1\u7b49\u9886\u57df\u4e5f\u6709\u7740\u4e30\u5bcc\u7684\u5e94\u7528\u3002\\n\\n\u4f60\u53ef\u4ee5\u57fa\u4e8e Apache Doris \u5feb\u901f\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u6613\u7528\u5e76\u4e14\u6027\u80fd\u5f3a\u5927\u7684\u6570\u636e\u5206\u6790\u5e73\u53f0\uff0c\u975e\u5e38\u6613\u4e8e\u4e0a\u624b\uff0c\u6240\u9700\u8981\u4ed8\u51fa\u7684\u5b66\u4e60\u6210\u672c\u975e\u5e38\u4f4e\u3002\u5e76\u4e14 Apache Doris \u7684\u5206\u5e03\u5f0f\u67b6\u6784\u975e\u5e38\u7b80\u6d01\uff0c\u53ef\u4ee5\u6781\u5927\u964d\u4f4e\u7cfb\u7edf\u8fd0\u7ef4\u7684\u5de5\u4f5c\u91cf\uff0c\u8fd9\u4e5f\u662f\u8d8a\u6765\u8d8a\u591a\u7528\u6237\u9009\u62e9 Apache Doris \u7684\u5173\u952e\u56e0\u7d20\u3002\\n\\n\u4f5c\u4e3a\u4e00\u6b3e\u6210\u719f\u7684\u5206\u6790\u578b\u6570\u636e\u5e93\u9879\u76ee\uff0cApache Doris \u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a\\n\\n-   \u6027\u80fd\u4f18\u5f02\uff1a\u81ea\u5e26\u9ad8\u6548\u7684\u5217\u5f0f\u5b58\u50a8\u5f15\u64ce\uff0c\u51cf\u5c11\u6570\u636e\u626b\u63cf\u91cf\u7684\u540c\u65f6\u8fd8\u5b9e\u73b0\u4e86\u8d85\u9ad8\u7684\u6570\u636e\u538b\u7f29\u6bd4\u3002\u540c\u65f6 Doris \u8fd8\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u7d22\u5f15\u7ed3\u6784\u6765\u52a0\u901f\u6570\u636e\u8bfb\u53d6\u4e0e\u8fc7\u6ee4\uff0c\u5229\u7528\u5206\u533a\u5206\u6876\u88c1\u526a\u529f\u80fd\uff0cDoris \u53ef\u4ee5\u652f\u6301\u5728\u7ebf\u670d\u52a1\u4e1a\u52a1\u7684\u8d85\u9ad8\u5e76\u53d1\uff0c\u5355\u8282\u70b9\u6700\u9ad8\u53ef\u652f\u6301\u4e0a\u5343 QPS\u3002\u66f4\u8fdb\u4e00\u6b65\uff0cApache Doris \u7ed3\u5408\u4e86\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u6765\u5145\u5206\u53d1\u6325\u73b0\u4ee3\u5316 CPU \u5e76\u884c\u8ba1\u7b97\u80fd\u529b\uff0c\u8f85\u4ee5\u667a\u80fd\u7269\u5316\u89c6\u56fe\u6280\u672f\u5b9e\u73b0\u9884\u805a\u5408\u52a0\u901f\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u4f18\u5316\u5668\u540c\u65f6\u8fdb\u884c\u57fa\u4e8e\u89c4\u5212\u548c\u57fa\u4e8e\u4ee3\u4ef7\u7684\u67e5\u8be2\u4f18\u5316\u3002\u901a\u8fc7\u4e0a\u8ff0\u591a\u79cd\u65b9\u5f0f\uff0c\u5b9e\u73b0\u4e86\u6781\u81f4\u7684\u67e5\u8be2\u6027\u80fd\u3002\\n\\n-   \u7b80\u5355\u6613\u7528\uff1a\u652f\u6301\u6807\u51c6 ANSI SQL \u8bed\u6cd5\uff0c\u5305\u62ec\u5355\u8868\u805a\u5408\u3001\u6392\u5e8f\u3001\u8fc7\u6ee4\u548c\u591a\u8868 Join\u3001\u5b50\u67e5\u8be2\u7b49\uff0c\u8fd8\u652f\u6301\u7a97\u53e3\u51fd\u6570\u3001Grouping Set \u7b49\u590d\u6742 SQL \u8bed\u6cd5\uff0c\u540c\u65f6\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 UDF \u548c UDAF \u7b49\u81ea\u5b9a\u4e49\u51fd\u6570\u6765\u62d3\u5c55\u7cfb\u7edf\u529f\u80fd\u3002\u9664\u6b64\u4ee5\u5916\uff0cApache Doris \u8fd8\u5b9e\u73b0\u4e86 MySQL \u534f\u8bae\u517c\u5bb9\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5404\u7c7b\u5ba2\u6237\u7aef\u5de5\u5177\u6765\u8bbf\u95ee Doris\uff0c\u5e76\u652f\u6301\u4e0e BI \u5de5\u5177\u7684\u65e0\u7f1d\u5bf9\u63a5\u3002\\n\\n-   \u67b6\u6784\u7cbe\u7b80\uff1a\u7cfb\u7edf\u53ea\u6709\u4e24\u4e2a Frontend\uff08FE\uff09\u548c Backend\uff08BE\uff09\u4e24\u4e2a\u6a21\u5757\uff0c\u5176\u4e2d FE \u8282\u70b9\u8d1f\u8d23\u7528\u6237\u8bf7\u6c42\u7684\u63a5\u5165\u3001\u67e5\u8be2\u8ba1\u5212\u7684\u89e3\u6790\u3001\u5143\u6570\u636e\u5b58\u50a8\u53ca\u96c6\u7fa4\u7ba1\u7406\u7b49\u5de5\u4f5c\uff0cBE \u8282\u70b9\u8d1f\u8d23\u6570\u636e\u5b58\u50a8\u548c\u67e5\u8be2\u8ba1\u5212\u7684\u6267\u884c\uff0c\u81ea\u8eab\u5c31\u662f\u4e00\u4e2a\u5b8c\u5907\u7684\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u7528\u6237\u65e0\u9700\u5b89\u88c5\u4efb\u4f55\u7b2c\u4e09\u65b9\u7ba1\u63a7\u7ec4\u4ef6\u5373\u53ef\u8fd0\u884c\u8d77 Apache Doris \u96c6\u7fa4\uff0c\u5e76\u4e14\u90e8\u7f72\u548c\u5347\u7ea7\u8fc7\u7a0b\u90fd\u975e\u5e38\u7b80\u6613\u3002\u540c\u65f6\uff0c\u4efb\u4e00\u6a21\u5757\u90fd\u53ef\u4ee5\u652f\u6301\u6a2a\u5411\u62d3\u5c55\uff0c\u96c6\u7fa4\u6700\u9ad8\u53ef\u4ee5\u62d3\u5c55\u5230\u6570\u767e\u4e2a\u8282\u70b9\uff0c\u652f\u6301\u5b58\u50a8\u8d85\u8fc7 10PB \u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u3002\\n\\n-   \u7a33\u5b9a\u53ef\u9760\uff1a\u652f\u6301\u6570\u636e\u591a\u526f\u672c\u5b58\u50a8\uff0c\u96c6\u7fa4\u5177\u5907\u81ea\u6108\u529f\u80fd\uff0c\u81ea\u8eab\u7684\u5206\u5e03\u5f0f\u7ba1\u7406\u6846\u67b6\u53ef\u4ee5\u81ea\u52a8\u7ba1\u7406\u6570\u636e\u526f\u672c\u7684\u5206\u5e03\u3001\u4fee\u590d\u548c\u5747\u8861\uff0c\u526f\u672c\u635f\u574f\u65f6\u7cfb\u7edf\u53ef\u4ee5\u81ea\u52a8\u611f\u77e5\u5e76\u8fdb\u884c\u4fee\u590d\u3002\u8282\u70b9\u6269\u5bb9\u65f6\uff0c\u4ec5\u9700\u4e00\u6761 SQL \u547d\u4ee4\u5373\u53ef\u5b8c\u6210\uff0c\u6570\u636e\u5206\u7247\u4f1a\u81ea\u52a8\u5728\u8282\u70b9\u95f4\u5747\u8861\uff0c\u65e0\u9700\u4eba\u5de5\u5e72\u9884\u6216\u64cd\u4f5c\u3002\u65e0\u8bba\u662f\u6269\u5bb9\u3001\u7f29\u5bb9\u3001\u5355\u8282\u70b9\u6545\u969c\u8fd8\u662f\u5728\u5347\u7ea7\u8fc7\u7a0b\u4e2d\uff0c\u7cfb\u7edf\u90fd\u65e0\u9700\u505c\u6b62\u8fd0\u884c\uff0c\u53ef\u6b63\u5e38\u63d0\u4f9b\u7a33\u5b9a\u53ef\u9760\u7684\u5728\u7ebf\u670d\u52a1\u3002\\n\\n-   \u751f\u6001\u4e30\u5bcc\uff1a\u63d0\u4f9b\u4e30\u5bcc\u7684\u6570\u636e\u540c\u6b65\u65b9\u5f0f\uff0c\u652f\u6301\u5feb\u901f\u52a0\u8f7d\u6765\u81ea\u672c\u5730\u3001Hadoop\u3001Flink\u3001Spark\u3001Kafka\u3001SeaTunnel \u7b49\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee MySQL\u3001PostgreSQL\u3001Oracle\u3001S3\u3001Hive\u3001Iceberg\u3001Elasticsearch \u7b49\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u800c\u65e0\u9700\u6570\u636e\u590d\u5236\u3002\u540c\u65f6\u5b58\u50a8\u5728 Doris \u4e2d\u7684\u6570\u636e\u4e5f\u53ef\u4ee5\u88ab Spark\u3001Flink \u8bfb\u53d6\uff0c\u5e76\u4e14\u53ef\u4ee5\u8f93\u51fa\u7ed9\u4e0a\u6e38\u6570\u636e\u5e94\u7528\u8fdb\u884c\u5c55\u793a\u5206\u6790\u3002\\n\\n\u6bd5\u4e1a\u4e0d\u662f\u6700\u7ec8\u76ee\u6807\uff0c\u5b83\u662f\u65b0\u5f81\u7a0b\u7684\u8d77\u70b9\u3002\u5728\u8fc7\u53bb\uff0c\u6211\u4eec\u53d1\u8d77 Doris \u7684\u76ee\u6807\u662f\u4e3a\u66f4\u591a\u4eba\u63d0\u4f9b\u4f53\u9a8c\u66f4\u4f73\u7684\u6570\u636e\u5206\u6790\u5de5\u5177\u3001\u89e3\u51b3\u4ed6\u4eec\u6570\u636e\u5206\u6790\u7684\u96be\u9898\u3002\u6210\u4e3a Apache \u9876\u7ea7\u9879\u76ee\u4e00\u65b9\u9762\u662f\u5bf9 Apache Doris \u793e\u533a\u8fc7\u53bb\u6240\u6709\u8d21\u732e\u8005\u4e00\u76f4\u4ee5\u6765\u8f9b\u52e4\u5de5\u4f5c\u7684\u80af\u5b9a\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u610f\u5473\u7740\u6211\u4eec\u5728 Apache Way \u7684\u6307\u5f15\u4e0b\u5efa\u7acb\u4e86\u4e00\u4e2a\u5f3a\u5927\u7684\u3001\u7e41\u8363\u7684\u3001\u53ef\u6301\u7eed\u53d1\u5c55\u7684\u5f00\u6e90\u793e\u533a\u3002\u672a\u6765\u6211\u4eec\u5c06\u4f1a\u7ee7\u7eed\u4ee5 Apache \u65b9\u5f0f\u8fd0\u4f5c\u793e\u533a\uff0c\u76f8\u4fe1\u4f1a\u5438\u5f15\u5230\u66f4\u591a\u4f18\u79c0\u7684\u5f00\u6e90\u8d21\u732e\u8005\u53c2\u4e0e\u793e\u533a\u4e2d\u6765\uff0c\u793e\u533a\u4e5f\u4f1a\u5728\u6240\u6709\u8d21\u732e\u8005\u7684\u5e2e\u52a9\u4e0b\u5f97\u5230\u8fdb\u4e00\u6b65\u6210\u957f\u3002\\n\\nApache Doris \u540e\u7eed\u5c06\u5f00\u5c55\u66f4\u591a\u5bcc\u6709\u6311\u6218\u4e14\u6709\u610f\u4e49\u7684\u5de5\u4f5c\uff0c\u5305\u62ec\u65b0\u7684\u67e5\u8be2\u4f18\u5316\u5668\u3001\u5bf9\u6e56\u4ed3\u4e00\u4f53\u5316\u7684\u652f\u6301\uff0c\u4ee5\u53ca\u9762\u5411\u4e91\u4e0a\u57fa\u7840\u8bbe\u65bd\u7684\u67b6\u6784\u6f14\u8fdb\u7b49\u7b49\u3002\u6b22\u8fce\u66f4\u591a\u7684\u5f00\u6e90\u6280\u672f\u7231\u597d\u8005\u52a0\u5165 Apache Doris \u7684\u793e\u533a\uff0c\u643a\u624b\u5171\u6210\u957f\u3002\\n\\n\u6211\u4eec\u518d\u6b21\u7531\u8877\u5730\u611f\u8c22\u6240\u6709\u53c2\u4e0e\u5efa\u8bbe Apache Doris \u793e\u533a\u7684\u8d21\u732e\u8005\u4eec\uff0c\u4ee5\u53ca\u6240\u6709\u4f7f\u7528 Apache Doris \u5e76\u4e0d\u65ad\u63d0\u51fa\u6539\u8fdb\u5efa\u8bae\u7684\u7528\u6237\u4eec\u3002\u540c\u65f6\u4e5f\u611f\u8c22\u4e00\u8def\u8d70\u6765\uff0c\u4e0d\u65ad\u9f13\u52b1\u3001\u652f\u6301\u548c\u5e2e\u52a9\u8fc7\u6211\u4eec\u7684\u5b75\u5316\u5668\u5bfc\u5e08\u3001IPMC \u6210\u5458\u4ee5\u53ca\u5404\u4e2a\u5f00\u6e90\u9879\u76ee\u793e\u533a\u7684\u670b\u53cb\u4eec\u3002\\n\\n**Apache Doris GitHub\uff1a**\\n\\n[https://github.com/apache/doris](https://github.com/apache/doris)\\n\\n**Apache Doris website:**\\n\\n[http://doris.apache.org](http://doris.apache.org)\\n\\n**Please contact us via:**\\n\\n[dev@doris.apache.org.](dev@doris.apache.org.)\\n\\n**See How to subscribe:**\\n\\n[https://doris.apache.org/zh-CN/community/subscribe-mail-list](https://doris.apache.org/zh-CN/community/subscribe-mail-list/)"},{"id":"/release-note-1.0.0","metadata":{"permalink":"/zh-CN/blog/release-note-1.0.0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-note-1.0.0.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 1.0.0 Release","description":"\x3c!--","date":"2022-04-18T00:00:00.000Z","formattedDate":"2022\u5e744\u670818\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 1.0.0 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 1.0.0 Release","date":"2022-04-18","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"\u5f00\u6e90\u5b9e\u65f6\u5206\u6790\u578b\u6570\u636e\u5e93 Apache Doris \u6b63\u5f0f\u6210\u4e3a\u9876\u7ea7\u9879\u76ee","permalink":"/zh-CN/blog/Annoucing"},"nextItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 0.15.0 Release","permalink":"/zh-CN/blog/release-note-0.15.0"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# Apache Doris(Incubating) 1.0.0 Release\\n\\n\u4eb2\u7231\u7684\u793e\u533a\u5c0f\u4f19\u4f34\u4eec\uff0c\u5386\u65f6\u6570\u6708\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0cApache Doris (incubating) \u4e8e 2022 \u5e74 4 \u6708 18 \u65e5\u8fce\u6765\u4e86 1.0 Release \u7248\u672c\u7684\u6b63\u5f0f\u53d1\u5e03\uff01**\u8fd9\u662f Apache Doris \u5728\u8fdb\u5165 Apache \u57fa\u91d1\u4f1a\u5b75\u5316\u4ee5\u6765\u7684\u7b2c\u4e00\u4e2a 1 \u4f4d\u7248\u672c\uff0c\u4e5f\u662f\u8fc4\u4eca\u4e3a\u6b62\u5bf9 Apache Doris \u6838\u5fc3\u4ee3\u7801\u91cd\u6784\u5e45\u5ea6\u6700\u5927\u7684\u4e00\u4e2a\u7248\u672c\\\\*\\\\***\uff01**\u6709 **114 \u4f4d Contributor** \u4e3a Apache Doris \u63d0\u4ea4\u4e86**\u8d85\u8fc7 660 \u9879\u4f18\u5316\u548c\u4fee\u590d\\\\*\\\\*\uff0c\u611f\u8c22\u6bcf\u4e00\u4e2a\u8ba9 Apache Doris \u53d8\u5f97\u66f4\u597d\u7684\u4f60\uff01\\n\\n\u5728 1.0 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3001Hive \u5916\u90e8\u8868\u3001Lateral View \u8bed\u6cd5\u53ca Table Function \u8868\u51fd\u6570\u3001Z-Order \u6570\u636e\u7d22\u5f15\u3001Apache SeaTunnel \u63d2\u4ef6\u7b49\u91cd\u8981\u529f\u80fd\uff0c\u589e\u52a0\u4e86\u5bf9 Flink CDC \u540c\u6b65\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e\u7684\u652f\u6301\uff0c\u4f18\u5316\u4e86\u8bf8\u591a\u6570\u636e\u5bfc\u5165\u548c\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u7684\u95ee\u9898\uff0c\u5bf9 Apache Doris \u7684\u67e5\u8be2\u6027\u80fd\u3001\u6613\u7528\u6027\u3001\u7a33\u5b9a\u6027\u7b49\u591a\u65b9\u7279\u6548\u8fdb\u884c\u4e86\u5168\u9762\u52a0\u5f3a\uff0c\u6b22\u8fce\u5927\u5bb6\u4e0b\u8f7d\u4f7f\u7528\uff01\u70b9\u51fb\u6587\u672b\u201c**\u9605\u8bfb\u539f\u6587**\u201d\u5373\u53ef\u76f4\u63a5\u524d\u5f80\u4e0b\u8f7d\u5730\u5740\u3002\\n\\n\u6bcf\u4e00\u4e2a\u4e0d\u66fe\u53d1\u7248\u7684\u65e5\u5b50\uff0c\u80cc\u540e\u90fd\u6709\u65e0\u6570\u8d21\u732e\u8005\u6795\u6208\u5f85\u65e6\uff0c\u4e0d\u6562\u505c\u6b47\u534a\u5206\u3002\u5728\u6b64\u6211\u4eec\u5c24\u5176\u8981\u611f\u8c22\u6765\u81ea**\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3001\u67e5\u8be2\u4f18\u5316\u5668\u3001\u53ef\u89c6\u5316\u8fd0\u7ef4\u5e73\u53f0 \u7b49 SIG \uff08\u4e13\u9879\u5174\u8da3\u5c0f\u7ec4\uff09\u7684\u5c0f\u4f19\u4f34**\u3002\u81ea 2021 \u5e74 8 \u6708 Apache Doris \u793e\u533a SIG \u5c0f\u7ec4\u6210\u7acb\u4ee5\u6765\uff0c**\u6765\u81ea\u767e\u5ea6\u3001\u7f8e\u56e2\u3001\u5c0f\u7c73\u3001\u4eac\u4e1c\u3001\u8700\u6d77\u3001\u5b57\u8282\u8df3\u52a8\u3001\u817e\u8baf\u3001\u7f51\u6613\u3001\u963f\u91cc\u5df4\u5df4\u3001PingCAP\u3001Nebula Graph \u7b49\u5341\u4f59\u5bb6\u516c\u53f8\u7684\u6570\u5341\u540d\u8d21\u732e\u8005**\u4f5c\u4e3a\u9996\u6279\u6210\u5458\u52a0\u5165\u5230 SIG \u4e2d\uff0c\u7b2c\u4e00\u6b21\u4ee5\u4e13\u9879\u5c0f\u7ec4\u7684\u5f00\u6e90\u534f\u4f5c\u5f62\u5f0f\u5b8c\u6210\u4e86\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u3001\u67e5\u8be2\u4f18\u5316\u5668\u3001 Doris Manager \u53ef\u89c6\u5316\u76d1\u63a7\u8fd0\u7ef4\u5e73\u53f0\u7b49\u5982\u6b64\u91cd\u5927\u529f\u80fd\u7684\u5f00\u53d1\uff0c**\u5386\u65f6\u534a\u5e74\u4ee5\u4e0a\u3001\u5f00\u5c55\u6280\u672f\u8c03\u7814\u548c\u5206\u4eab\u6570\u5341\u6b21\u3001\u53ec\u5f00\u8fdc\u7a0b\u4f1a\u8bae\u8fd1\u767e\u6b21\u3001\u7d2f\u8ba1\u63d0\u4ea4 Commits \u591a\u8fbe\u6570\u767e\u4e2a\u3001\u6d89\u53ca\u4ee3\u7801\u884c\u6570\u9ad8\u8fbe\u5341\u4f59\u4e07\u884c**\uff0c\u6b63\u662f\u56e0\u4e3a\u6709\u4ed6\u4eec\u7684\u8d21\u732e\uff0c\u624d\u6709 1.0 \u7248\u672c\u7684\u95ee\u4e16\uff0c\u8ba9\u6211\u4eec\u518d\u6b21\u5bf9\u4ed6\u4eec\u7684\u8f9b\u52e4\u4ed8\u51fa\u8868\u793a\u6700\u771f\u8bda\u7684\u611f\u8c22\uff01\\n\\n\u4e0e\u6b64\u540c\u65f6\uff0cApache Doris \u7684\u8d21\u732e\u8005\u6570\u91cf\u5df2\u8d85\u8fc7 300 \u4eba\uff0c\u6bcf\u6708\u6d3b\u8dc3\u7684\u8d21\u732e\u8005\u6570\u91cf\u8d85\u8fc7\u4e86 60 \u4eba\uff0c\u8fd1\u51e0\u5468\u5e73\u5747\u6bcf\u5468\u63d0\u4ea4\u7684 Commits \u6570\u91cf\u4e5f\u8d85\u8fc7 80\uff0c\u793e\u533a\u805a\u96c6\u7684\u5f00\u53d1\u8005\u89c4\u6a21\u53ca\u6d3b\u8dc3\u5ea6\u5df2\u7ecf\u6709\u4e86\u6781\u5927\u7684\u63d0\u5347\u3002\u6211\u4eec\u5341\u5206\u671f\u5f85\u6709\u66f4\u591a\u7684\u5c0f\u4f19\u4f34\u53c2\u4e0e\u793e\u533a\u8d21\u732e\u4e2d\u6765\uff0c\u4e0e\u6211\u4eec\u4e00\u9053\u628a Apache Doris \u6253\u9020\u6210\u5168\u7403\u9876\u7ea7\u7684\u5206\u6790\u578b\u6570\u636e\u5e93\uff0c\u4e5f\u671f\u5f85\u6240\u6709\u5c0f\u4f19\u4f34\u53ef\u4ee5\u4e0e\u6211\u4eec\u4e00\u8d77\u6536\u83b7\u5b9d\u8d35\u7684\u6210\u957f\u3002\u5982\u679c\u4f60\u60f3\u53c2\u4e0e\u793e\u533a\uff0c\u6b22\u8fce\u901a\u8fc7\u5f00\u53d1\u8005\u90ae\u7bb1 dev@doris.apache.org \u4e0e\u6211\u4eec\u53d6\u5f97\u8054\u7cfb\u3002\\n\\n\u6211\u4eec\u6b22\u8fce\u5927\u5bb6\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4efb\u4f55\u95ee\u9898\u901a\u8fc7 GitHub Discussion \u6216\u8005 Dev \u90ae\u4ef6\u7ec4\u4e0e\u6211\u4eec\u53d6\u5f97\u8054\u7cfb\uff0c\u4e5f\u671f\u5f85\u5927\u5bb6\u53c2\u4e0e\u793e\u533a\u8ba8\u8bba\u548c\u5efa\u8bbe\u4e2d \u3002\\n\\n## \u91cd\u8981\u66f4\u65b0\\n\\n### \u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce [Experimental]\\n\\n\u8fc7\u53bb Apache Doris \u7684 SQL \u6267\u884c\u5f15\u64ce\u662f\u57fa\u4e8e\u884c\u5f0f\u5185\u5b58\u683c\u5f0f\u4ee5\u53ca\u57fa\u4e8e\u4f20\u7edf\u7684\u706b\u5c71\u6a21\u578b\u8fdb\u884c\u8bbe\u8ba1\u7684\uff0c\u5728\u8fdb\u884c SQL \u7b97\u5b50\u4e0e\u51fd\u6570\u8fd0\u7b97\u65f6\u5b58\u5728\u975e\u5fc5\u8981\u7684\u5f00\u9500\uff0c\u5bfc\u81f4 Apache Doris \u6267\u884c\u5f15\u64ce\u7684\u6548\u7387\u53d7\u9650\uff0c\u5e76\u4e0d\u9002\u5e94\u73b0\u4ee3 CPU \u7684\u4f53\u7cfb\u7ed3\u6784\u3002\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u7684\u76ee\u6807\u662f\u66ff\u6362 Apache Doris \u5f53\u524d\u7684\u884c\u5f0f SQL \u6267\u884c\u5f15\u64ce\uff0c\u5145\u5206\u91ca\u653e\u73b0\u4ee3 CPU \u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u7a81\u7834\u5728 SQL \u6267\u884c\u5f15\u64ce\u4e0a\u7684\u6027\u80fd\u9650\u5236\uff0c\u53d1\u6325\u51fa\u6781\u81f4\u7684\u6027\u80fd\u8868\u73b0\u3002\\n\\n\u57fa\u4e8e\u73b0\u4ee3 CPU \u7684\u7279\u70b9\u4e0e\u706b\u5c71\u6a21\u578b\u7684\u6267\u884c\u7279\u70b9\uff0c\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\u91cd\u65b0\u8bbe\u8ba1\u4e86\u5728\u5217\u5f0f\u5b58\u50a8\u7cfb\u7edf\u7684 SQL \u6267\u884c\u5f15\u64ce\uff1a\\n\\n-   \u91cd\u65b0\u7ec4\u7ec7\u5185\u5b58\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528 Column \u66ff\u6362 Tuple\uff0c\u63d0\u9ad8\u4e86\u8ba1\u7b97\u65f6 Cache \u4eb2\u548c\u5ea6\uff0c\u5206\u652f\u9884\u6d4b\u4e0e\u9884\u53d6\u5185\u5b58\u7684\u53cb\u597d\u5ea6\\n-   \u5206\u6279\u8fdb\u884c\u7c7b\u578b\u5224\u65ad\uff0c\u5728\u672c\u6b21\u6279\u6b21\u4e2d\u90fd\u4f7f\u7528\u7c7b\u578b\u5224\u65ad\u65f6\u786e\u5b9a\u7684\u7c7b\u578b\uff0c\u5c06\u6bcf\u4e00\u884c\u7c7b\u578b\u5224\u65ad\u7684\u865a\u51fd\u6570\u5f00\u9500\u5206\u644a\u5230\u6279\u91cf\u7ea7\u522b\u3002\\n-   \u901a\u8fc7\u6279\u7ea7\u522b\u7684\u7c7b\u578b\u5224\u65ad\uff0c\u6d88\u9664\u4e86\u865a\u51fd\u6570\u7684\u8c03\u7528\uff0c\u8ba9\u7f16\u8bd1\u5668\u6709\u51fd\u6570\u5185\u8054\u4ee5\u53ca SIMD \u4f18\u5316\u7684\u673a\u4f1a\\n\\n\u4ece\u800c\u5927\u5927\u63d0\u9ad8\u4e86 CPU \u5728 SQL \u6267\u884c\u65f6\u7684\u6548\u7387\uff0c\u63d0\u5347\u4e86 SQL \u67e5\u8be2\u7684\u6027\u80fd\u3002\\n\\n\u5728 Apache Doris 1.0 \u7248\u672c\u4e2d\uff0c\u901a\u8fc7 set batch_size = 4096 \u548c set enable_vectorized_engine = true \u5f00\u542f\u5411\u91cf\u5316\u6267\u884c\u5f15\u64ce\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u53ef\u663e\u8457\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002\u5728 SSB \u548c OnTime \u6807\u51c6\u6d4b\u8bd5\u6570\u636e\u96c6\u4e0b\uff0c\u591a\u8868\u5173\u8054\u548c\u5bbd\u5217\u67e5\u8be2\u4e24\u5927\u573a\u666f\u7684\u6574\u4f53\u6027\u80fd\u5206\u522b\u6709 3 \u500d\u548c 2.6 \u500d\u7684\u63d0\u5347\u3002\\n\\n![](/images/blogs/1.0/1.0.0-1.png)\\n\\n![](/images/blogs/1.0/1.0.0-2.png)\\n\\n### Lateral View \u8bed\u6cd5 [Experimental]\\n\\n\u901a\u8fc7 Lateral View \u8bed\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 explod_bitmap \u3001explode_split\u3001explode_jaon_array \u7b49 Table Function \u8868\u51fd\u6570\uff0c\u5c06 bitmap\u3001String \u6216 Json Array \u7531\u4e00\u5217\u5c55\u5f00\u6210\u591a\u884c\uff0c\u4ee5\u4fbf\u540e\u7eed\u53ef\u4ee5\u5bf9\u5c55\u5f00\u7684\u6570\u636e\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\uff08\u5982 Filter\u3001Join \u7b49\uff09\u3002\\n\\n### Hive \u5916\u8868 [Experimental]\\n\\nHive External Table \u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u901a\u8fc7 Doris \u76f4\u63a5\u8bbf\u95ee Hive \u8868\u7684\u80fd\u529b\uff0c\u5916\u90e8\u8868\u7701\u53bb\u4e86 \u7e41\u7410\u7684\u6570\u636e\u5bfc\u5165\u5de5\u4f5c\uff0c\u53ef\u4ee5\u501f\u52a9 Doris \u672c\u8eab OLAP \u7684\u80fd\u529b\u6765\u89e3\u51b3 Hive \u8868\u7684\u6570\u636e\u5206\u6790\u95ee\u9898\u3002\u5f53\u524d\u7248\u672c\u652f\u6301\u5c06 Hive \u6570\u636e\u6e90\u63a5\u5165 Doris\uff0c\u5e76\u652f\u6301\u901a\u8fc7 Doris \u4e0e Hive \u6570\u636e\u6e90\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u8054\u90a6\u67e5\u8be2\uff0c\u8fdb\u884c\u66f4\u52a0\u590d\u6742\u7684\u5206\u6790\u64cd\u4f5c\u3002\\n\\n### \u652f\u6301 Z-Order \u6570\u636e\u6392\u5e8f\u683c\u5f0f\\n\\nApache Doris \u6570\u636e\u662f\u6309\u7167\u524d\u7f00\u5217\u6392\u5e8f\u5b58\u50a8\u7684\uff0c\u56e0\u6b64\u5728\u5305\u542b\u524d\u7f00\u67e5\u8be2\u6761\u4ef6\u65f6\uff0c\u53ef\u4ee5\u5728\u6392\u5e8f\u6570\u636e\u4e0a\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u67e5\u627e\uff0c\u4f46\u5982\u679c\u67e5\u8be2\u6761\u4ef6\u4e0d\u662f\u524d\u7f00\u5217\uff0c\u5219\u65e0\u6cd5\u5229\u7528\u6570\u636e\u6392\u5e8f\u7684\u7279\u5f81\u8fdb\u884c\u5feb\u901f\u6570\u636e\u67e5\u627e\u3002\u901a\u8fc7 Z-Order Indexing \u53ef\u4ee5\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c\u5728 1.0 \u7248\u672c\u4e2d\u6211\u4eec\u589e\u52a0\u4e86 Z-Order \u6570\u636e\u6392\u5e8f\u683c\u5f0f\uff0c\u5728\u770b\u677f\u7c7b\u591a\u5217\u67e5\u8be2\u7684\u573a\u666f\u4e2d\u53ef\u4ee5\u8d77\u5230\u5f88\u597d\u8fc7\u6ee4\u6548\u679c\uff0c\u52a0\u901f\u5bf9\u975e\u524d\u7f00\u5217\u6761\u4ef6\u7684\u8fc7\u6ee4\u6027\u80fd\u3002\\n\\n### \u652f\u6301 Apache SeaTunnel\uff08Incubating\uff09\u63d2\u4ef6\\n\\nApache SeaTunnel \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u5206\u5e03\u5f0f\u6570\u636e\u96c6\u6210\u6846\u67b6\uff0c\u67b6\u6784\u4e8e Apache Spark \u548c Apache Flink \u4e4b\u4e0a\u3002\u5728 Apache Doris 1.0 \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u589e\u52a0\u4e86 SaeTunnel \u63d2\u4ef6\uff0c\u7528\u6237\u53ef\u4ee5\u501f\u52a9 Apache SeaTunnel \u8fdb\u884c\u591a\u6570\u636e\u6e90\u4e4b\u95f4\u7684\u540c\u6b65\u548c ETL\u3002\\n\\n### \u65b0\u589e\u51fd\u6570\\n\\n\u652f\u6301\u66f4\u591a bitmap \u51fd\u6570\uff0c\u5177\u4f53\u53ef\u67e5\u770b\u51fd\u6570\u624b\u518c\uff1a\\n\\n-   bitmap_max\\n-   bitmap_and_not\\n-   bitmap_and_not_count\\n-   bitmap_has_all\\n-   bitmap_and_count\\n-   bitmap_or_count\\n-   bitmap_xor_count\\n-   bitmap_subset_limit\\n-   sub_bitmap\\n\\n\u652f\u6301\u56fd\u5bc6\u7b97\u6cd5 SM3/SM4\uff1b\\n\\n> **\u6ce8\u610f**\uff1a\u4ee5\u4e0a\u6807\u8bb0 [Experimental] \u7684\u529f\u80fd\u4e3a\u5b9e\u9a8c\u6027\u529f\u80fd\uff0c\u6211\u4eec\u5c06\u4f1a\u5728\u540e\u7eed\u7248\u672c\u4e2d\u5bf9\u4ee5\u4e0a\u529f\u80fd\u8fdb\u884c\u6301\u7eed\u4f18\u5316\u548c\u8fed\u4ee3\uff0c\u5e76\u540e\u7eed\u7248\u672c\u4e2d\u8fdb\u4e00\u6b65\u5b8c\u5584\u3002\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u6709\u4efb\u4f55\u95ee\u9898\u6216\u610f\u89c1\uff0c\u6b22\u8fce\u968f\u65f6\u4e0e\u6211\u4eec\u8054\u7cfb\\n\\n### \u91cd\u8981\u4f18\u5316\\n\\n### \u529f\u80fd\u4f18\u5316\\n\\n-   \u964d\u4f4e\u5927\u6279\u91cf\u5bfc\u5165\u65f6\uff0c\u751f\u6210\u7684 Segment \u6587\u4ef6\u6570\u91cf\uff0c\u4ee5\u964d\u4f4e Compaction \u538b\u529b\u3002\\n-   \u901a\u8fc7 BRPC \u7684 attachment \u529f\u80fd\u4f20\u8f93\u6570\u636e\uff0c\u4ee5\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u7684\u964d\u4f4e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u5f00\u9500\u3002\\n-   \u652f\u6301\u76f4\u63a5\u8fd4\u56de HLL/BITMAP \u7c7b\u578b\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u7528\u4e8e\u4e1a\u52a1\u5728\u5916\u4fa7\u89e3\u6790\u3002\\n-   \u4f18\u5316\u5e76\u964d\u4f4e BRPC \u51fa\u73b0 OVERCROWDED \u548c NOT_CONNECTED \u9519\u8bef\u7684\u6982\u7387\uff0c\u589e\u5f3a\u7cfb\u7edf\u7a33\u5b9a\u6027\u3002\\n-   \u589e\u5f3a\u5bfc\u5165\u7684\u5bb9\u9519\u6027\u3002\\n-   \u652f\u6301\u901a\u8fc7 Flink CDC \u540c\u6b65\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e\u3002\\n-   \u652f\u6301\u81ea\u9002\u5e94\u7684 Runtime Filter\u3002\\n-   \u663e\u8457\u964d\u4f4e insert into \u64cd\u4f5c\u7684\u5185\u5b58\u5360\u7528\\n\\n### \u6613\u7528\u6027\u6539\u8fdb\\n\\n-   Routine Load \u652f\u6301\u663e\u793a\u5f53\u524d offset \u5ef6\u8fdf\u6570\u91cf\u7b49\u72b6\u6001\u3002\\n-   FE audit log \u4e2d\u589e\u52a0\u67e5\u8be2\u5cf0\u503c\u5185\u5b58\u4f7f\u7528\u91cf\u7684\u7edf\u8ba1\u3002\\n-   Compaction URL \u7ed3\u679c\u4e2d\u589e\u52a0\u7f3a\u5931\u7248\u672c\u7684\u4fe1\u606f\uff0c\u65b9\u4fbf\u6392\u67e5\u95ee\u9898\u3002\\n-   \u652f\u6301\u5c06 BE \u6807\u8bb0\u4e3a\u4e0d\u53ef\u67e5\u8be2\u6216\u4e0d\u53ef\u5bfc\u5165\uff0c\u4ee5\u5feb\u901f\u5c4f\u853d\u95ee\u9898\u8282\u70b9\u3002\\n\\n### \u91cd\u8981 Bug \u4fee\u590d\\n\\n-   \u4fee\u590d\u82e5\u5e72\u67e5\u8be2\u9519\u8bef\u95ee\u9898\u3002\\n-   \u4fee\u590d Broker Load \u82e5\u5e72\u8c03\u5ea6\u903b\u8f91\u95ee\u9898\u3002\\n-   \u4fee\u590d STREAM \u5173\u952e\u8bcd\u5bfc\u81f4\u5143\u6570\u636e\u65e0\u6cd5\u52a0\u8f7d\u7684\u95ee\u9898\u3002\\n-   \u4fee\u590d Decommission \u65e0\u6cd5\u6b63\u786e\u6267\u884c\u7684\u95ee\u9898\u3002\\n-   \u4fee\u590d\u90e8\u5206\u60c5\u51b5\u4e0b\u64cd\u4f5c Schema Change \u64cd\u4f5c\u53ef\u80fd\u51fa\u73b0 -102 \u9519\u8bef\u7684\u95ee\u9898\u3002\\n-   \u4fee\u590d\u90e8\u5206\u60c5\u51b5\u4e0b\u4f7f\u7528 String \u7c7b\u578b\u53ef\u80fd\u5bfc\u81f4 BE \u5b95\u673a\u7684\u95ee\u9898\u3002\\n\\n### \u5176\u4ed6\\n\\n-   \u589e\u52a0 Minidump \u529f\u80fd\uff1b\\n\\n## \u66f4\u65b0\u65e5\u5fd7\\n\\n\u8be6\u7ec6 Release Note \u8bf7\u67e5\u770b\u94fe\u63a5\uff1a\\n\\nhttps://github.com/apache/incubator-doris/issues/8549\\n\\n## \u81f4\u8c22\\n\\nApache Doris(incubating) 1.0 Release \u7248\u672c\u7684\u53d1\u5e03\u79bb\u4e0d\u5f00\u6240\u6709\u793e\u533a\u7528\u6237\u7684\u652f\u6301\uff0c\u5728\u6b64\u5411\u6240\u6709\u53c2\u4e0e\u7248\u672c\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u8ba8\u8bba\u7684\u793e\u533a\u8d21\u732e\u8005\u4eec\u8868\u793a\u611f\u8c22\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff1a\\n\\n```\\n@924060929\\n@adonis0147\\n@Aiden-Dong\\n@aihai\\n@airborne12\\n@Alibaba-HZY\\n@amosbird\\n@arthuryangcs\\n@awakeljw\\n@bingzxy\\n@BiteTheDDDDt\\n@blackstar-baba\\n@caiconghui\\n@CalvinKirs\\n@cambyzju\\n@caoliang-web\\n@ccoffline\\n@chaplinthink\\n@chovy-3012\\n@ChPi\\n@DarvenDuan\\n@dataalive\\n@dataroaring\\n@dh-cloud\\n@dohongdayi\\n@dongweizhao\\n@drgnchan\\n@e0c9\\n@EmmyMiao87\\n@englefly\\n@eyesmoons\\n@freemandealer\\n@Gabriel39\\n@gaodayue\\n@GoGoWen\\n@Gongruixiao\\n@gwdgithubnom\\n@HappenLee\\n@Henry2SS\\n@hf200012\\n@htyoung\\n@jacktengg\\n@jackwener\\n@JNSimba\\n@Keysluomo\\n@kezhenxu94\\n@killxdcj\\n@lihuigang\\n@littleeleventhwolf\\n@liutang123\\n@liuzhuang2017\\n@lonre\\n@lovingfeel\\n@luozenglin\\n@luzhijing\\n@MeiontheTop\\n@mh-boy\\n@morningman\\n@mrhhsg\\n@Myasuka\\n@nimuyuhan\\n@obobj\\n@pengxiangyu\\n@qidaye\\n@qzsee\\n@renzhimin7\\n@Royce33\\n@SleepyBear96\\n@smallhibiscus\\n@sodamnsure\\n@spaces-X\\n@sparklezzz\\n@stalary\\n@steadyBoy\\n@tarepanda1024\\n@THUMarkLau\\n@tianhui5\\n@tinkerrrr\\n@ucasfl\\n@Userwhite\\n@vinson0526\\n@wangbo\\n@wangshuo128\\n@wangyf0555\\n@weajun\\n@weizuo93\\n@whutpencil\\n@WindyGao\\n@wunan1210\\n@xiaokang\\n@xiaokangguo\\n@xiedeyantu\\n@xinghuayu007\\n@xingtanzjr\\n@xinyiZzz\\n@xtr1993\\n@xu20160924\\n@xuliuzhe\\n@xuzifu666\\n@xy720\\n@yangzhg\\n@yiguolei\\n@yinzhijian\\n@yjant\\n@zbtzbtzbt\\n@zenoyang\\n@zh0122\\n@zhangstar333\\n@zhannngchen\\n@zhengshengjun\\n@zhengshiJ\\n@ZhikaiZuo\\n@ztgoto\\n@zuochunwei\\n```"},{"id":"/release-note-0.15.0","metadata":{"permalink":"/zh-CN/blog/release-note-0.15.0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-blog/release-note-0.15.0.md","title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 0.15.0 Release","description":"\x3c!--","date":"2021-11-29T00:00:00.000Z","formattedDate":"2021\u5e7411\u670829\u65e5","tags":[{"label":"\u7248\u672c\u53d1\u5e03","permalink":"/zh-CN/blog/tags/\u7248\u672c\u53d1\u5e03"}],"truncated":false,"authors":[{"name":"Apache Doris"}],"frontMatter":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 0.15.0 Release","summary":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 0.15.0 Release","date":"2021-11-29","author":"Apache Doris","tags":["\u7248\u672c\u53d1\u5e03"]},"prevItem":{"title":"[Doris \u53d1\u7248\u901a\u544a] Apache Doris(Incubating) 1.0.0 Release","permalink":"/zh-CN/blog/release-note-1.0.0"}},"content":"\x3c!--\\nLicensed to the Apache Software Foundation (ASF) under one\\nor more contributor license agreements.  See the NOTICE file\\ndistributed with this work for additional information\\nregarding copyright ownership.  The ASF licenses this file\\nto you under the Apache License, Version 2.0 (the\\n\\"License\\"); you may not use this file except in compliance\\nwith the License.  You may obtain a copy of the License at\\n\\n  http://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing,\\nsoftware distributed under the License is distributed on an\\n\\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\nKIND, either express or implied.  See the License for the\\nspecific language governing permissions and limitations\\nunder the License.\\n--\x3e\\n\\n# Apache Doris(Incubating) 0.15.0 Release\\n\\n\u4eb2\u7231\u7684\u793e\u533a\u5c0f\u4f19\u4f34\u4eec\uff0c\u5386\u65f6\u6570\u4e2a\u6708\u7cbe\u5fc3\u6253\u78e8\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0c Apache Doris(incubating) \u4e8e 2021 \u5e74 11 \u6708 29 \u65e5\u8fce\u6765\u4e86 0.15.0 Release \u7248\u672c\u7684\u6b63\u5f0f\u53d1\u5e03\uff01\u6709 99 \u4f4d Contributor \u4e3a Apache Doris \u63d0\u4ea4\u4e86\u8fd1 700 \u9879\u4f18\u5316\u548c\u4fee\u590d\uff0c\u5728\u6b64\u6211\u4eec\u4e5f\u5bf9\u6240\u6709\u8d21\u732e\u8005\u8868\u793a\u6700\u771f\u8bda\u7684\u611f\u6fc0\uff01\\n\\n\u5728 0.15.0 Release \u7248\u672c\u4e2d\uff0c\u6211\u4eec\u589e\u52a0\u4e86\u8bf8\u591a\u65b0\u529f\u80fd\uff0c\u5bf9 Apache Doris \u7684\u67e5\u8be2\u6027\u80fd\u3001\u6613\u7528\u6027\u3001\u7a33\u5b9a\u6027\u65b9\u9762\u7b49\u8fdb\u884c\u4e86\u5168\u9762\u4f18\u5316\uff1a\u65b0\u589e\u8d44\u6e90\u5212\u5206\u548c\u9694\u79bb\u529f\u80fd\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8d44\u6e90\u6807\u7b7e\u7684\u65b9\u5f0f\u5c06\u96c6\u7fa4\u4e2d\u7684 BE \u8282\u70b9\u5212\u5206\u4e3a\u8d44\u6e90\u7ec4\uff0c\u5b9e\u73b0\u5bf9\u5728\u7ebf\u3001\u79bb\u7ebf\u4e1a\u52a1\u7684\u7edf\u4e00\u7ba1\u7406\u548c\u8d44\u6e90\u9694\u79bb\uff1b\u589e\u52a0\u4e86 Runtime Filter \u53ca Join Reorder \u529f\u80fd\uff0c\u5bf9\u591a\u8868 Join \u573a\u666f\u7684\u67e5\u8be2\u6548\u7387\u8fdb\u884c\u4e86\u5927\u5e45\u63d0\u5347\uff0c\u5728 Star Schema Benchmark \u6d4b\u8bd5\u6570\u636e\u96c6\u4e0b\u6709 2-10 \u500d\u7684\u6027\u80fd\u63d0\u5347\uff1b\u65b0\u589e\u5bfc\u5165\u65b9\u5f0f Binlog Load \uff0c\u4f7f Doris \u53ef\u4ee5\u589e\u91cf\u540c\u6b65 MySQL \u4e2d\u5bf9\u6570\u636e\u66f4\u65b0\u64cd\u4f5c\u7684 CDC \uff1b\u652f\u6301 String \u5217\u7c7b\u578b\uff0c\u957f\u5ea6\u6700\u5927\u652f\u6301 2GB \uff1b\u652f\u6301 List \u5206\u533a\u529f\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u679a\u4e3e\u503c\u521b\u5efa\u5206\u533a\uff1b\u652f\u6301 Unique Key \u6a21\u578b\u4e0a\u7684 Update \u8bed\u53e5\uff1bSpark-Doris-Connector \u652f\u6301\u6570\u636e\u5199\u5165 Doris \u2026\u2026\u8fd8\u6709\u66f4\u591a\u91cd\u8981\u7279\u6027\uff0c\u6b22\u8fce\u5927\u5bb6\u4e0b\u8f7d\u4f7f\u7528\u3002\\n\\n\u6211\u4eec\u6b22\u8fce\u5927\u5bb6\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4efb\u4f55\u95ee\u9898\u901a\u8fc7 GitHub Discussion \u6216\u8005 Dev \u90ae\u4ef6\u7ec4\u4e0e\u6211\u4eec\u53d6\u5f97\u8054\u7cfb\uff0c\u4e5f\u671f\u5f85\u5927\u5bb6\u53c2\u4e0e\u793e\u533a\u8ba8\u8bba\u548c\u5efa\u8bbe\u4e2d \u3002\\n\\n\\n## \u91cd\u8981\u66f4\u65b0 \\n\\n### \u8d44\u6e90\u5212\u5206\u4e0e\u9694\u79bb\\n\\n\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8d44\u6e90\u6807\u7b7e\u7684\u65b9\u5f0f\u5c06\u4e00\u4e2a Doris \u96c6\u7fa4\u4e2d\u7684 BE \u8282\u70b9\u5212\u5206\u6210\u591a\u4e2a\u8d44\u6e90\u7ec4\uff0c\u4ece\u800c\u53ef\u4ee5\u8fdb\u884c\u5728\u7ebf\u3001\u79bb\u7ebf\u4e1a\u52a1\u7684\u7edf\u4e00\u7ba1\u7406\u548c\u8282\u70b9\u7ea7\u522b\u7684\u8d44\u6e90\u9694\u79bb\u3002\\n\u540c\u65f6\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u9650\u5236\u5355\u4e2a\u67e5\u8be2\u4efb\u52a1\u7684 CPU\u3001\u5185\u5b58\u5f00\u9500\u4ee5\u53ca\u590d\u6742\u5ea6\uff0c\u6765\u63a7\u5236\u5355\u4e2a\u67e5\u8be2\u7684\u8d44\u6e90\u5f00\u9500\uff0c\u4ece\u800c\u964d\u4f4e\u4e0d\u540c\u67e5\u8be2\u4e4b\u95f4\u7684\u8d44\u6e90\u62a2\u5360\u95ee\u9898\u3002\\n\\n### \u6027\u80fd\u4f18\u5316\\n\\n* Runtime Filter \u529f\u80fd\u901a\u8fc7\u4f7f\u7528 Join \u7b97\u5b50\u4e2d\u53f3\u8868\u7684 Join Key \u5217\u6761\u4ef6\u6765\u8fc7\u6ee4\u5de6\u8868\u7684\u6570\u636e\uff0c\u5728\u5927\u90e8\u5206 Join \u573a\u666f\u4e0b\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u67e5\u8be2\u6548\u7387\u3002\u5982\u5728 Star Schema Benchmark ( TPCH \u7684\u7cbe\u7b80\u6d4b\u8bd5\u96c6) \u4e0b\u53ef\u4ee5\u83b7\u5f97 2-10 \u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\\n\\n* Join Reorder \u529f\u80fd\u53ef\u4ee5\u901a\u8fc7\u901a\u8fc7\u4ee3\u4ef7\u6a21\u578b\u81ea\u52a8\u5e2e\u52a9\u8c03\u6574 SQL \u4e2d Join \u7684\u987a\u5e8f\uff0c\u4ee5\u5e2e\u52a9\u83b7\u5f97\u6700\u4f18\u7684 Join \u6548\u7387\u3002\\n\u53ef\u901a\u8fc7\u4f1a\u8bdd\u53d8\u91cf  `set enable_cost_based_join_reorder=true`  \u5f00\u542f\u3002\\n\\n### \u65b0\u589e\u529f\u80fd\\n\\n* \u652f\u6301\u76f4\u63a5\u5bf9\u63a5 Canal Server \u540c\u6b65 MySQL binlog \u6570\u636e\u3002\\n* \u652f\u6301 String \u5217\u7c7b\u578b\uff0c\u6700\u5927\u652f\u6301 2GB \u3002\\n* \u652f\u6301 List \u5206\u533a\u529f\u80fd\uff0c\u53ef\u4ee5\u9488\u5bf9\u679a\u4e3e\u503c\u521b\u5efa\u5206\u533a\u3002\\n* \u652f\u6301\u4e8b\u52a1\u6027 Insert \u8bed\u53e5\u529f\u80fd\u3002\u53ef\u4ee5\u901a\u8fc7 begin ; insert ; insert; ,... ; commit ; \u7684\u65b9\u5f0f\u6279\u91cf\u5bfc\u5165\u6570\u636e\u3002\\n* \u652f\u6301\u5728 Unique Key \u6a21\u578b\u4e0a\u7684 Update \u8bed\u53e5\u529f\u80fd\u3002\u53ef\u4ee5\u5728 Unique Key \u6a21\u578b\u8868\u4e0a\u6267\u884c Update Set where \u8bed\u53e5\u3002\\n* \u652f\u6301 SQL \u963b\u585e\u540d\u5355\u529f\u80fd\u3002\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u3001Hash \u503c\u5339\u914d\u7b49\u65b9\u5f0f\u963b\u6b62\u90e8\u5206 SQL \u7684\u6267\u884c\u3002\\n* \u652f\u6301 LDAP \u767b\u9646\u9a8c\u8bc1\u3002\\n\\n### \u62d3\u5c55\u529f\u80fd\\n\\n* \u652f\u6301 Flink-Doris-Connector \u3002\\n* \u652f\u6301 DataX doriswriter \u63d2\u4ef6\u3002\\n* Spark-Doris-Connector \u652f\u6301\u6570\u636e\u5199\u5165 Doris \u3002\\n\\n\\n## \u529f\u80fd\u4f18\u5316 \\n\\n### \u67e5\u8be2\\n\\n* \u652f\u6301\u5728 SQL \u67e5\u8be2\u89c4\u5212\u9636\u6bb5\uff0c\u5229\u7528 BE \u7684\u51fd\u6570\u8ba1\u7b97\u80fd\u529b\u8ba1\u7b97\u6240\u6709\u5e38\u91cf\u8868\u8fbe\u5f0f\u3002\\n\\n### \u5bfc\u5165\\n\\n* \u652f\u6301\u5bfc\u5165\u6587\u672c\u683c\u5f0f\u6587\u4ef6\u65f6\uff0c\u6307\u5b9a\u591a\u5b57\u8282\u884c\u5217\u5206\u9694\u7b26\u6216\u4e0d\u53ef\u89c1\u5206\u9694\u7b26\u3002\\n* \u652f\u6301\u901a\u8fc7 Stream Load \u5bfc\u5165\u538b\u7f29\u683c\u5f0f\u6587\u4ef6\u3002\\n* Stream Load\u652f\u6301\u5bfc\u5165\u591a\u884c\u683c\u5f0f\u7684 Json \u6570\u636e\u3002\\n\\n### \u5bfc\u51fa\\n\\n* \u652f\u6301 Export \u5bfc\u51fa\u529f\u80fd\u6307\u5b9a where \u8fc7\u6ee4\u6761\u4ef6\u3002\u652f\u6301\u5bfc\u51fa\u6587\u4ef6\u4f7f\u7528\u591a\u5b57\u8282\u884c\u5217\u5206\u9694\u7b26\u3002\u652f\u6301\u5bfc\u51fa\u5230\u672c\u5730\u6587\u4ef6\u3002\\n* Export \u5bfc\u51fa\u529f\u80fd\u652f\u6301\u4ec5\u5bfc\u51fa\u6307\u5b9a\u7684\u5217\u3002\\n* \u652f\u6301\u901a\u8fc7 outfile \u8bed\u53e5\u5bfc\u51fa\u7ed3\u679c\u96c6\u5230\u672c\u5730\u78c1\u76d8\uff0c\u5e76\u652f\u6301\u5bfc\u51fa\u540e\u5199\u5165\u5bfc\u51fa\u6210\u529f\u7684\u6807\u8bb0\u6587\u4ef6\u3002\\n\\n### \u6613\u7528\u6027\\n\\n* \u52a8\u6001\u5206\u533a\u529f\u80fd\u652f\u6301\u521b\u5efa\u3001\u4fdd\u7559\u6307\u5b9a\u7684\u5386\u53f2\u5206\u533a\u3001\u652f\u6301\u81ea\u52a8\u51b7\u70ed\u6570\u636e\u8fc1\u79fb\u8bbe\u7f6e\u3002\\n* \u652f\u6301\u5728\u547d\u4ee4\u884c\u4f7f\u7528\u53ef\u89c6\u5316\u7684\u6811\u5f62\u7ed3\u6784\u5c55\u793a\u67e5\u8be2\u3001\u5bfc\u5165\u7684\u8ba1\u5212\u548c Profile\u3002\\n* \u652f\u6301\u8bb0\u5f55\u5e76\u67e5\u770b Stream Load \u64cd\u4f5c\u65e5\u5fd7\u3002\\n* \u901a\u8fc7 Routine Load \u6d88\u8d39 Kafka \u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9a\u65f6\u95f4\u70b9\u8fdb\u884c\u6d88\u8d39\u3002\\n* \u652f\u6301\u901a\u8fc7 show create routine load \u529f\u80fd\u5bfc\u51fa Routine Load \u7684\u521b\u5efa\u8bed\u53e5\u3002\\n* \u652f\u6301\u901a\u8fc7 pause/resume all routine load \u547d\u4ee4\u4e00\u952e\u542f\u505c\u6240\u6709 Routine Load Job\u3002\\n* \u652f\u6301\u901a\u8fc7 alter routine load \u8bed\u53e5\u4fee\u6539 Routine Load \u7684 Broker List \u548c Topic\u3002\\n* \u652f\u6301 create table as select \u529f\u80fd\u3002\\n* \u652f\u6301\u901a\u8fc7 alter table \u547d\u4ee4\u4fee\u6539\u5217\u6ce8\u91ca\u548c\u8868\u6ce8\u91ca\u3002\\n* show tablet status \u589e\u52a0\u8868\u521b\u5efa\u65f6\u95f4\u3001\u6570\u636e\u66f4\u65b0\u65f6\u95f4\u3002\\n* \u652f\u6301\u901a\u8fc7 show data skew \u547d\u4ee4\u67e5\u770b\u8868\u7684\u6570\u636e\u91cf\u5206\u5e03\uff0c\u4ee5\u6392\u67e5\u6570\u636e\u503e\u659c\u95ee\u9898\u3002\\n* \u652f\u6301\u901a\u8fc7 show/clean trash \u547d\u4ee4\u67e5\u770b BE \u6587\u4ef6\u56de\u6536\u7ad9\u7684\u78c1\u76d8\u5360\u7528\u60c5\u51b5\u5e76\u4e3b\u52a8\u6e05\u9664\u3002\\n* \u652f\u6301\u901a\u8fc7 show view \u8bed\u53e5\u5c55\u793a\u4e00\u4e2a\u8868\u88ab\u54ea\u4e9b\u89c6\u56fe\u6240\u5f15\u7528\u3002\\n\\n### \u65b0\u589e\u51fd\u6570\\n\\n* `bitmap_min`, `bit_length`\\n* `yearweek`, `week`, `makedate`\\n* `percentile` \u7cbe\u786e\u767e\u5206\u4f4d\u51fd\u6570\\n* `json_array`\uff0c`json_object`\uff0c`json_quote`\\n* \u652f\u6301\u4e3a `AES_ENCRYPT` \u548c `AES_DECRYPT` \u51fd\u6570\u521b\u5efa\u81ea\u5b9a\u4e49\u516c\u94a5\u3002\\n* \u652f\u6301\u901a\u8fc7 `create alias function` \u521b\u5efa\u51fd\u6570\u522b\u540d\u6765\u7ec4\u5408\u591a\u4e2a\u51fd\u6570\u3002\\n\\n### \u5176\u4ed6\\n\\n* \u652f\u6301\u8bbf\u95ee SSL \u8fde\u63a5\u534f\u8bae\u7684ES\u5916\u8868\u3002\\n* \u652f\u6301\u5728\u52a8\u6001\u5206\u533a\u5c5e\u6027\u4e2d\u6307\u5b9a\u70ed\u70b9\u5206\u533a\u7684\u6570\u91cf\uff0c\u70ed\u70b9\u5206\u533a\u5c06\u5b58\u50a8\u5728 SSD \u78c1\u76d8\u4e2d\u3002\\n* \u652f\u6301\u901a\u8fc7 Broker Load \u5bfc\u5165 Json \u683c\u5f0f\u6570\u636e\u3002\\n* \u652f\u6301\u76f4\u63a5\u901a\u8fc7 libhdfs3 \u5e93\u8bbf\u95ee HDFS \u8fdb\u884c\u6570\u636e\u7684\u5bfc\u5165\u5bfc\u51fa\uff0c\u800c\u4e0d\u9700\u8981 Broker \u8fdb\u7a0b\u3002\\n* select into outfile \u529f\u80fd\u652f\u6301\u5bfc\u51fa Parquet \u6587\u4ef6\u683c\u5f0f\uff0c\u5e76\u652f\u6301\u5e76\u884c\u5bfc\u51fa\u3002\\n* ODBC \u5916\u8868\u652f\u6301 SQLServer\u3002 \\n\\n## \u81f4\u8c22  \\n\\nApache Doris(incubating) 0.15.0 Release \u7248\u672c\u7684\u53d1\u5e03\u79bb\u4e0d\u5f00\u6240\u6709\u793e\u533a\u7528\u6237\u7684\u652f\u6301\uff0c\u5728\u6b64\u5411\u6240\u6709\u53c2\u4e0e\u7248\u672c\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u8ba8\u8bba\u7684\u793e\u533a\u8d21\u732e\u8005\u4eec\u8868\u793a\u611f\u8c22\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff1a\\n\\n* [@924060929](https://github.com/924060929)\\n* [@acelyc111](https://github.com/acelyc111)\\n* [@Aimiyoo](https://github.com/Aimiyoo)\\n* [@amosbird](https://github.com/amosbird)\\n* [@arthur-zhang](https://github.com/arthur-zhang)\\n* [@azurenake](https://github.com/azurenake)\\n* [@BiteTheDDDDt](https://github.com/BiteTheDDDDt)\\n* [@caiconghui](https://github.com/caiconghui)\\n* [@caneGuy](https://github.com/caneGuy)\\n* [@caoliang-web](https://github.com/caoliang-web)\\n* [@ccoffline](https://github.com/ccoffline)\\n* [@chaplinthink](https://github.com/chaplinthink)\\n* [@chovy-3012](https://github.com/chovy-3012)\\n* [@ChPi](https://github.com/ChPi)\\n* [@copperybean](https://github.com/copperybean)\\n* [@crazyleeyang](https://github.com/crazyleeyang)\\n* [@dh-cloud](https://github.com/dh-cloud)\\n* [@DinoZhang](https://github.com/DinoZhang)\\n* [@dixingxing0](https://github.com/dixingxing0)\\n* [@dohongdayi](https://github.com/dohongdayi)\\n* [@e0c9](https://github.com/e0c9)\\n* [@EmmyMiao87](https://github.com/EmmyMiao87)\\n* [@eyesmoons](https://github.com/eyesmoons)\\n* [@francisoliverlee](https://github.com/francisoliverlee)\\n* [@Gabriel39](https://github.com/Gabriel39)\\n* [@gaodayue](https://github.com/gaodayue)\\n* [@GoGoWen](https://github.com/GoGoWen)\\n* [@HappenLee](https://github.com/HappenLee)\\n* [@harveyyue](https://github.com/harveyyue)\\n* [@Henry2SS](https://github.com/Henry2SS)\\n* [@hf200012](https://github.com/hf200012)\\n* [@huangmengbin](https://github.com/huangmengbin)\\n* [@huozhanfeng](https://github.com/huozhanfeng)\\n* [@huzk8](https://github.com/huzk8)\\n* [@hxianshun](https://github.com/hxianshun)\\n* [@ikaruga4600](https://github.com/ikaruga4600)\\n* [@JameyWoo](https://github.com/JameyWoo)\\n* [@Jennifer88huang](https://github.com/Jennifer88huang)\\n* [@JinLiOnline](https://github.com/JinLiOnline)\\n* [@jinyuanlu](https://github.com/jinyuanlu)\\n* [@JNSimba](https://github.com/JNSimba)\\n* [@killxdcj](https://github.com/killxdcj)\\n* [@kuncle](https://github.com/kuncle)\\n* [@liutang123](https://github.com/liutang123)\\n* [@luozenglin](https://github.com/luozenglin)\\n* [@luzhijing](https://github.com/luzhijing)\\n* [@MarsXDM](https://github.com/MarsXDM)\\n* [@mh-boy](https://github.com/mh-boy)\\n* [@mk8310](https://github.com/mk8310)\\n* [@morningman](https://github.com/morningman)\\n* [@Myasuka](https://github.com/Myasuka)\\n* [@nimuyuhan](https://github.com/nimuyuhan)\\n* [@pan3793](https://github.com/pan3793)\\n* [@PatrickNicholas](https://github.com/PatrickNicholas)\\n* [@pengxiangyu](https://github.com/pengxiangyu)\\n* [@pierre94](https://github.com/pierre94)\\n* [@qidaye](https://github.com/qidaye)\\n* [@qzsee](https://github.com/qzsee)\\n* [@shiyi23](https://github.com/shiyi23)\\n* [@smallhibiscus](https://github.com/smallhibiscus)\\n* [@songenjie](https://github.com/songenjie)\\n* [@spaces-X](https://github.com/spaces-X)\\n* [@stalary](https://github.com/stalary)\\n* [@stdpain](https://github.com/stdpain)\\n* [@Stephen-Robin](https://github.com/Stephen-Robin)\\n* [@Sunt-ing](https://github.com/Sunt-ing)\\n* [@Taaang](https://github.com/Taaang)\\n* [@tarepanda1024](https://github.com/tarepanda1024)\\n* [@tianhui5](https://github.com/tianhui5)\\n* [@tinkerrrr](https://github.com/tinkerrrr)\\n* [@TobKed](https://github.com/TobKed)\\n* [@ucasfl](https://github.com/ucasfl)\\n* [@Userwhite](https://github.com/Userwhite)\\n* [@vinson0526](https://github.com/vinson0526)\\n* [@wangbo](https://github.com/wangbo)\\n* [@wangliansong](https://github.com/wangliansong)\\n* [@wangshuo128](https://github.com/wangshuo128)\\n* [@weajun](https://github.com/weajun)\\n* [@weihongkai2008](https://github.com/weihongkai2008)\\n* [@weizuo93](https://github.com/weizuo93)\\n* [@WindyGao](https://github.com/WindyGao)\\n* [@wunan1210](https://github.com/wunan1210)\\n* [@wuyunfeng](https://github.com/wuyunfeng)\\n* [@xhmz](https://github.com/xhmz)\\n* [@xiaokangguo](https://github.com/xiaokangguo)\\n* [@xiaoxiaopan118](https://github.com/xiaoxiaopan118)\\n* [@xinghuayu007](https://github.com/xinghuayu007)\\n* [@xinyiZzz](https://github.com/xinyiZzz)\\n* [@xuliuzhe](https://github.com/xuliuzhe)\\n* [@xxiao2018](https://github.com/xxiao2018)\\n* [@xy720](https://github.com/xy720)\\n* [@yangzhg](https://github.com/yangzhg)\\n* [@yx91490](https://github.com/yx91490)\\n* [@zbtzbtzbt](https://github.com/zbtzbtzbt)\\n* [@zenoyang](https://github.com/zenoyang)\\n* [@zh0122](https://github.com/zh0122)\\n* [@zhangboya1](https://github.com/zhangboya1)\\n* [@zhangstar333](https://github.com/zhangstar333)\\n* [@zuochunwei](https://github.com/zuochunwei)"}]}')}}]);